/* @banner futils | www.npmjs.com/package/futils */
"use strict";var typeOf=function(n){return null===n?"Null":void 0===n?"Void":void 0!==n.__type__?n.__type__:n.constructor.name},classCallCheck=function(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")},createClass=function(){function t(n,r){for(var e=0;e<r.length;e++){var t=r[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}return function(n,r,e){return r&&t(n.prototype,r),e&&t(n,e),n}}(),toConsumableArray=function(n){if(Array.isArray(n)){for(var r=0,e=Array(n.length);r<n.length;r++)e[r]=n[r];return e}return Array.from(n)},compareEq=function e(r,t){var n=typeOf(r);if(n!==typeOf(t))return!1;switch(n){case"Null":case"Void":case"Boolean":case"String":case"Number":case"Function":case"GeneratorFunction":case"Promise":case"Proxy":case"Symbol":case"IO":case"Task":case"State":case"State.Value":case"DataBuffer":case"ArrayBuffer":case"SharedArrayBuffer":case"UInt8Array":case"UInt8ClampedArray":case"UInt16Array":case"UInt64Array":case"Float32Array":case"Float64Array":case"TypedArray":return r===t;case"Date":return t.valueOf()===r.valueOf();case"RegExp":return t.toString()===r.toString();case"Array":return t.length===r.length&&r.every(function(n,r){return e(n,t[r])});case"Object":return Object.keys(r).every(function(n){return e(r[n],t[n])})&&Object.keys(t).every(function(n){return e(r[n],t[n])});case"Set":case"Map":return e([].concat(toConsumableArray(t.entries())),[].concat(toConsumableArray(r.entries())));case"Error":case"EvalError":case"TypeError":case"RangeError":case"SyntaxError":case"ReferenceError":return r.name===t.name&&r.message===t.message;default:return e(r.value,t.value)}},Eq=function(){function n(){classCallCheck(this,n)}return createClass(n,null,[{key:"mixInto",value:function(n){if(n&&n.prototype)return n.prototype.equals=function(n){return compareEq(this,n)},n;throw"Cannot derive Eq from "+typeOf(n)}}]),n}(),equals=function r(e,n){return arguments.length<2?function(n){return r(e,n)}:null!=n&&"function"==typeof n.equals?n.equals(e):compareEq(e,n)},concat=function r(e,n){return null==n?function(n){return r(e,n)}:n.concat(e)},map=function r(e,n){return null==n?function(n){return r(e,n)}:n.map(e)},ap=function r(e,n){return null==n?function(n){return r(e,n)}:e.ap(n)},flat=function(n){return null==n?n:n.flat?n.flat():n.reduce(function(n,r){return n.concat(r)},[])},flatMap=function r(e,n){return null==n?function(n){return r(e,n)}:n.flatMap?n.flatMap(e):n.reduce(function(n,r){return n.concat(e(r))},[])},filter=function r(e,n){return null==n?function(n){return r(e,n)}:n.filter(e)},fold=function r(e,n){return null==n?function(n){return r(e,n)}:n.fold?n.fold(e):n.reduce(function(n,r){return n.concat(e.of(r))},e.empty())},foldMap=function r(e,n){return null==n?function(n){return r(e,n)}:n.foldMap?n.foldMap(e):n.reduce(function(n,r){return null==n?e(r):n.concat(e(r))},null)},reduce=function e(t,r,n){return null==r?function(n,r){return e(t,n,r)}:null==n?function(n){return e(t,r,n)}:n.reduce(t,r)},reduceRight=function e(t,r,n){return null==r?function(n,r){return e(t,n,r)}:null==n?function(n){return e(t,r,n)}:n.reduceRight(t,r)},traverse=function e(t,r,n){return null==r?function(n,r){return e(t,n,r)}:null==n?function(n){return e(t,r,n)}:n.traverse?n.traverse(t,r):n.reduce(function(n,r){return n.concat(t(r))},r.of([]))},sequence=function r(e,n){return null==n?function(n){return r(e,n)}:n.sequence?n.sequence(e):n.reduce(function(n,r){return n.concat(r)},e.of([]))},doM=function(n){var t=n();return function n(r){var e=t.next(r);return e.done?e.value:e.value.flatMap(n)}()},liftA=function u(a,t){for(var n=arguments.length,r=Array(2<n?n-2:0),e=2;e<n;e++)r[e-2]=arguments[e];return null==t?function(n){for(var r=arguments.length,e=Array(1<r?r-1:0),t=1;t<r;t++)e[t-1]=arguments[t];return u.apply(void 0,[a,n].concat(e))}:r.length<1?function(){for(var n=arguments.length,r=Array(n),e=0;e<n;e++)r[e]=arguments[e];return u.apply(void 0,[a,t].concat(r))}:r.reduce(function(n,r){return n.ap(r)},t.map(a))},_fst=function(n){return"string"==typeof n||isNaN(n.length)?n:null==n[0]?null:n[0]},head=function(n){return null==n?null:"Cons"===n.__type__||"Nil"===n.__type__?n.head:_fst(n)},_rst=function(n){return"string"==typeof n||isNaN(n.length)?[n]:Array.from(n).slice(1)},tail=function(n){return null==n?[]:"Cons"===n.__type__||"Nil"===n.__type__?n.tail:_rst(n)},_take=function(n,r){return"string"==typeof r||isNaN(r.length)?[r]:Array.from(r).slice(0,n)},take=function r(e,n){return null==n?function(n){return r(e,n)}:n.take?n.take(e):_take(e,n)},_drop=function(n,r){return"string"==typeof r||isNaN(r.length)?[r]:Array.from(r).slice(n)},drop=function r(e,n){return null==n?function(n){return r(e,n)}:n.drop?n.drop(e):_drop(e,n)},_find=function(n,r){var e=r.find(n);return null==e?null:e},find=function r(e,n){return null==n?function(n){return r(e,n)}:Array.isArray(n)?_find(e,n):n.find(e)},gets=function(n,r){return r.has(n)?r.get(n):null},prop=function r(e,n){return null==n?function(n){return r(e,n)}:"Map"===n.constructor.name?gets(e,n):n.hasOwnProperty(e)?n[e]:null},__export={equals:equals,concat:concat,map:map,ap:ap,flat:flat,flatMap:flatMap,filter:filter,fold:fold,foldMap:foldMap,reduce:reduce,reduceRight:reduceRight,traverse:traverse,sequence:sequence,doM:doM,liftA:liftA,head:head,tail:tail,take:take,drop:drop,find:find,prop:prop};module.exports=__export;
