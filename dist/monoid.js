/* @banner futils | www.npmjs.com/package/futils */
"use strict";var typeOf=function(e){return null===e?"Null":void 0===e?"Void":void 0!==e.__type__?e.__type__:e.constructor.name},arity=function(e,v){if("number"!=typeof e||isNaN(e)||!isFinite(e))throw"Aritiy of a function cannot be "+e;if("function"!=typeof v)throw v+" does not have an arity, only functions have";switch(Math.abs(e)){case 1:return function(e){return v(e)};case 2:return function(e,r){return v(e,r)};case 3:return function(e,r,t){return v(e,r,t)};case 4:return function(e,r,t,n){return v(e,r,t,n)};case 5:return function(e,r,t,n,a){return v(e,r,t,n,a)};case 6:return function(e,r,t,n,a,o){return v(e,r,t,n,a,o)};case 7:return function(e,r,t,n,a,o,u){return v(e,r,t,n,a,o,u)};case 8:return function(e,r,t,n,a,o,u,c){return v(e,r,t,n,a,o,u,c)};case 9:return function(e,r,t,n,a,o,u,c,i){return v(e,r,t,n,a,o,u,c,i)};case 10:return function(e,r,t,n,a,o,u,c,i,s){return v(e,r,t,n,a,o,u,c,i,s)};case 11:return function(e,r,t,n,a,o,u,c,i,s,f){return v(e,r,t,n,a,o,u,c,i,s,f)};case 12:return function(e,r,t,n,a,o,u,c,i,s,f,l){return v(e,r,t,n,a,o,u,c,i,s,f,l)};case 13:return function(e,r,t,n,a,o,u,c,i,s,f,l,y){return v(e,r,t,n,a,o,u,c,i,s,f,l,y)};case 14:return function(e,r,t,n,a,o,u,c,i,s,f,l,y,p){return v(e,r,t,n,a,o,u,c,i,s,f,l,y,p)};case 15:return function(e,r,t,n,a,o,u,c,i,s,f,l,y,p,h){return v(e,r,t,n,a,o,u,c,i,s,f,l,y,p,h)};case 16:return function(e,r,t,n,a,o,u,c,i,s,f,l,y,p,h,d){return v(e,r,t,n,a,o,u,c,i,s,f,l,y,p,h,d)};default:return v}},classCallCheck=function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")},createClass=function(){function n(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,r,t){return r&&n(e.prototype,r),t&&n(e,t),e}}(),slicedToArray=function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,r){var t=[],n=!0,a=!1,o=void 0;try{for(var u,c=e[Symbol.iterator]();!(n=(u=c.next()).done)&&(t.push(u.value),!r||t.length!==r);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&c.return&&c.return()}finally{if(a)throw o}}return t}(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")},toConsumableArray=function(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)},TYPE=Symbol("@@type"),VALS=Symbol("@@values"),def=function(e,r,t){return Object.defineProperty(e,r,{enumerable:!1,writable:!1,configurable:!1,value:t})},initT=function(e,r,n,t){if(r.length===n.length){var a=Object.create(t);return a.__type__=a[TYPE]=e,a.__values__=a[VALS]=r,r.reduce(function(e,r,t){return e[r]=n[t],e},a)}throw e+" awaits "+r.length+" arguments but got "+n.length},makeCtor=function(n,a,o){switch(a.length){case 0:return function(){return initT(n,a,[],o)};default:return arity(a.length,function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return initT(n,a,r,o)})}},deriveT=function(n){return function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.reduce(function(e,r){return r.mixInto(e)},n)}},Type=function(r,e){var t={},n=makeCtor(r,e,t);return def(n,"is",function(e){return e&&e[TYPE]===r}),def(n,"deriving",deriveT(n)),n.fn=n.prototype=t,n.prototype.constructor=n},showT=function a(r){if(null===r)return"Null";if(void 0===r)return"Void";if(null!=r.__type__)return r.__values__.length<1?r.__type__:r.__type__+"("+r.__values__.map(function(e){return a(r[e])}).join(", ")+")";switch(r.constructor.name){case"Boolean":case"String":case"Number":case"RegExp":case"Symbol":return r.toString();case"Function":case"GeneratorFunction":case"Promise":case"Proxy":case"DataBuffer":case"ArrayBuffer":case"SharedArrayBuffer":case"UInt8Array":case"UInt8ClampedArray":case"UInt16Array":case"UInt64Array":case"Float32Array":case"Float64Array":case"TypedArray":case"Error":case"EvalError":case"TypeError":case"RangeError":case"SyntaxError":case"ReferenceError":return r.constructor.name;case"Date":return r.getFullYear()+"-"+(r.getMonth()+1)+"-"+r.getDate();case"Array":return"["+r.map(a).join(", ")+"]";case"Object":return"{"+Object.keys(r).map(function(e){return e+": "+a(r[e])}).join(", ")+"}";case"Set":return"Set("+[].concat(toConsumableArray(r.entries())).map(function(e){var r=slicedToArray(e,2),t=r[0],n=r[1];return t+": "+a(n)}).join(", ")+")";case"Map":return"Map("+[].concat(toConsumableArray(r.entries())).map(function(e){var r=slicedToArray(e,2),t=r[0],n=r[1];return t+": "+a(n)}).join(", ")+")";default:return""+r}},Show=function(){function e(){classCallCheck(this,e)}return createClass(e,null,[{key:"mixInto",value:function(e){if(e&&e.prototype)return e.prototype.toString=function(){return showT(this)},e.prototype.inspect=function(){return this.toString()},e;throw"Cannot derive Show from "+typeOf(e)}}]),e}(),compareEq=function n(a,o){var e=typeOf(a);if(e!==typeOf(o))return!1;switch(e){case"Null":case"Void":case"Boolean":case"String":case"Number":case"Function":case"GeneratorFunction":case"Promise":case"Proxy":case"Symbol":case"IO":case"Task":case"State":case"State.Value":case"DataBuffer":case"ArrayBuffer":case"SharedArrayBuffer":case"UInt8Array":case"UInt8ClampedArray":case"UInt16Array":case"UInt64Array":case"Float32Array":case"Float64Array":case"TypedArray":return a===o;case"Date":return o.valueOf()===a.valueOf();case"RegExp":return o.toString()===a.toString();case"Array":return o.length===a.length&&a.every(function(e,r){return n(e,o[r])});case"Object":return Object.keys(a).every(function(e){return n(a[e],o[e])})&&Object.keys(o).every(function(e){return n(a[e],o[e])});case"Set":case"Map":return n([].concat(toConsumableArray(o.entries())),[].concat(toConsumableArray(a.entries())));case"Error":case"EvalError":case"TypeError":case"RangeError":case"SyntaxError":case"ReferenceError":return a.name===o.name&&a.message===o.message;default:return"value"in a?n(a.value,o.value):a.__values__.reduce(function(e,t){return o.__values__.reduce(function(e,r){return!!e&&n(a[t],o[r])},e)},!0)}},Eq=function(){function e(){classCallCheck(this,e)}return createClass(e,null,[{key:"mixInto",value:function(e){if(e&&e.prototype)return e.prototype.equals=function(e){return compareEq(this,e)},e;throw"Cannot derive Eq from "+typeOf(e)}}]),e}(),compareOrd=function n(a,o){var e=typeOf(a),r=typeOf(o);if(e===r)switch(e){case"String":return a.localeCompare(o)<0;case"Number":case"Date":return a<o;case"Array":return a.length<o.length&&a.every(function(e,r){return n(e,o[r])});case"Object":return Object.keys(a).every(function(e){return n(a[e],o[e])});case"Set":case"Map":return n([].concat(toConsumableArray(a.entries())),[].concat(toConsumableArray(o.entries())));case"Null":case"Void":case"Boolean":case"RegExp":case"Error":case"EvalError":case"TypeError":case"RangeError":case"SyntaxError":case"ReferenceError":case"Function":case"GeneratorFunction":case"Promise":case"Proxy":case"Symbol":case"IO":case"Task":case"State":case"State.Value":case"DataBuffer":case"ArrayBuffer":case"SharedArrayBuffer":case"UInt8Array":case"UInt8ClampedArray":case"UInt16Array":case"UInt64Array":case"Float32Array":case"Float64Array":case"TypedArray":return!1;default:return"value"in a?n(a.value,o.value):a.__values__.reduce(function(e,t){return o.__values__.reduce(function(e,r){return!!e&&n(a[t],o[r])},e)},!0)}throw"Cannot order value of type "+e+" with value of type "+r},Ord=function(){function e(){classCallCheck(this,e)}return createClass(e,null,[{key:"mixInto",value:function(e){if(e&&e.prototype&&e.prototype.equals)return e.prototype.lt=function(e){return compareOrd(this,e)},e.prototype.lte=function(e){return this.lt(e)||this.equals(e)},e.prototype.gt=function(e){return!this.lte(e)},e.prototype.gte=function(e){return!this.lt(e)||this.equals(e)},e;throw"Cannot derive Ord from "+typeOf(e)}}]),e}(),Sum=Type("Sum",["value"]).deriving(Show,Eq,Ord);Sum.of=function(e){return"number"!=typeof e||isNaN(e)?Sum(0):Sum(e)},Sum.empty=function(){return Sum(0)},Sum.fn.concat=function(e){if(Sum.is(e))return Sum(this.value+e.value);throw"Sum::concat cannot append "+typeOf(e)+" to "+typeOf(this)};var Product=Type("Product",["value"]).deriving(Show,Eq,Ord);Product.of=function(e){return"number"!=typeof e||isNaN(e)?Product(1):Product(e)},Product.empty=function(){return Product(1)},Product.fn.concat=function(e){if(Product.is(e))return Product(this.value*e.value);throw"Product::concat cannot append "+typeOf(e)+" to "+typeOf(this)};var Min=Type("Min",["value"]).deriving(Show,Eq,Ord);Min.of=function(e){return"number"!=typeof e||isNaN(e)?Min(1/0):Min(e)},Min.empty=function(){return Min(1/0)},Min.fn.concat=function(e){if(Min.is(e))return this.lt(e)?this:e;throw"Min::concat cannot append "+typeOf(e)+" to "+typeOf(this)};var Max=Type("Max",["value"]).deriving(Show,Eq,Ord);Max.of=function(e){return"number"!=typeof e||isNaN(e)?Max(-1/0):Max(e)},Max.empty=function(){return Max(-1/0)},Max.fn.concat=function(e){if(Max.is(e))return this.gt(e)?this:e;throw"Max::concat cannot append "+typeOf(e)+" to "+typeOf(this)};var Char=Type("Char",["value"]).deriving(Show,Eq,Ord);Char.of=function(e){return Char("string"==typeof e?e:"")},Char.empty=function(){return Char("")},Char.fn.concat=function(e){if(Char.is(e))return Char(this.value.concat(e.value));throw"Char::concat cannot append "+typeOf(e)+" to "+typeOf(this)};var Fn=Type("Fn",["value"]).deriving(Show,Eq);Fn.of=function(e){return Fn("function"==typeof e?e:function(e){return e})},Fn.empty=function(){return Fn(function(e){return e})},Fn.fn.concat=function(r){var t=this;if(Fn.is(r))return Fn(function(e){return r.value(t.value(e))});throw"Fn::concat cannot append "+typeOf(r)+" to "+typeOf(this)};var Any=Type("Any",["value"]).deriving(Show,Eq,Ord);Any.of=function(e){return Any("boolean"==typeof e&&e)},Any.empty=function(){return Any(!1)},Any.fn.concat=function(e){if(Any.is(e))return this.value?this:Any(!!e.value);throw"Any::concat cannot append "+typeOf(e)+" to "+typeOf(this)};var All=Type("All",["value"]).deriving(Show,Eq,Ord);All.of=function(e){return All("boolean"!=typeof e||e)},All.empty=function(){return All(!0)},All.fn.concat=function(e){if(All.is(e))return this.value?All(!!this.value&&!!e.value):this;throw"All::concat cannot append "+typeOf(e)+" to "+typeOf(this)};var Record=Type("Record",["value"]).deriving(Show,Eq,Ord);Record.of=function(e){return"Object"===typeOf(e)?Record(e):Record({})},Record.empty=function(){return Record({})},Record.fn.concat=function(e){if(Record.is(e))return Record(Object.assign({},this.value,e.value));throw"Record::concat cannot append "+typeOf(e)+" to "+typeOf(this)};var __export={Sum:Sum,Product:Product,Min:Min,Max:Max,Char:Char,Fn:Fn,Any:Any,All:All,Record:Record};module.exports=__export;
