<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>futils/lenses - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-futils_aritize.html">futils/aritize</a><ul class='methods'><li data-type='method'><a href="module-futils_aritize.html#~aritize">aritize</a></li></ul></li><li><a href="module-futils_combinators.html">futils/combinators</a><ul class='methods'><li data-type='method'><a href="module-futils_combinators.html#~and">and</a></li><li data-type='method'><a href="module-futils_combinators.html#~compose">compose</a></li><li data-type='method'><a href="module-futils_combinators.html#~getter">getter</a></li><li data-type='method'><a href="module-futils_combinators.html#~identity">identity</a></li><li data-type='method'><a href="module-futils_combinators.html#~or">or</a></li><li data-type='method'><a href="module-futils_combinators.html#~pipe">pipe</a></li><li data-type='method'><a href="module-futils_combinators.html#~splat">splat</a></li><li data-type='method'><a href="module-futils_combinators.html#~tap">tap</a></li></ul></li><li><a href="module-futils_comparators.html">futils/comparators</a><ul class='methods'><li data-type='method'><a href="module-futils_comparators.html#~eq">eq</a></li><li data-type='method'><a href="module-futils_comparators.html#~gt">gt</a></li><li data-type='method'><a href="module-futils_comparators.html#~gte">gte</a></li><li data-type='method'><a href="module-futils_comparators.html#~locals">locals</a></li><li data-type='method'><a href="module-futils_comparators.html#~lt">lt</a></li><li data-type='method'><a href="module-futils_comparators.html#~lte">lte</a></li></ul></li><li><a href="module-futils_decorators.html">futils/decorators</a><ul class='methods'><li data-type='method'><a href="module-futils_decorators.html#~curry">curry</a></li><li data-type='method'><a href="module-futils_decorators.html#~curryRight">curryRight</a></li><li data-type='method'><a href="module-futils_decorators.html#~dyadic">dyadic</a></li><li data-type='method'><a href="module-futils_decorators.html#~flip">flip</a></li><li data-type='method'><a href="module-futils_decorators.html#~given">given</a></li><li data-type='method'><a href="module-futils_decorators.html#~maybe">maybe</a></li><li data-type='method'><a href="module-futils_decorators.html#~memoize">memoize</a></li><li data-type='method'><a href="module-futils_decorators.html#~monadic">monadic</a></li><li data-type='method'><a href="module-futils_decorators.html#~not">not</a></li><li data-type='method'><a href="module-futils_decorators.html#~once">once</a></li><li data-type='method'><a href="module-futils_decorators.html#~partial">partial</a></li><li data-type='method'><a href="module-futils_decorators.html#~partialRight">partialRight</a></li><li data-type='method'><a href="module-futils_decorators.html#~tetradic">tetradic</a></li><li data-type='method'><a href="module-futils_decorators.html#~triadic">triadic</a></li></ul></li><li><a href="module-futils_enums.html">futils/enums</a><ul class='methods'><li data-type='method'><a href="module-futils_enums.html#~access">access</a></li><li data-type='method'><a href="module-futils_enums.html#~assoc">assoc</a></li><li data-type='method'><a href="module-futils_enums.html#~exec">exec</a></li><li data-type='method'><a href="module-futils_enums.html#~execRight">execRight</a></li><li data-type='method'><a href="module-futils_enums.html#~extend">extend</a></li><li data-type='method'><a href="module-futils_enums.html#~field">field</a></li><li data-type='method'><a href="module-futils_enums.html#~first">first</a></li><li data-type='method'><a href="module-futils_enums.html#~flatMap">flatMap</a></li><li data-type='method'><a href="module-futils_enums.html#~flatten">flatten</a></li><li data-type='method'><a href="module-futils_enums.html#~has">has</a></li><li data-type='method'><a href="module-futils_enums.html#~immutable">immutable</a></li><li data-type='method'><a href="module-futils_enums.html#~last">last</a></li><li data-type='method'><a href="module-futils_enums.html#~map">map</a></li><li data-type='method'><a href="module-futils_enums.html#~merge">merge</a></li></ul></li><li><a href="module-futils_lenses.html">futils/lenses</a><ul class='methods'><li data-type='method'><a href="module-futils_lenses.html#~lens">lens</a></li><li data-type='method'><a href="module-futils_lenses.html#~makeLenses">makeLenses</a></li><li data-type='method'><a href="module-futils_lenses.html#~mappedLens">mappedLens</a></li><li data-type='method'><a href="module-futils_lenses.html#~over">over</a></li><li data-type='method'><a href="module-futils_lenses.html#~set">set</a></li><li data-type='method'><a href="module-futils_lenses.html#~view">view</a></li></ul></li><li><a href="module-futils_state.html">futils/state</a><ul class='methods'><li data-type='method'><a href="module-futils_state.html#~chosen">chosen</a></li><li data-type='method'><a href="module-futils_state.html#~counter">counter</a></li><li data-type='method'><a href="module-futils_state.html#~stateful">stateful</a></li></ul></li><li><a href="module-futils_transducers.html">futils/transducers</a><ul class='methods'><li data-type='method'><a href="module-futils_transducers.html#~drop">drop</a></li><li data-type='method'><a href="module-futils_transducers.html#~dropWhile">dropWhile</a></li><li data-type='method'><a href="module-futils_transducers.html#~filter">filter</a></li><li data-type='method'><a href="module-futils_transducers.html#~flatten">flatten</a></li><li data-type='method'><a href="module-futils_transducers.html#~fold">fold</a></li><li data-type='method'><a href="module-futils_transducers.html#~into">into</a></li><li data-type='method'><a href="module-futils_transducers.html#~keep">keep</a></li><li data-type='method'><a href="module-futils_transducers.html#~map">map</a></li><li data-type='method'><a href="module-futils_transducers.html#~partition">partition</a></li><li data-type='method'><a href="module-futils_transducers.html#~partitionWith">partitionWith</a></li><li data-type='method'><a href="module-futils_transducers.html#~take">take</a></li><li data-type='method'><a href="module-futils_transducers.html#~takeWhile">takeWhile</a></li><li data-type='method'><a href="module-futils_transducers.html#~transduce">transduce</a></li><li data-type='method'><a href="module-futils_transducers.html#~unique">unique</a></li></ul></li><li><a href="module-futils_types.html">futils/types</a><ul class='methods'><li data-type='method'><a href="module-futils_types.html#~isAny">isAny</a></li><li data-type='method'><a href="module-futils_types.html#~isArray">isArray</a></li><li data-type='method'><a href="module-futils_types.html#~isArrayOf">isArrayOf</a></li><li data-type='method'><a href="module-futils_types.html#~isBool">isBool</a></li><li data-type='method'><a href="module-futils_types.html#~isDate">isDate</a></li><li data-type='method'><a href="module-futils_types.html#~isFalse">isFalse</a></li><li data-type='method'><a href="module-futils_types.html#~isFloat">isFloat</a></li><li data-type='method'><a href="module-futils_types.html#~isFunc">isFunc</a></li><li data-type='method'><a href="module-futils_types.html#~isInt">isInt</a></li><li data-type='method'><a href="module-futils_types.html#~isIterable">isIterable</a></li><li data-type='method'><a href="module-futils_types.html#~isIterator">isIterator</a></li><li data-type='method'><a href="module-futils_types.html#~isNil">isNil</a></li><li data-type='method'><a href="module-futils_types.html#~isNode">isNode</a></li><li data-type='method'><a href="module-futils_types.html#~isNodeList">isNodeList</a></li><li data-type='method'><a href="module-futils_types.html#~isNull">isNull</a></li><li data-type='method'><a href="module-futils_types.html#~isNumber">isNumber</a></li><li data-type='method'><a href="module-futils_types.html#~isObject">isObject</a></li><li data-type='method'><a href="module-futils_types.html#~isObjectOf">isObjectOf</a></li><li data-type='method'><a href="module-futils_types.html#~isPromise">isPromise</a></li><li data-type='method'><a href="module-futils_types.html#~isRegex">isRegex</a></li><li data-type='method'><a href="module-futils_types.html#~isString">isString</a></li><li data-type='method'><a href="module-futils_types.html#~isTrue">isTrue</a></li><li data-type='method'><a href="module-futils_types.html#~isVoid">isVoid</a></li></ul></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">futils/lenses</h1>
    

    




<section>

<header>
    
        
            
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">A collection of lens creators and operation functions for composable lenses</div>
        

        
            















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lenses.js.html">lenses.js</a>, <a href="lenses.js.html#line15">line 15</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
    
    </div>

    

    
        <h3 class="subsection-title">Requires</h3>

        <ul>
            <li><a href="module-futils_combinators.html">module:futils/combinators</a></li>
        
            <li><a href="module-futils_decorators.html">module:futils/decorators</a></li>
        
            <li><a href="module-futils_enums.html">module:futils/enums</a></li>
        </ul>
    

    

     

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id="~lens"><span class="type-signature">(inner) </span>lens<span class="signature">(getter, setter)</span><span class="type-signature"> &rarr; {function}</span></h4>

    



<div class="description">
    Allows to create new types of lenses which work on different data structures
    than objects and arrays. Please note that the setter function has to
    take care to clone the given structure appropriate before manipulating it
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>getter</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last">A function defining how to get a value from the structure</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>setter</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last">A function defining how to clone the structure and set a value</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    
    <dt class="tag-version">Version:</dt>
    <dd class="tag-version"><ul class="dummy"><li>0.6.0</li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lenses.js.html">lenses.js</a>, <a href="lenses.js.html#line45">line 45</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    A lens for the given data type
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">function</span>


    </dd>
</dl>

    


    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const {lens, over} = require('futils');

let MapLens = lens((k, xs) => xs.get(k), (k, v, xs) => xs.set(k, v));
let m = new Map([['users', ['john doe']]]); 

over(MapLens('users'), (s) => s.toUpperCase(), m); // -> ['JOHN DOE']</code></pre>



        
            

    

    <h4 class="name" id="~makeLenses"><span class="type-signature">(inner) </span>makeLenses<span class="signature">(fields*)</span><span class="type-signature"> &rarr; {object}</span></h4>

    



<div class="description">
    Takes a variadic number of string parameters and returns a collection of
    lenses where each lens points to one of the given parameters. A additional
    "num" lensmaker is returned too to allow peeking into array items
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>fields*</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">String representing the fields on a object</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    
    <dt class="tag-version">Version:</dt>
    <dd class="tag-version"><ul class="dummy"><li>0.6.0</li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lenses.js.html">lenses.js</a>, <a href="lenses.js.html#line137">line 137</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Collection of lenses
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">object</span>


    </dd>
</dl>

    


    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const {compose, makeLenses} = require('futils');

let data = {name: 'John Doe', age: 30, friends: [{name: 'Adam Smith'}]};
let L = makeLenses('name', 'age', 'friends');

L.name(data); // -> 'John Doe'
L.age(data); // -> 30

const firstFriendsName = compose(L.friends, L.num(0), L.name);
firstFriendsName(data); // -> 'Adam Smith'</code></pre>



        
            

    

    <h4 class="name" id="~mappedLens"><span class="type-signature">(inner) </span>mappedLens<span class="signature">(f, data)</span><span class="type-signature"> &rarr; {array|object}</span></h4>

    



<div class="description">
    Utility function, maps a lens over a nested data structure
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>f</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last">Data transformation function</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">array</span>
|

<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">The nested data structure</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    
    <dt class="tag-version">Version:</dt>
    <dd class="tag-version"><ul class="dummy"><li>0.6.0</li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lenses.js.html">lenses.js</a>, <a href="lenses.js.html#line163">line 163</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Modified clone of the given structure
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">array</span>
|

<span class="param-type">object</span>


    </dd>
</dl>

    


    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const {compose, makeLenses, mappedLens, over} = require('futils');

let data = [{id: '1'}, {id: '2'}, {id: '3'}];
let L = makeLenses('id');

const toInt = (n) => parseInt(n, 10);

const nestedIdsLens = compose(mappedLens, L.id);
over(nestedIdsLens, toInt, data); // -> [{id: 1}, {id: 2}, {id: 3}]</code></pre>



        
            

    

    <h4 class="name" id="~over"><span class="type-signature">(inner) </span>over<span class="signature">(lens, f, data)</span><span class="type-signature"> &rarr; {array|object}</span></h4>

    



<div class="description">
    Given a lens, a function and a data structure, applies the function to the
    foci of the lens on the data structure and returns a copy of the given
    structure
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>lens</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last">A lens created by makeLenses</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>f</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last">A data transforming function</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">array</span>
|

<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">The data structure</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    
    <dt class="tag-version">Version:</dt>
    <dd class="tag-version"><ul class="dummy"><li>0.6.0</li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lenses.js.html">lenses.js</a>, <a href="lenses.js.html#line92">line 92</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Modified clone of the given structure
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">array</span>
|

<span class="param-type">object</span>


    </dd>
</dl>

    


    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const {makeLenses, over} = require('futils');

let data = {name: 'John Doe', age: 30};
let L = makeLenses('name', 'age');

over(L.name, (s) => s.toUpperCase(), data);
// -> {name: 'JOHN DOE', age: 30}</code></pre>



        
            

    

    <h4 class="name" id="~set"><span class="type-signature">(inner) </span>set<span class="signature">(lens, v, data)</span><span class="type-signature"> &rarr; {array|object}</span></h4>

    



<div class="description">
    Given a lens, a value and a data structure, sets the value of the foci of the
    lens to the given value on the data structure and returns a copy of the
    given structure
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>lens</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last">A lens created by makeLenses</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>v</code></td>
            

            <td class="type">
            
                
<span class="param-type">*</span>


            
            </td>

            

            

            <td class="description last">The value to set</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">array</span>
|

<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">The data structure</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    
    <dt class="tag-version">Version:</dt>
    <dd class="tag-version"><ul class="dummy"><li>0.6.0</li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lenses.js.html">lenses.js</a>, <a href="lenses.js.html#line114">line 114</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Modified clone of the given structure
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">array</span>
|

<span class="param-type">object</span>


    </dd>
</dl>

    


    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const {makeLenses, set} = require('futils');

let data = {name: 'John Doe', age: 30};
let L = makeLenses('name', 'age');

set(L.name, 'Adam Smith', data);
// -> {name: 'Adam Smith', age: 30}</code></pre>



        
            

    

    <h4 class="name" id="~view"><span class="type-signature">(inner) </span>view<span class="signature">(lens, data)</span><span class="type-signature"> &rarr; {*}</span></h4>

    



<div class="description">
    Given a lens and a data structure, returns the current value foci on the data
    structure
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>lens</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last">A lens created by makeLenses</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">array</span>
|

<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">The data structure</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    
    <dt class="tag-version">Version:</dt>
    <dd class="tag-version"><ul class="dummy"><li>0.6.0</li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lenses.js.html">lenses.js</a>, <a href="lenses.js.html#line70">line 70</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Whatever the current value is
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">*</span>


    </dd>
</dl>

    


    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const {makeLenses, view} = require('futils');

let data = {name: 'John Doe', age: 30};
let L = makeLenses('name', 'age');

view(L.name, data); // -> 'John Doe'</code></pre>



        
    

    

    
</article>

</section>




</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Sun Aug 07 2016 18:34:20 GMT+0200 (Mitteleuropäische Sommerzeit) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>