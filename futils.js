/* @banner futils | www.npmjs.com/package/futils */
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):n.futils=t()}(this,function(){"use strict";function n(n){var t;return t={},H(t,Nt,n),H(t,It,function(){throw"transducers/init not supported on generic transformers"}),H(t,Tt,function(n){return n}),t}var t=function(n){return"function"==typeof n},r=function(n,r){if("number"!=typeof n||isNaN(n)||!isFinite(n))throw"arity::aritize awaits a number as first argument but saw "+n;if(!t(r))throw"arity::aritize awaits a function as second argument but saw "+r;switch(Math.abs(n)){case 1:return function(n){return r(n)};case 2:return function(n,t){return r(n,t)};case 3:return function(n,t,e){return r(n,t,e)};case 4:return function(n,t,e,u){return r(n,t,e,u)};case 5:return function(n,t,e,u,o){return r(n,t,e,u,o)};case 6:return function(n,t,e,u,o,i){return r(n,t,e,u,o,i)};case 7:return function(n,t,e,u,o,i,f){return r(n,t,e,u,o,i,f)};case 8:return function(n,t,e,u,o,i,f,a){return r(n,t,e,u,o,i,f,a)};case 9:return function(n,t,e,u,o,i,f,a,c){return r(n,t,e,u,o,i,f,a,c)};case 10:return function(n,t,e,u,o,i,f,a,c,l){return r(n,t,e,u,o,i,f,a,c,l)};case 11:return function(n,t,e,u,o,i,f,a,c,l,s){return r(n,t,e,u,o,i,f,a,c,l,s)};case 12:return function(n,t,e,u,o,i,f,a,c,l,s,v){return r(n,t,e,u,o,i,f,a,c,l,s,v)};case 13:return function(n,t,e,u,o,i,f,a,c,l,s,v,y){return r(n,t,e,u,o,i,f,a,c,l,s,v,y)};case 14:return function(n,t,e,u,o,i,f,a,c,l,s,v,y,p){return r(n,t,e,u,o,i,f,a,c,l,s,v,y,p)};case 15:return function(n,t,e,u,o,i,f,a,c,l,s,v,y,p,h){return r(n,t,e,u,o,i,f,a,c,l,s,v,y,p,h)};case 16:return function(n,t,e,u,o,i,f,a,c,l,s,v,y,p,h,d){return r(n,t,e,u,o,i,f,a,c,l,s,v,y,p,h,d)};default:return r}},e=function n(r){if(t(r))return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return void 0===t?n(r):r(t)};throw"arity::monadic awaits a function but saw "+r},u=function n(r){if(t(r))return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return void 0===t?n(r):void 0===u?e(function(n){return r(t,n)}):r(t,u)};throw"arity::dyadic awaits a function but saw "+r},o=function n(r){if(t(r))return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return void 0===t?n(r):void 0===o?u(function(n,e){return r(t,n,e)}):void 0===i?e(function(n){return r(t,o,n)}):r(t,o,i)};throw"arity::triadic awaits a function but saw "+r},i=function n(r){if(t(r))return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;return void 0===t?n(r):void 0===i?o(function(n,e,u){return r(t,n,e,u)}):void 0===f?u(function(n,e){return r(t,i,n,e)}):void 0===a?e(function(n){return r(t,i,f,n)}):r(t,i,f,a)};throw"arity::tetradic awaits a function but saw "+r},f=function(n){return null===n||void 0===n},a=function(n){return!f(n)},c=function(n){return void 0===n},l=function(n){return null===n},s=function(n){return"string"==typeof n},v=function(n){return"number"==typeof n&&!isNaN(n)&&isFinite(n)},y=function(n){return v(n)&&n%1==0},p=function(n){return v(n)&&n%1!=0},h=function(n){return"boolean"==typeof n},d=function(n){return!!n},w=function(n){return!n},m=function(n){return"function"==typeof n},k=function(n){return null!=n&&n.constructor===Object},g=function(n){return Array.isArray(n)},b=function(n){return Date.prototype.isPrototypeOf(n)},O=function(n){return RegExp.prototype.isPrototypeOf(n)},A=function(n){return Node.prototype.isPrototypeOf(n)},S=function(n){return NodeList.prototype.isPrototypeOf(n)},M=function(n){return Map.prototype.isPrototypeOf(n)},x=function(n){return Set.prototype.isPrototypeOf(n)},P=function(n){return WeakSet.prototype.isPrototypeOf(n)},j=function(n){return WeakMap.prototype.isPrototypeOf(n)},R=function(n){return Promise.prototype.isPrototypeOf(n)||n&&m(n.then)},N=function(n){return!f(n)&&m(n.next)},I=function(n){return!(f(n)||!n[Symbol.iterator]&&isNaN(n.length))},T=function(n){return!!n&&m(n.next)&&m(n.throw)&&m(n.return)&&!!n[Symbol.iterator]},E=function n(t,r){return void 0===r?function(r){return n(t,r)}:Array.isArray(r)&&r.every(t)},_=function n(t,r){if(void 0===r)return function(r){return n(t,r)};if(k(r)){for(var e in r)if(r.hasOwnProperty(e)&&!t(r[e]))return!1;return!0}return!1},U=function(n){return null!=n&&m(n.equals)},F=function(n){return null!=n&&m(n.map)},q=function(n){return null!=n&&m(n.ap)},L=function(n){return null!=n&&(m(n.constructor.of)||m(n.of))},z=function(n){return null!=n&&(m(n.fold)||m(n.reduce))},W=function(n){return null!=n&&m(n.biMap)},C=function(n){return null!=n&&m(n.concat)},V=function(n){return g(n)||C(n)&&(m(n.empty)||m(n.constructor.empty))},D=function(n){return q(n)&&L(n)},G=function(n){return F(n)&&U(n)&&m(n.flatten)&&m(n.flatMap)},B=function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")},J=function(){function n(n,t){for(var r=0;r<t.length;r++){var e=t[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(t,r,e){return r&&n(t.prototype,r),e&&n(t,e),t}}(),H=function(n,t,r){return t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n},K=function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)},Q=function(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t},X=function(){function n(n,t){var r=[],e=!0,u=!1,o=void 0;try{for(var i,f=n[Symbol.iterator]();!(e=(i=f.next()).done)&&(r.push(i.value),!t||r.length!==t);e=!0);}catch(n){u=!0,o=n}finally{try{!e&&f.return&&f.return()}finally{if(u)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return n(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Y=function(n){if(Array.isArray(n)){for(var t=0,r=Array(n.length);t<n.length;t++)r[t]=n[t];return r}return Array.from(n)},Z=Symbol("SuspendedInvocation"),$=function(n){for(var t,r=arguments.length,e=Array(r>1?r-1:0),u=1;u<r;u++)e[u-1]=arguments[u];return t={},H(t,Z,!0),H(t,"run",function(){return n.apply(void 0,e)}),t},nn=function(n){return k(n)&&m(n.run)&&n[Z]},tn=function(n){if(m(n))return r(n.length,function(){for(var t=n.apply(void 0,arguments);nn(t);)t=t.run();return t});throw"trampoline :: expected argument to be function but saw "+n},rn=function(n){return n},en=function(n){return function(){return n}},un=function(n){return function(t){return t(n)}},on=function n(t,r){for(var e=arguments.length,u=Array(e>2?e-2:0),o=2;o<e;o++)u[o-2]=arguments[o];return void 0===r?function(r){for(var e=arguments.length,u=Array(e>1?e-1:0),o=1;o<e;o++)u[o-1]=arguments[o];return n.apply(void 0,[t,r].concat(u))}:u.length>0?t.apply(void 0,Y(u.map(r))):function(){for(var n=arguments.length,e=Array(n),u=0;u<n;u++)e[u]=arguments[u];return t.apply(void 0,Y(e.map(r)))}},fn=function(n){for(var t=arguments.length,e=Array(t>1?t-1:0),u=1;u<t;u++)e[u-1]=arguments[u];if(m(n)&&E(m,e))return r(n.length,function(){return e.reduce(function(n,t){return t(n)},n.apply(void 0,arguments))});throw"combinators::pipe awaits functions but saw "+[n].concat(e)},an=function(){for(var n=arguments.length,t=Array(n),r=0;r<n;r++)t[r]=arguments[r];if(E(m,t))return fn.apply(void 0,Y(t.reverse()));throw"combinators::compose awaits functions but saw "+t},cn=function(){for(var n=arguments.length,t=Array(n),e=0;e<n;e++)t[e]=arguments[e];if(E(m,t))return r(t[0].length,function(){for(var n=arguments.length,r=Array(n),e=0;e<n;e++)r[e]=arguments[e];return!t.some(function(n){return!n.apply(void 0,r)})});throw"combinators::and awaits functions but saw "+t},ln=function(){for(var n=arguments.length,t=Array(n),e=0;e<n;e++)t[e]=arguments[e];if(E(m,t))return r(t[0].length,function(){for(var n=arguments.length,r=Array(n),e=0;e<n;e++)r[e]=arguments[e];return t.some(function(n){return!!n.apply(void 0,r)})});throw"combinators::or awaits functions but saw "+t},sn=function(n){if(m(n))return function(n){return n(n)}(function(t){return n(function(){return t(t).apply(void 0,arguments)})});throw"combinators::fixed awaits function but saw "+n},vn=function n(t,e,u){return r(t.length-u.length,function(){for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];var f=u.concat(o).filter(function(n){return void 0!==n});return t.length<=f.length?e(t,f):n(t,e,f)})},yn=function(n){var t=0;if(m(n))return r(n.length,function(){return 0===t?(t=1,n.apply(void 0,arguments)):null});throw"decorators::once awaits a function but saw "+n},pn=function(n){if(m(n))return r(n.length,function(){return!n.apply(void 0,arguments)});throw"decorators::not awaits a function but saw "+n},hn=function(n){if(m(n))return r(n.length,function(){for(var t=arguments.length,r=Array(t),e=0;e<t;e++)r[e]=arguments[e];return n.apply(void 0,Y(r.reverse()))});throw"decorators::flip awaits a function but saw "+n},dn=function(n){if(m(n))return n.length<2?n:vn(n,function(n,t){return n.apply(void 0,Y(t))},[]);throw"decorators::curry awaits a function but saw "+n},wn=function(n){if(m(n))return n.length<2?n:vn(n,function(n,t){return n.apply(void 0,Y(t.reverse()))},[]);throw"decorators::curryRight awaits a function but saw "+n},mn=function n(t){for(var r=arguments.length,e=Array(r>1?r-1:0),u=1;u<r;u++)e[u-1]=arguments[u];var o,i=e;if(m(t))return i.length<t.length&&(o=new Array(Math.max(0,t.length-i.length)),i=[].concat(Y(i),Y(o.fill(void 0)))),function(){for(var r=arguments.length,e=Array(r),u=0;u<r;u++)e[u]=arguments[u];var o=i.map(function(n){return c(n)?e.shift():n});return o.lastIndexOf(void 0)<0?t.apply(void 0,Y(o)):n.apply(void 0,[t].concat(Y(o)))};throw"decorators::partial awaits a function but saw "+t},kn=function(n){for(var t=arguments.length,r=Array(t>1?t-1:0),e=1;e<t;e++)r[e-1]=arguments[e];var u,o=r;if(m(n))return o.length<n.length&&(u=new Array(Math.max(0,n.length-o.length)),o=[].concat(Y(o),Y(u.fill(void 0)))),function(){for(var t=arguments.length,r=Array(t),e=0;e<t;e++)r[e]=arguments[e];var u=o.map(function(n){return c(n)?r.shift():n});return u.lastIndexOf(void 0)<0?n.apply(void 0,Y(u.reverse())):mn.apply(void 0,[n].concat(Y(u)))};throw"decorators::partialRight awaits a function but saw "+n},gn=function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(void 0===e)return function(r,e){return n(t,r,e)};if(m(t)&&m(e))return m(u)?r(e.length,function(){return t.apply(void 0,arguments)?e.apply(void 0,arguments):u.apply(void 0,arguments)}):r(e.length,function(){return t.apply(void 0,arguments)?e.apply(void 0,arguments):null});throw"decorators::ifElse awaits (fn, fn fn?), but saw "+[t,e,u]},bn=gn,On=function(n){var t={};if(m(n))return r(n.length,function(){for(var r=arguments.length,e=Array(r),u=0;u<r;u++)e[u]=arguments[u];var o=JSON.stringify(e);return t.hasOwnProperty(o)||(t[o]=n.apply(void 0,e)),t[o]});throw"decorators::memoize awaits a function but saw "+n},An=Object.prototype.hasOwnProperty,Sn=function(n,t,r){for(var e=t,u=null;;){if(u=n(e,r),u.done){m(r.return)&&r.return();break}e=u.value}return e},Mn=function(n){for(var t=arguments.length,r=Array(t>1?t-1:0),e=1;e<t;e++)r[e-1]=arguments[e];return function(t){for(var e=arguments.length,u=Array(e>1?e-1:0),o=1;o<e;o++)u[o-1]=arguments[o];var i=s(n)&&m(t[n])?t[n].apply(t,r.concat(u)):m(n)?n.call.apply(n,[t].concat(r,u)):null;return null==i?t:i}},xn=u(function(n,t){return M(t)?t.has(n):An.call(t,n)}),Pn=u(function(n,t){return(s(n)&&/\./.test(n)?n.split("."):[n]).reduce(function(n,t){return a(n)?M(n)&&n.has(t)?n.get(t):a(n[t])?n[t]:null:null},t)}),jn=Pn,Rn=o(function(n,t,r){var e=n,u=r;return g(r)?(u=[].concat(Y(r)),e=parseInt(e,10),v(e)&&e<r.length&&e>=0&&(u[e]=t),u):k(r)?(u=Object.assign({},r),s(e)&&(u[e]=t),u):(M(r)&&(u=new Map(r.entries()),u.set(e,t)),u)}),Nn=function n(){for(var t=arguments.length,r=Array(t),e=0;e<t;e++)r[e]=arguments[e];return r.length>1?Object.assign.apply(Object,[{}].concat(r)):function(){for(var t=arguments.length,e=Array(t),u=0;u<t;u++)e[u]=arguments[u];return n.apply(void 0,r.concat(e))}},In=function(n){return Object.freeze(Object.assign({},n))},Tn=function(n){return M(n)?[].concat(Y(n.entries())):Object.keys(n).map(function(t){return[t,n[t]]})},En=function(n,t){return t instanceof n?t:Object.create(n.prototype)},_n=u(function(n,t){if(v(n)&&v(t))return n+t;if(m(n)&&m(t))return function(){return t(n.apply(void 0,arguments))};if(a(n)&&m(n.concat))return n.concat(t);throw"concat :: Unable to concatenate items "+[n,t]}),Un=function(n){return n[0]},Fn=function(n){return[Un(n)]},qn=function(n){var t=n;return g(n)?n.slice(0,n.length-1):I(n)?(t=Array.from(n),t.slice(0,t.length-1)):[]},Ln=function(n){return n[n.length-1]},zn=function(n){return[Ln(n)]},Wn=function(n){return g(n)?n.slice(1):I(n)?Array.from(n).slice(1):[]},Cn=u(function(n,t){return v(n)&&(s(t)||g(t))?t[Math.max(0,Math.min(t.length,Math.abs(n)))]:I(t)?Cn(n,Array.from(t)):t}),Vn=u(function(n,t){return g(t)?t.join(n):t}),Dn=u(function(n,t){return s(t)?t.split(n):t}),Gn=o(function(n,t,r){return O(n)&&s(r)?r.replace(n,t):r}),Bn=function(n){return s(n)?n.toUpperCase():n},Jn=function(n){return s(n)?n.toLowerCase():n},Hn=function(n){return s(n)?n.trim():n},Kn=function(n){return g(n)?n.slice().reverse():s(n)?n.split("").reverse().join(""):I(n)?Array.from(n).reverse():n},Qn=function(n){return Array.from(n).reduce(function(n,t){return n.lastIndexOf(t)<0?[].concat(Y(n),[t]):n},[])},Xn=u(function(n,t){return Qn([].concat(Y(n),Y(t)))}),Yn=u(function(n,t){var r=n,e=t;if(I(n)&&I(t))return r=Array.from(n),e=Array.from(t),Xn(r,e).filter(function(n){return r.indexOf(n)>-1&&e.indexOf(n)>-1});throw"operators::intersect awaits two iterables but saw "+[n,t]}),Zn=u(function(n,t){var r=n,e=t;if(I(n)&&I(t))return r=Array.from(n),e=Array.from(t),Xn(r,e).filter(function(n){return r.indexOf(n)<0||e.indexOf(n)<0});throw"operators::differ awaits two iterables but saw "+[n,t]}),$n=u(function(n,t){return g(n)&&g(t)?n.length>t.length?t.map(function(t,r){return[n[r],t]}):n.map(function(n,r){return[n,t[r]]}):[[n,t]]}),nt=o(function(n,t,r){if(m(r.fold))return r.fold(n,t);if(m(r.reduce))return r.reduce(n,t);var e=tn(function(n,t,r){return r.length<1?t:$(e,n,n(t,Un(r)),Wn(r))});return e(n,t,Array.from(r))}),tt=o(function(n,t,r){if(m(r.foldRight))return r.foldRight(n,t);if(m(r.reduceRight))return r.reduceRight(n,t);var e=tn(function(n,t,r){return r.length<1?t:$(e,n,n(t,Ln(r)),qn(r))});return e(n,t,Array.from(r))}),rt=u(function(n,t){var r=tn(function(n,t,e){var u=n(t);return null==u?e:$(r,n,u[1],[].concat(Y(e),[u[0]]))});return r(n,t,[])}),et=u(function(n,t){return rt(function(n){return n<=t?[n,n+1]:null},n)}),ut=u(function(n,t){return nt(function(t,r){return n(r)?[].concat(Y(t),[r]):t},[],t)}),ot=function(n){return ut(function(n){return null!=n},n)},it=u(function(n,t){var r=Math.round(Math.abs(n));return nt(function(n,t){return r>0?(r-=1,n):[].concat(Y(n),[t])},[],Array.from(t))}),ft=u(function(n,t){var r=!0;return nt(function(t,e){return r=r&&!!n(e),r?t:[].concat(Y(t),[e])},[],Array.from(t))}),at=u(function(n,t){var r=0;return T(t)?Sn(function(t,e){var u=e.next();return u.done||r>=n?{done:!0,value:t}:(r+=1,{value:[].concat(Y(t),[u.value])})},[],t):nt(function(t,e){return r<n?(r+=1,[].concat(Y(t),[e])):t},[],Array.from(t))}),ct=u(function(n,t){var r=!0;return T(t)?Sn(function(t,e){var u=e.next();return u.done||!(r=!!n(u.value))?{done:!0,value:t}:{value:[].concat(Y(t),[u.value])}},[],t):nt(function(t,e){return r&&(r=!!n(e))?[].concat(Y(t),[e]):t},[],Array.from(t))}),lt=u(function(n,t){return nt(function(t,r){return null==t&&n(r)?r:t},null,t)}),st=u(function(n,t){return lt(n,Array.from(t).reverse())}),vt=u(function(n,t){return m(n)&&!m(n.empty)?nt(function(t,r){return t.concat(n(r))},n(t[0]),t.slice(1)):V(n)?nt(function(n,t){return n.concat(n.of(t))},n,t):nt(function(t,r){return t.concat(n.of(r))},n.empty(),t)}),yt=u(function(n,t){return U(t)?t.equals(n):n===t}),pt=u(function(n,t){if(m(n))return F(t)?t.map(n):k(t)?Object.keys(t).reduce(function(r,e){return r[e]=n(t[e],e,t),r},{}):I(t)?Array.from(t).map(n):t;throw"operators::map awaits a function as first argument but saw "+n}),ht=u(function(n,t){if(m(n))return F(t)?t.map(n):k(t)?pt(n,t):n(t);if(q(n))return F(t)?n.ap(t):k(t)?n.ap({map:function(n){return pt(n,t)}}):n.ap([t])[0];throw"operators::ap awaits apply/function as first argument but saw "+n}),dt=function(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(k(n)&&!m(n.flatten))return n;if(m(n.flatten))return n.flatten();if(g(n)){if(!t)return n.reduce(function(n,t){return n.concat(t)},[]);var r=tn(function(n,t){return t.length<1?n:g(t[0])?$(r,n,[].concat(Y(t[0]),Y(t.slice(1)))):$(r,[].concat(Y(n),[t[0]]),t.slice(1))});return r([],n)}throw"operators::flatten awaits Monad or array but saw "+n},wt=u(function(n,t){if(m(n))return m(t.flatMap)?t.flatMap(n):dt(pt(n,t),!1);throw"operators::flatMap awaits function as 1. argument but saw "+n}),mt=o(function(n,t,r){if(m(n)&&m(t.of)){if(m(r.traverse))return r.traverse(n,t);if(g(r))return r.reduce(function(t,r){return t.concat(n(r))},t.of([]));throw"operators::traverse cannot act on "+r}throw"operators::traverse awaits function & applicative, saw "+[n,t]}),kt=u(function(n,t){return mt(function(n){return n},n,t)}),gt=function(n){return{value:n,map:function(){return this}}},bt=function n(t){return{value:t,map:function(r){return n(r(t))}}},Ot=function(n,t){return function(){return n(t.apply(void 0,arguments))}},At=dn(function(n,t,r,e,u){return pt(function(n){return t(r,n,u)},e(n(r,u)))}),St=At(jn,Rn),Mt=dn(function(n,t){return n(gt)(t).value}),xt=dn(function(n,t,r){return n(function(n){return bt(t(n))})(r).value}),Pt=dn(function(n,t,r){return xt(n,function(){return t},r)}),jt=function(){for(var n=arguments.length,t=Array(n),r=0;r<n;r++)t[r]=arguments[r];return t.reduce(function(n,t){return xn(t,n)||(n[t]=St(t)),n},{index:St})},Rt=dn(function(n,t){return bt(pt(Ot(jn("value"),n),t))}),Nt="@@transducer/step",It="@@transducer/init",Tt="@@transducer/result";n.isReduced=function(n){return!f(n)&&n.reduced},n.reduce=function(n){return{value:n,reduced:!0}},n.deref=function(n){return n&&void 0!==n.value?n.value:null};var Et=dn(function(t,r,e){var u=m(t)?n(t):t,o=r;if(k(e)&&!T(e)){var i=Object.keys(e),f=!0,a=!1,c=void 0;try{for(var l,s=i[Symbol.iterator]();!(f=(l=s.next()).done);f=!0){var v=l.value;if(o=u[Nt](o,[e[v],v]),n.isReduced(o)){o=n.deref(o);break}}}catch(n){a=!0,c=n}finally{try{!f&&s.return&&s.return()}finally{if(a)throw c}}return u[Tt](o)}var y=!0,p=!1,h=void 0;try{for(var d,w=e[Symbol.iterator]();!(y=(d=w.next()).done);y=!0){var g=d.value;if(o=u[Nt](o,g),n.isReduced(o)){o=n.deref(o);break}}}catch(n){p=!0,h=n}finally{try{!y&&w.return&&w.return()}finally{if(p)throw h}}return m(e.return)&&e.return(),u[Tt](o)}),_t=dn(function(t,r,e,u){return Et(t(m(r)?n(r):r),e,u)}),Ut=dn(function(n,t,r){if(g(n))return _t(t,function(n,t){return[].concat(Y(n),[t])},n,r);if(k(n))return _t(t,function(n,t){var r=X(t,2),e=r[0],u=r[1],o=Object.assign({},n);return o[u]=e,o},n,r);if(v(n)||s(n))return _t(t,function(n,t){return n+t},n,r);throw"transducers::into got unknown inital value, use ::transduce with a special step function"}),Ft=function(n){return function(t){var r;return r={},H(r,It,function(){return t[It]()}),H(r,Nt,function(r,e){return t[Nt](r,n(e))}),H(r,Tt,function(n){return t[Tt](n)}),r}},qt=function(n){return function(t){var r;return r={},H(r,It,function(){return t[It]()}),H(r,Nt,function(r,e){return n(e)?t[Nt](r,e):r}),H(r,Tt,function(n){return t[Tt](n)}),r}},Lt=function(t){var r;return r={},H(r,It,function(){return t[It]()}),H(r,Nt,function(r,e){var u;return Et((u={},H(u,It,function(){return t[It]()}),H(u,Nt,function(r,e){var u=t[Nt](r,e);return n.isReduced(u)?n.deref(u):u}),H(u,Tt,function(n){return n}),u),r,e)}),H(r,Tt,function(n){return t[Tt](n)}),r},zt=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){var r,e=n;return r={},H(r,It,function(){return t[It]()}),H(r,Nt,function(n,r){return e>0?(e-=1,n):t[Nt](n,r)}),H(r,Tt,function(n){return t[Tt](n)}),r}},Wt=function(n){return function(t){var r,e=!0,u=!1;return r={},H(r,It,function(){return t[It]()}),H(r,Nt,function(r,o){return!u&&(e=!!n(o))?r:(u=!0,t[Nt](r,o))}),H(r,Tt,function(n){return t[Tt](n)}),r}},Ct=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(r){var e,u=0;return e={},H(e,It,function(){return r[It]()}),H(e,Nt,function(e,o){return u<t?(u+=1,r[Nt](e,o)):n.reduce(e)}),H(e,Tt,function(n){return r[Tt](n)}),e}},Vt=function(t){return function(r){var e,u=!0;return e={},H(e,It,function(){return r[It]()}),H(e,Nt,function(e,o){return u=!!t(o),u?r[Nt](e,o):n.reduce(e)}),H(e,Tt,function(n){return r[Tt](n)}),e}},Dt=function(n){var t;return t={},H(t,It,function(){return n[It]()}),H(t,Nt,function(t,r){return f(r)?t:n[Nt](t,r)}),H(t,Tt,function(t){return n[Tt](t)}),t},Gt=function(n){var t,r=Object.create(null);return t={},H(t,It,function(){return n[It]()}),H(t,Nt,function(t,e){return r[e]?t:(r[e]=!0,n[Nt](t,e))}),H(t,Tt,function(t){return n[Tt](t)}),t},Bt=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){var r,e,u=[];return r={},H(r,It,function(){return t[It]()}),H(r,Nt,function(r,o){return u.length<n?(u.push(o),r):(e=t[Nt](r,u),u=[o],e)}),H(r,Tt,function(n){return u.length>0?t[Tt](t[Nt](n,u)):t[Tt](n)}),r}},Jt=function(n){return function(t){var r,e,u,o,i=[];return r={},H(r,It,function(){return t[It]()}),H(r,Nt,function(r,f){return u=n(f),i.length<1?(o=u,i.push(f),r):o===u?(i.push(f),r):(o=u,e=t[Nt](r,i),i=[f],e)}),H(r,Tt,function(n){return i.length>0?t[Tt](t[Nt](n,i)):t[Tt](n)}),r}},Ht=Object.freeze({fold:Et,transduce:_t,into:Ut,map:Ft,filter:qt,flatten:Lt,drop:zt,dropWhile:Wt,take:Ct,takeWhile:Vt,keep:Dt,unique:Gt,partition:Bt,partitionWith:Jt}),Kt=Symbol("MonoidalValue"),Qt=function(n){return n||null},Xt=(function(){function n(){B(this,n),this[Kt]=null}J(n,[{key:"concat",value:function(n){return n}},{key:"fold",value:function(n){return n()}}],[{key:"empty",value:function(){return new n}},{key:"of",value:function(){return new n}}])}(),function(){function n(t){B(this,n),this[Kt]=t}return J(n,[{key:"of",value:function(t){return new n(t)}},{key:"concat",value:function(t){return new n(this[Kt]+t[Kt])}},{key:"fold",value:function(n){return n(this[Kt])}}],[{key:"empty",value:function(){return new n(0)}},{key:"of",value:function(t){return new n(t)}}]),n}()),Yt=function(){function n(t){B(this,n),this[Kt]=t}return J(n,[{key:"of",value:function(t){return new n(t)}},{key:"concat",value:function(t){return new n(this[Kt]+t[Kt])}},{key:"fold",value:function(n){return n(this[Kt])}}],[{key:"empty",value:function(){return new n("")}},{key:"of",value:function(t){return new n(t)}}]),n}(),Zt=function(){function n(t){B(this,n),this[Kt]=t}return J(n,[{key:"of",value:function(t){return new n(t)}},{key:"concat",value:function(t){return new n(this[Kt]*t[Kt])}},{key:"fold",value:function(n){return n(this[Kt])}}],[{key:"empty",value:function(){return new n(1)}},{key:"of",value:function(t){return new n(t)}}]),n}(),$t=function(){function n(t){B(this,n),this[Kt]=t}return J(n,[{key:"of",value:function(t){return new n(t)}},{key:"concat",value:function(t){return new n(this[Kt]&&t[Kt])}},{key:"fold",value:function(n){return n(this[Kt])}}],[{key:"empty",value:function(){return new n(!0)}},{key:"of",value:function(t){return new n(t)}}]),n}(),nr=function(){function n(t){B(this,n),this[Kt]=t}return J(n,[{key:"of",value:function(t){return new n(t)}},{key:"concat",value:function(t){return new n(this[Kt]||t[Kt])}},{key:"fold",value:function(n){return n(this[Kt])}}],[{key:"empty",value:function(){return new n(!1)}},{key:"of",value:function(t){return new n(t)}}]),n}(),tr=function(){function n(t){B(this,n),this[Kt]=t}return J(n,[{key:"of",value:function(t){return new n(function(){return t})}},{key:"concat",value:function(t){var r=this;return new n(function(n){return t[Kt](r[Kt](n))})}},{key:"fold",value:function(n,t){return n(this[Kt](t))}}],[{key:"empty",value:function(){return new n(Qt)}},{key:"of",value:function(t){return new n(function(){return t})}}]),n}(),rr=function(){function n(t){B(this,n),this[Kt]=t}return J(n,[{key:"of",value:function(t){return new n(t)}},{key:"concat",value:function(t){return new n(Math.min(this[Kt],t[Kt]))}},{key:"fold",value:function(n){return n(this[Kt])}}],[{key:"empty",value:function(){return new n(1/0)}},{key:"of",value:function(t){return new n(t)}}]),n}(),er=function(){function n(t){B(this,n),this[Kt]=t}return J(n,[{key:"of",value:function(t){return new n(t)}},{key:"concat",value:function(t){return new n(Math.max(this[Kt],t[Kt]))}},{key:"fold",value:function(n){return n(this[Kt])}}],[{key:"empty",value:function(){return new n(-1/0)}},{key:"of",value:function(t){return new n(t)}}]),n}(),ur=function(){function n(t){B(this,n),this[Kt]=t}return J(n,[{key:"of",value:function(t){return new n(t)}},{key:"concat",value:function(t){return new n(Object.assign({},this[Kt],t[Kt]))}},{key:"fold",value:function(n){return n(this[Kt])}}],[{key:"empty",value:function(){return new n({})}},{key:"of",value:function(t){return new n(t)}}]),n}(),or=Symbol("TypeValue"),ir=Symbol("TypeName"),fr={NO_NAME:"Type awaits string and definition as arguments.\n>   Name is missing or empty string.",NO_DEF:"Type awaits string and definition as argument.\n>   Definition is missing or none of:\n    - Function (x) => boolean\n    - Object of pairs {key: (x) => boolean}\n    - Array of functions [(x) => boolean]"},ar=function(n,t){return!(!m(n)||!n(t))||(E(m,n)&&g(t)?n.length>1?n.length===t.length&&n.every(function(n,r){return n(t[r])}):t.every(function(t){return n[0](t)}):!(!k(n)||!k(t))&&Object.keys(n).reduce(function(r,e){return r&&!f(t[e])&&n[e](t[e])},!0))},cr=function(n,t){function r(e){var u=En(r,this);if(u[ir]=n,ar(t,e))return u[or]=e,u;throw"Type "+n+" got invalid value "+JSON.stringify(e)}if(!s(n)||""===n.trim())throw fr.NO_NAME;if(!m(t)&&!k(t)&&!E(m,t))throw fr.NO_DEF;return Object.defineProperties(r,{of:{writable:!1,enumerable:!0,value:function(n){return new r(n)}},is:{writable:!1,enumerable:!0,value:function(n){return r.prototype.isPrototypeOf(n)}}}),Object.defineProperties(r.prototype,{toString:{writable:!1,enumerable:!0,value:function(){var t=this;return k(this[or])?n+"("+Object.keys(this[or]).reduce(function(n,r){return n?n+", "+t[or][r].toString():t[or][r].toString()},"")+")":n+"("+this[or].toString()+")"}},valueOf:{writable:!1,enumerable:!0,value:function(){return this[or]}},fold:{writable:!1,enumerable:!0,value:function(t,r){if(m(t))return t(this[or],r);throw n+"::fold expected argument to be function but saw "+t}}}),r},lr=dn(cr);lr.isType=function(n){return!f(n)&&!f(n[or])&&s(n[ir])},lr.cata=dn(function(n,t){if(null!=t){if(lr.isType(t)&&m(n[t[ir]]))return n[t[ir]](t[or]);if(m(n[t.constructor.name]))return n[t.constructor.name](t)}if(m(n.orElse))return n.orElse(lr.isType(t)?t[or]:t);throw"Type.cata :: Unable to pattern match "+t});var sr=Symbol("MonadicValue"),vr=function(){function n(t){B(this,n),this.value=t}return J(n,[{key:"toString",value:function(){return"Identity("+this.value+")"}},{key:"equals",value:function(t){return n.prototype.isPrototypeOf(t)&&t.value===this.value}},{key:"map",value:function(t){if(m(t))return new n(t(this.value));throw"Identity::map expects argument to be function but saw "+t}},{key:"of",value:function(t){return n.of(t)}},{key:"ap",value:function(n){if(m(n.map))return n.map(this.value);throw"Identity::ap expects argument to be Functor but saw "+n}},{key:"flatMap",value:function(n){if(m(n))return this.map(n).value;throw"Identity::flatMap expects argument to be function but saw "+n}},{key:"flatten",value:function(){return this.value}},{key:"fold",value:function(n){return n(this.value)}},{key:"traverse",value:function(t,r){if(m(t))return r.of(this.fold(t)).map(n.of);throw"Identity::traverse expects function but saw "+t}},{key:"sequence",value:function(n){return this.traverse(function(n){return n},n)}},{key:"concat",value:function(t){return this.fold(function(r){return n.of(r.concat(t.value))})}},{key:"value",set:function(n){this[sr]=n},get:function(){return this[sr]}}],[{key:"is",value:function(t){return n.prototype.isPrototypeOf(t)}},{key:"of",value:function(t){return new n(t)}}]),n}(),yr=Symbol("MonadicValue"),pr=function(){function n(t){B(this,n),this.value=t}return J(n,[{key:"toString",value:function(){return"Maybe"}},{key:"isSome",value:function(){return null!=this.value}},{key:"equals",value:function(t){return n.prototype.isPrototypeOf(t)&&t.value===this.value}},{key:"map",value:function(t){return this.fold(function(){return new dr},function(r){return n.of(t(r))})}},{key:"of",value:function(t){return n.of(t)}},{key:"ap",value:function(n){return this.fold(function(){return new dr},function(t){return n.map(t)})}},{key:"flatMap",value:function(n){return this.map(n).flatten()}},{key:"flatten",value:function(){return this.isSome()?this.value:this}},{key:"orGet",value:function(n){return this.isSome()?this.value:n}},{key:"orElse",value:function(t){return this.isSome()?this:n.of(t)}},{key:"fold",value:function(n,t){return this.isSome()?t(this.value):n(this.value)}},{key:"cata",value:function(n){var t=n.None,r=n.Some;return this.fold(t,r)}},{key:"traverse",value:function(t,r){if(m(t))return r.of(this.fold(function(){return null},t)).map(n.of);throw"Maybe::traverse expects function but saw "+t}},{key:"sequence",value:function(n){return this.traverse(function(n){return n},n)}},{key:"biMap",value:function(t,r){if(m(t)&&m(r))return n.of(this.fold(t,r));throw"Maybe::biMap expects functions but saw "+t+", "+r}},{key:"concat",value:function(n){return this.fold(function(){return n},function(t){return n.isSome()?hr.of(t.concat(n.value)):hr.of(t)})}}],[{key:"fromEither",value:function(t){return t.fold(dr.of,n.of)}},{key:"is",value:function(t){return n.prototype.isPrototypeOf(t)}},{key:"of",value:function(n){return f(n)?new dr:new hr(n)}},{key:"empty",value:function(){return new dr}}]),n}(),hr=function(n){function t(n){return B(this,t),Q(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n))}return K(t,n),J(t,[{key:"toString",value:function(){return"Some("+this.value+")"}},{key:"value",set:function(n){this[yr]=n},get:function(){return this[yr]}}],[{key:"of",value:function(n){return new t(n)}}]),t}(pr),dr=function(n){function t(){return B(this,t),Q(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,null))}return K(t,n),J(t,[{key:"toString",value:function(){return"None"}},{key:"value",set:function(n){this[yr]=n},get:function(){return this[yr]}}],[{key:"of",value:function(){return new t}}]),t}(pr),wr=Symbol("MonadicValue"),mr=Symbol("Either.isRight"),kr=function(n){return!f(n)&&!Error.prototype.isPrototypeOf(n)},gr=function(){function n(t,r){if(B(this,n),kr(r))return this.value=r,this[mr]=!0,this;this.value=null!=t?t:null,this[mr]=!1}return J(n,[{key:"toString",value:function(){return this.isRight()?"Right("+this.value+")":"Left("+this.value+")"}},{key:"isRight",value:function(){return!!this[mr]}},{key:"equals",value:function(t){return n.is(t)&&t.value===this.value}},{key:"ap",value:function(n){var t=this;return this.fold(function(){return t},function(t){return n.map(t)})}},{key:"concat",value:function(n){return this.fold(function(){
return n},function(t){return n.isRight()?br.of(t.concat(n.value)):br.of(t)})}},{key:"map",value:function(n){if(m(n))return this.fold(function(n){return Or.of(n)},function(t){return br.of(n(t))})}},{key:"mapLeft",value:function(n){return this.fold(function(t){return Or.of(n(t))},function(n){return br.of(n)})}},{key:"flatMap",value:function(n){return this.map(n).flatten()}},{key:"flatten",value:function(){return this.isRight()?this.value:this}},{key:"fold",value:function(n,t){return this.isRight()?t(this.value):n(this.value)}},{key:"cata",value:function(n){var t=n.Left,r=n.Right;return this.fold(t,r)}},{key:"traverse",value:function(n,t){if(m(n))return this.fold(function(n){return t.of(n).map(Or.of)},function(r){return t.of(n(r)).map(br.of)});throw"Either::traverse expects function but saw "+n}},{key:"sequence",value:function(n){return this.traverse(function(n){return n},n)}},{key:"biMap",value:function(n,t){return this.fold(function(t){return Or.of(n(t))},function(n){return br.of(t(n))})}},{key:"swap",value:function(){return this.fold(function(n){return br.of(n)},function(n){return Or.of(n)})}},{key:"orGet",value:function(n){return this.fold(function(){return n},function(n){return n})}},{key:"orElse",value:function(n){return this.fold(function(){return kr(n)?br.of(n):Or.of(n)},function(n){return br.of(n)})}},{key:"value",set:function(n){this[wr]=n},get:function(){return this[wr]}}],[{key:"fromNullable",value:function(n){return kr(n)?br.of(n):Or.of(n)}},{key:"fromMaybe",value:function(t){return t.fold(n.empty,n.of)}},{key:"fromIO",value:function(t){for(var r=arguments.length,e=Array(r>1?r-1:0),u=1;u<r;u++)e[u-1]=arguments[u];return n.try(t.run).apply(void 0,e)}},{key:"try",value:function(n,t){if(m(n))return r(n.length,function(){try{return br.of(n.apply(void 0,arguments))}catch(n){return void 0!==t?br.of(t):Or.of(n)}});throw"Either::try expects argument to be function but saw "+n}},{key:"is",value:function(t){return n.prototype.isPrototypeOf(t)}},{key:"of",value:function(n){return br.of(n)}},{key:"empty",value:function(){return Or.of(null)}}]),n}(),br=function(n){function t(n){return B(this,t),Q(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,null,n))}return K(t,n),J(t,[{key:"toString",value:function(){return"Right("+this.value+")"}},{key:"value",set:function(n){this[wr]=n},get:function(){return this[wr]}}],[{key:"of",value:function(n){return new t(n)}}]),t}(gr),Or=function(n){function t(n){return B(this,t),Q(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,null))}return K(t,n),J(t,[{key:"toString",value:function(){return"Left("+this.value+")"}},{key:"value",set:function(n){this[wr]=n},get:function(){return this[wr]}}],[{key:"of",value:function(n){return new t(n)}}]),t}(gr),Ar=Symbol("MonadicValue"),Sr=function(){function n(t){B(this,n),this.run=t}return J(n,[{key:"toString",value:function(){return"IO"}},{key:"equals",value:function(t){return n.prototype.isPrototypeOf(t)&&this.run===t.run}},{key:"map",value:function(t){var r=this;if(m(t))return new n(function(n){return t(r.run(n))});throw"IO::map expects argument to be function but saw "+t}},{key:"of",value:function(t){return n.of(t)}},{key:"ap",value:function(n){if(m(n.map))return n.map(this.run);throw"IO::ap expects argument to be Functor but saw "+n}},{key:"flatMap",value:function(n){if(m(n))return this.map(n).flatten();throw"IO::flatMap expects argument to be function but saw "+n}},{key:"flatten",value:function(){return this.run()}},{key:"fold",value:function(n,t){return n(this.run(t))}},{key:"traverse",value:function(t,r){if(m(t))return r.of(this.fold(t)).map(n.of);throw"IO::traverse expects function but saw "+t}},{key:"sequence",value:function(n){return this.traverse(function(n){return n},n)}},{key:"concat",value:function(t){var r=this;return new n(function(n){return t.run(r.run(n))})}},{key:"try",value:function(n){try{return this.fold(function(n){return n},n)}catch(n){return n}}},{key:"run",set:function(n){this[Ar]=n},get:function(){return this[Ar]}}],[{key:"is",value:function(t){return n.prototype.isPrototypeOf(t)}},{key:"of",value:function(t){return new n(function(){return t})}},{key:"empty",value:function(){return new n(function(n){return n})}}]),n}(),Mr=Symbol("MonadicValue"),xr=Symbol("RunState"),Pr=function(){function n(t){B(this,n),this.compute=t}return J(n,[{key:xr,value:function(n){return this.compute(n)}},{key:"toString",value:function(){return"State"}},{key:"map",value:function(t){var r=this;if(m(t))return new n(function(n){var e=r[xr](n),u=X(e,2),o=u[0],i=u[1];return[t(o),i]});throw"State::map expects argument to be function but saw "+t}},{key:"of",value:function(t){return n.of(t)}},{key:"ap",value:function(n){if(m(n.map))return this.flatMap(n.map.bind(n));throw"State::ap expects argument to be Functor but saw "+n}},{key:"flatMap",value:function(n){if(m(n))return this.map(n).flatten();throw"State::flatMap expects argument to be function but saw "+n}},{key:"flatten",value:function(){var t=this;return new n(function(n){var r=t[xr](n),e=X(r,2),u=e[0],o=e[1];return u[xr](o)})}},{key:"fold",value:function(n,t){return n(this.run(t))}},{key:"foldExec",value:function(n,t){return n(this.exec(t))}},{key:"run",value:function(n){return this[xr](n)[0]}},{key:"exec",value:function(n){return this[xr](n)[1]}},{key:"compute",set:function(n){this[Mr]=n},get:function(){return this[Mr]}}],[{key:"get",value:function(){return new n(function(n){return[n,n]})}},{key:"put",value:function(t){return new n(function(){return[null,t]})}},{key:"modify",value:function(t){return n.get().flatMap(function(r){return n.put(t(r))})}},{key:"is",value:function(t){return n.prototype.isPrototypeOf(t)}},{key:"of",value:function(t){return new n(function(n){return[t,n]})}}]),n}(),jr=Symbol("MonadicFork"),Rr=Symbol("MonadicCleanUp"),Nr=function(n){return"undefined"!=typeof setImmediate?setImmediate(n):"undefined"!=typeof process?process.nextTick(n):setTimeout(n,0)},Ir=function(){},Tr=function(){function n(t,r){B(this,n),this.run=t,this.cleanUp=r}return J(n,[{key:"toString",value:function(){return"Task"}},{key:"toPromise",value:function(t){return n.toPromise(this,t)}},{key:"equals",value:function(t){return n.prototype.isPrototypeOf(t)&&t.run===this.run}},{key:"map",value:function(t){var r=this;if(m(t))return new n(function(n,e){return r.run(function(t){return n(t)},function(n){return e(t(n))})},this.cleanUp);throw"Task::map expects argument to be function but saw "+t}},{key:"of",value:function(t){return n.of(t)}},{key:"ap",value:function(t){var r=this.run,e=t.run,u=this.cleanUp,o=t.cleanUp,i=function(n,t){u(n),o(t)};return new n(function(n,t){var u=!1,o=!1,f=!1,a=!1,c=[],l=!1,s=function(t){if(!l)return l=!0,n(t)},v=function(n){return function(r){if(!l)return n(r),a&&o?(Nr(function(){return i(c[0],c[1])}),t(u(f))):r}},y=r(s,v(function(n){o=!0,u=n})),p=e(s,v(function(n){a=!0,f=n}));return c=[y,p]},i)}},{key:"flatMap",value:function(t){var r=this;if(m(t))return new n(function(n,e){return r.run(function(t){return n(t)},function(r){return t(r).run(n,e)})},this.cleanUp);throw"Task::flatMap expects argument to be function but saw "+t}},{key:"flatten",value:function(){var t=this;return new n(function(n,r){return t.run().run(n,r)},this.cleanUp)}},{key:"fold",value:function(n,t){if(m(t)&&m(n))return this.run(n,t);throw"Task::fold expects arguments to be functions but saw "+[n,t]}},{key:"cata",value:function(n){var t=n.Reject,r=n.Resolve;if(m(r)&&m(t))return this.fold(t,r);throw"Task::cata expected Object of {Reject, Resolve}"}},{key:"biMap",value:function(t,r){var e=this;if(m(r)&&m(t))return new n(function(n,t){return e.fold(n,t)},this.cleanUp);throw"Task::biMap expected arguments to be functions but saw "+[t,r]}},{key:"swap",value:function(){var t=this;return new n(function(n,r){return t.run(r,n)},this.cleanUp)}},{key:"mapRejected",value:function(t){var r=this;if(m(t))return new n(function(n,e){return r.run(function(r){return n(t(r))},e)},this.cleanUp)}},{key:"concat",value:function(t){if(n.is(t)){var r=this.run,e=t.run,u=this.cleanUp,o=t.cleanUp,i=function(n,t){u(n),o(t)};return new n(function(n,t){var u=void 0,o=!1,f=void 0,a=void 0,c=function(n){return function(t){o||(o=!0,Nr(function(){return i(u[0],u[1])}),n(t))}};return f=r(c(n),c(t)),a=e(c(n),c(t)),u=[f,a]},i)}throw"Task::concat expected argument to be Task but saw "+t}},{key:"orElse",value:function(t){var r=this;if(m(t))return new n(function(n,e){return r.run(function(r){return t(r).run(n,e)},e)},this.cleanUp);throw"Task::orElse expected argument to be function but saw "+t}},{key:"run",set:function(n){this[jr]=n},get:function(){return this[jr]}},{key:"cleanUp",set:function(n){this[Rr]=n||Ir},get:function(){return this[Rr]}}],[{key:"is",value:function(t){return n.prototype.isPrototypeOf(t)}},{key:"resolve",value:function(t){return n.of(t)}},{key:"reject",value:function(t){return new n(function(n){return n(t)})}},{key:"fromFunction",value:function(t){for(var r=arguments.length,e=Array(r>1?r-1:0),u=1;u<r;u++)e[u-1]=arguments[u];return e.length<t.length-1?function(){for(var r=arguments.length,u=Array(r),o=0;o<r;o++)u[o]=arguments[o];return n.fromFunction.apply(n,[t].concat(e,u))}:new n(function(n,r){try{t.apply(void 0,[r].concat(e))}catch(t){n(t)}})}},{key:"fromNodeCPS",value:function(t){for(var r=arguments.length,e=Array(r>1?r-1:0),u=1;u<r;u++)e[u-1]=arguments[u];return e.length<t.length-1?function(){for(var r=arguments.length,u=Array(r),o=0;o<r;o++)u[o]=arguments[o];return n.fromNodeCPS.apply(n,[t].concat(e,u))}:new n(function(n,r){t.apply(void 0,e.concat([function(t,e){t?n(t):r(e)}]))})}},{key:"fromPromise",value:function(t){return new n(function(n,r){t.then(r).catch(n)})}},{key:"toPromise",value:function(n,t){if(m(t))return t(function(t,r){n.run(r,t)});if(!c(Promise)&&m(Promise))return new Promise(function(t,r){n.run(r,t)});throw"Cannot create Promise from "+n}},{key:"race",value:function(){for(var t=arguments.length,r=Array(t),e=0;e<t;e++)r[e]=arguments[e];return r.reduce(function(n,t){return n.concat(t)},n.empty())}},{key:"all",value:function(){for(var t=arguments.length,r=Array(t),e=0;e<t;e++)r[e]=arguments[e];return new n(function(n,t){var e=[],u=r.length;r.forEach(function(r,o){r.run(n,function(n){e[o]=n,(u-=1)<1&&t(e)})})})}},{key:"of",value:function(t){return new n(function(n,r){return r(t)})}},{key:"empty",value:function(){return new n(function(){})}}]),n}(),Er=dn(function(n,t,r){return t.map(n).ap(r)}),_r=dn(function(n,t,r,e){return t.map(n).ap(r).ap(e)}),Ur=dn(function(n,t,r,e,u){return t.map(n).ap(r).ap(e).ap(u)}),Fr=dn(function(n,t,r,e,u,o){return t.map(n).ap(r).ap(e).ap(u).ap(o)}),qr={liftA2:Er,liftA3:_r,liftA4:Ur,liftA5:Fr,Identity:vr,Task:Tr,State:Pr,Maybe:pr,Some:hr,None:dr,Either:gr,Left:Or,Right:br,IO:Sr},Lr=dn(function(n,t){return n+t}),zr=dn(function(n,t){return t-n}),Wr=dn(function(n,t){return n*t}),Cr=dn(function(n,t){return n?t/n:0}),Vr=dn(function(n,t){return n?t%n:0}),Dr=dn(function(n,t){var r=tn(function(n,t){var r=n%t;return 0===r?t:$(Dr,t,r)});return n&&t?r(n,t):0}),Gr=dn(function(n,t){return n&&t?Math.abs(n*t)/Dr(n,t):0}),Br=function(){for(var n=arguments.length,t=Array(n),r=0;r<n;r++)t[r]=arguments[r];return t.reduce(function(n,t){if(v(t))return n+t;if(I(t)){var r=tn(function(n,t){return t.length<1?n:$(r,n+(v(t[0])?t[0]:0),t.slice(1))});return r(n,[].concat(Y(t)))}return n},0)},Jr=function(){for(var n=arguments.length,t=Array(n),r=0;r<n;r++)t[r]=arguments[r];return t.reduce(function(n,t){if(v(t))return n<1?t:n*t;if(I(t)){var r=tn(function(n,t){return t.length<1?n:$(r,n*(v(t[0])?t[0]:1),t.slice(1))});return r(n<1?1:n,[].concat(Y(t)))}return n},0)},Hr=tn,Kr=$,Qr=r,Xr=e,Yr=u,Zr=o,$r=i,ne=Lr,te=zr,re=Wr,ee=Cr,ue=Vr,oe=Dr,ie=Gr,fe=Br,ae=Jr,ce=f,le=a,se=l,ve=c,ye=s,pe=v,he=y,de=p,we=h,me=d,ke=w,ge=m,be=k,Oe=M,Ae=x,Se=j,Me=P,xe=g,Pe=b,je=O,Re=A,Ne=S,Ie=R,Te=N,Ee=I,_e=T,Ue=E,Fe=_,qe=U,Le=F,ze=q,We=L,Ce=z,Ve=W,De=C,Ge=G,Be=D,Je=rn,He=en,Ke=un,Qe=fn,Xe=an,Ye=cn,Ze=ln,$e=on,nu=sn,tu=yn,ru=pn,eu=hn,uu=dn,ou=wn,iu=mn,fu=kn,au=bn,cu=gn,lu=On,su=lr,vu=Xt,yu=Yt,pu=Zt,hu=rr,du=er,wu=ur,mu=tr,ku=$t,gu=nr,bu=qr.Identity,Ou=qr.IO,Au=qr.Maybe,Su=qr.None,Mu=qr.Some,xu=qr.Either,Pu=qr.Left,ju=qr.Right,Ru=qr.State,Nu=qr.Task,Iu=qr.liftA2,Tu=qr.liftA3,Eu=qr.liftA4,_u=qr.liftA5,Uu=At,Fu=jt,qu=Rt,Lu=Mt,zu=xt,Wu=Pt,Cu=Mn,Vu=jn,Du=Pn,Gu=xn,Bu=Nn,Ju=In,Hu=En,Ku=Un,Qu=Ln,Xu=Fn,Yu=zn,Zu=qn,$u=Wn,no=Cn,to=Vn,ro=Dn,eo=Bn,uo=Jn,oo=Hn,io=Kn,fo=Gn,ao=Qn,co=Xn,lo=pt,so=dt,vo=wt,yo=Rn,po=yt,ho=ht,wo=Yn,mo=Zn,ko=Tn,go=nt,bo=tt,Oo=rt,Ao=_n,So=et,Mo=ut,xo=ot,Po=it,jo=ft,Ro=at,No=ct,Io=lt,To=st,Eo=vt,_o=$n,Uo=mt,Fo=kt,qo=Ht;return Object.freeze({trampoline:Hr,suspend:Kr,aritize:Qr,monadic:Xr,dyadic:Yr,triadic:Zr,tetradic:$r,add:ne,subtract:te,multiply:re,divide:ee,modulo:ue,gcd:oe,lcm:ie,sum:fe,product:ae,isNil:ce,isAny:le,isNull:se,isVoid:ve,isString:ye,isNumber:pe,isInt:he,isFloat:de,isBool:we,isTrue:me,isFalse:ke,isFunc:ge,isObject:be,isMap:Oe,isSet:Ae,isWeakMap:Se,isWeakSet:Me,isArray:xe,isDate:Pe,isRegex:je,isNode:Re,isNodeList:Ne,isPromise:Ie,isIterator:Te,isIterable:Ee,isGenerator:_e,isArrayOf:Ue,isObjectOf:Fe,isSetoid:qe,isFunctor:Le,isApply:ze,isPointed:We,isFoldable:Ce,isBifunctor:Ve,isSemigroup:De,isMonad:Ge,isApplicative:Be,id:Je,getter:He,tap:Ke,pipe:Qe,compose:Xe,and:Ye,or:Ze,by:$e,fixed:nu,once:tu,not:ru,flip:eu,curry:uu,curryRight:ou,partial:iu,partialRight:fu,given:au,ifElse:cu,memoize:lu,Type:su,Additive:vu,Char:yu,Multiple:pu,Min:hu,Max:du,Dict:wu,Fn:mu,All:ku,Any:gu,Identity:bu,IO:Ou,Maybe:Au,None:Su,Some:Mu,Either:xu,Left:Pu,Right:ju,State:Ru,Task:Nu,liftA2:Iu,liftA3:Tu,liftA4:Eu,liftA5:_u,lens:Uu,makeLenses:Fu,mappedLens:qu,view:Lu,over:zu,set:Wu,call:Cu,field:Vu,prop:Du,has:Gu,merge:Bu,immutable:Ju,instance:Hu,first:Ku,last:Qu,head:Xu,tail:Yu,initial:Zu,rest:$u,nth:no,join:to,split:ro,toUpper:eo,toLower:uo,trim:oo,reverse:io,replace:fo,unique:ao,union:co,map:lo,flatten:so,flatMap:vo,assoc:yo,equals:po,ap:ho,intersect:wo,differ:mo,pairs:ko,fold:go,foldRight:bo,unfold:Oo,concat:Ao,range:So,filter:Mo,keep:xo,drop:Po,dropWhile:jo,take:Ro,takeWhile:No,find:Io,findRight:To,foldMap:Eo,zip:_o,traverse:Uo,sequence:Fo,transducers:qo})});
