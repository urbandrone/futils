!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):t.futils=n()}(this,function(){"use strict";function t(n,r){return n.length<=0?r:function(){return D.isArray(n[0])?t([].concat(K(n[0]),K(n.slice(1))),r):t(n.slice(1),[].concat(K(r),[n[0]]))}}function n(t){return{"@@transducer/step":t,"@@transducer/init":function(){throw"transducers/init not supported on generic transformers"},"@@transducer/result":function(t){return t}}}var r=function(t){return"function"==typeof t},e=function(t,n){var r=t,e=[],u=null;if(n.length>=r)return n;for(;r>0;)e.push("arg"+r--);return u="return ("+e.join(",")+") => fx("+e.join(",")+")",new Function("fx",u)(n)},u=function t(n){if(r(n))return function(){var r=arguments.length<=0||void 0===arguments[0]?void 0:arguments[0];return void 0===r?t(n):n(r)};throw"decorators::monadic awaits a function but saw "+n},i=function t(n){if(r(n))return function(){var r=arguments.length<=0||void 0===arguments[0]?void 0:arguments[0],e=arguments.length<=1||void 0===arguments[1]?void 0:arguments[1];return void 0===r?t(n):void 0===e?u(function(t){return n(r,t)}):n(r,e)};throw"decorators::dyadic awaits a function but saw "+n},o=function t(n){if(r(n))return function(){var r=arguments.length<=0||void 0===arguments[0]?void 0:arguments[0],e=arguments.length<=1||void 0===arguments[1]?void 0:arguments[1],o=arguments.length<=2||void 0===arguments[2]?void 0:arguments[2];return void 0===r?t(n):void 0===e?i(function(t,e){return n(r,t,e)}):void 0===o?u(function(t){return n(r,e,t)}):n(r,e,o)};throw"decorators::triadic awaits a function but saw "+n},a=function t(n){if(r(n))return function(){var r=arguments.length<=0||void 0===arguments[0]?void 0:arguments[0],e=arguments.length<=1||void 0===arguments[1]?void 0:arguments[1],a=arguments.length<=2||void 0===arguments[2]?void 0:arguments[2],f=arguments.length<=3||void 0===arguments[3]?void 0:arguments[3];return void 0===r?t(n):void 0===e?o(function(t,e,u){return n(r,t,e,u)}):void 0===a?i(function(t,u){return n(r,e,t,u)}):void 0===f?u(function(t){return n(r,e,a,t)}):n(r,e,a,f)};throw"decorators::tetradic awaits a function but saw "+n},f={aritize:e,monadic:u,dyadic:i,tetradic:a,triadic:o},c=function(t){return null===t||void 0===t},s=function(t){return!c(t)},l=function(t){return void 0===t},p=function(t){return null===t},y=function(t){return"string"==typeof t},v=function(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)},h=function(t){return v(t)&&t%1===0},d=function(t){return v(t)&&t%1!==0},m=function(t){return"boolean"==typeof t},b=function(t){return!!t},k=function(t){return!t},g=function(t){return"function"==typeof t},w=function(t){return"[object Object]"==={}.toString.call(t)},O=function(t){return Array.isArray(t)},F=function(t){return Date.prototype.isPrototypeOf(t)},S=function(t){return RegExp.prototype.isPrototypeOf(t)},x=function(t){return Node.prototype.isPrototypeOf(t)},A=function(t){return NodeList.prototype.isPrototypeOf(t)},M=function(t){return Map.prototype.isPrototypeOf(t)},I=function(t){return WeakMap.prototype.isPrototypeOf(t)},j=function(t){return Set.prototype.isPrototypeOf(t)},P=function(t){return WeakSet.prototype.isPrototypeOf(t)},N=function(t){return Promise.prototype.isPrototypeOf(t)||t&&g(t.then)},R=function(t){return!c(t)&&g(t.next)},U=function(t){return!(c(t)||!t[Symbol.iterator]&&isNaN(t.length))},L=function t(n,r){return void 0===r?function(r){return t(n,r)}:Array.isArray(r)&&r.every(n)},T=function t(n,r){if(void 0===r)return function(r){return t(n,r)};if(w(r)){for(var e in r)if(r.hasOwnProperty(e)&&!n(r[e]))return!1;return!0}return!1},q=function(t){return!!t&&g(t.equals)},z=function(t){return!!t&&g(t.map)},E=function(t){return!!t&&g(t.ap)},V=function(t){return!!t&&g(t.fold)},W=function(t){return E(t)&&(g(t.of)||g(t.constructor.of))},C=function(t){return z(t)&&q(t)&&g(t.flatten)&&g(t.flatMap)},D={isNil:c,isAny:s,isNull:p,isVoid:l,isArray:O,isBool:m,isSet:j,isString:y,isWeakMap:I,isWeakSet:P,isFalse:k,isTrue:b,isFunc:g,isFloat:d,isInt:h,isNumber:v,isNode:x,isNodeList:A,isDate:F,isObject:w,isPromise:N,isIterable:U,isArrayOf:L,isObjectOf:T,isMap:M,isRegex:S,isIterator:R,isSetoid:q,isFunctor:z,isApplicative:W,isApply:E,isFoldable:V,isMonad:C},B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},J=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")},G=function(){function t(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(n,r,e){return r&&t(n.prototype,r),e&&t(n,e),n}}(),H=function(){function t(t,n){var r=[],e=!0,u=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(e=(o=a.next()).done)&&(r.push(o.value),!n||r.length!==n);e=!0);}catch(t){u=!0,i=t}finally{try{!e&&a.return&&a.return()}finally{if(u)throw i}}return r}return function(n,r){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),K=function(t){if(Array.isArray(t)){for(var n=0,r=Array(t.length);n<t.length;n++)r[n]=t[n];return r}return Array.from(t)},Q=function(t){return t},X=function(t){return function(){return t}},Y=function(t){return function(n){return n(t)}},Z=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),e=1;e<n;e++)r[e-1]=arguments[e];if(D.isFunc(t)&&D.isArrayOf(D.isFunc,r))return f.aritize(t.length,function(){return r.reduce(function(t,n){return n(t)},t.apply(void 0,arguments))});throw"combinators::pipe awaits functions but saw "+[t].concat(r)},$=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];if(D.isArrayOf(D.isFunc,n))return Z.apply(void 0,K(n.reverse()));throw"combinators::compose awaits functions but saw "+n},_=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];if(D.isArrayOf(D.isFunc,n))return f.aritize(n[0].length,function(){for(var t=arguments.length,r=Array(t),e=0;e<t;e++)r[e]=arguments[e];return!n.some(function(t){return!t.apply(void 0,r)})});throw"combinators::and awaits functions but saw "+n},tt=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];if(D.isArrayOf(D.isFunc,n))return f.aritize(n[0].length,function(){for(var t=arguments.length,r=Array(t),e=0;e<t;e++)r[e]=arguments[e];return n.some(function(t){return!!t.apply(void 0,r)})});throw"combinators::or awaits functions but saw "+n},nt={compose:$,pipe:Z,identity:Q,tap:Y,getter:X,and:_,or:tt},rt=function(t){var n=0;if(D.isFunc(t))return f.aritize(t.length,function(){return 0===n?(n=1,t.apply(void 0,arguments)):null});throw"decorators::once awaits a function but saw "+t},et=function(t){if(D.isFunc(t))return f.aritize(t.length,function(){return!t.apply(void 0,arguments)});throw"decorators::not awaits a function but saw "+t},ut=function(t){if(D.isFunc(t))return f.aritize(t.length,function(){for(var n=arguments.length,r=Array(n),e=0;e<n;e++)r[e]=arguments[e];return t.apply(void 0,K(r.reverse()))});throw"decorators::flip awaits a function but saw "+t},it=function t(n){if(D.isFunc(n))return n.length<2?n:function(){for(var r=arguments.length,e=Array(r),u=0;u<r;u++)e[u]=arguments[u];return n.length<=e.length?n.apply(void 0,e):function(){for(var r=arguments.length,u=Array(r),i=0;i<r;i++)u[i]=arguments[i];return t(n).apply(void 0,e.concat(u))}};throw"decorators::curry awaits a function but saw "+n},ot=function(t){if(D.isFunc(t))return t.length<2?t:function(){for(var n=arguments.length,r=Array(n),e=0;e<n;e++)r[e]=arguments[e];return t.length<=r.length?t.apply(void 0,K(r.reverse())):function(){for(var n=arguments.length,e=Array(n),u=0;u<n;u++)e[u]=arguments[u];return it(t).apply(void 0,r.concat(e))}};throw"decorators::curryRight awaits a function but saw "+t},at=function t(n){for(var r=arguments.length,e=Array(r>1?r-1:0),u=1;u<r;u++)e[u-1]=arguments[u];var i=e;if(D.isFunc(n)){for(;i.length<n.length;)i.push(void 0);return function(){for(var r=arguments.length,e=Array(r),u=0;u<r;u++)e[u]=arguments[u];var o=i.map(function(t){return D.isVoid(t)?e.shift():t});return o.lastIndexOf(void 0)<0?n.apply(void 0,K(o)):t.apply(void 0,[n].concat(K(o)))}}throw"decorators::partial awaits a function but saw "+n},ft=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),e=1;e<n;e++)r[e-1]=arguments[e];var u=r;if(D.isFunc(t)){for(;u.length<t.length;)u.push(void 0);return function(){for(var n=arguments.length,r=Array(n),e=0;e<n;e++)r[e]=arguments[e];var i=u.map(function(t){return D.isVoid(t)?r.shift():t});return i.lastIndexOf(void 0)<0?t.apply(void 0,K(i.reverse())):at.apply(void 0,[t].concat(K(i)))}}throw"decorators::partialRight awaits a function but saw "+t},ct=function t(n){var r=arguments.length<=1||void 0===arguments[1]?void 0:arguments[1],e=arguments.length<=2||void 0===arguments[2]?void 0:arguments[2];if(void 0===r)return function(r,e){return t(n,r,e)};if(D.isFunc(n)&&D.isFunc(r))return D.isFunc(e)?f.aritize(r.length,function(){return n.apply(void 0,arguments)?r.apply(void 0,arguments):e.apply(void 0,arguments)}):f.aritize(r.length,function(){return n.apply(void 0,arguments)?r.apply(void 0,arguments):null});throw"decorators::given awaits (fn, fn fn?), but saw "+[n,r,e]},st=function(t){var n={};if(D.isFunc(t))return f.aritize(t.length,function(){for(var r=arguments.length,e=Array(r),u=0;u<r;u++)e[u]=arguments[u];var i=JSON.stringify(e);return n.hasOwnProperty(i)||(n[i]=t.apply(void 0,e)),n[i]});throw"decorators::memoize awaits a function but saw "+t},lt={not:et,flip:ut,curry:it,curryRight:ot,partial:at,partialRight:ft,given:ct,memoize:st,once:rt},pt=Object.prototype.hasOwnProperty,yt=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),e=1;e<n;e++)r[e-1]=arguments[e];return function(n){for(var e=arguments.length,u=Array(e>1?e-1:0),i=1;i<e;i++)u[i-1]=arguments[i];var o=D.isString(t)&&D.isFunc(n[t])?n[t].apply(n,r.concat(u)):D.isFunc(t)?t.call.apply(t,[n].concat(r,u)):null;return null==o?n:o}},vt=f.dyadic(function(t,n){return pt.call(n,t)}),ht=f.dyadic(function(t,n){var r=D.isString(t)&&/\./.test(t)?t.split("."):[t];return r.reduce(function(t,n){return D.isAny(t)&&D.isAny(t[n])?t[n]:null},n)}),dt=f.triadic(function(t,n,r){var e=t,u=r;return D.isArray(r)?(u=[].concat(K(r)),e=parseInt(e,10),D.isNumber(e)&&e<r.length&&e>=0&&(u[e]=n)):D.isObject(r)&&(u=Object.assign({},r),D.isString(e)&&(u[e]=n)),u}),mt=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return Object.assign.apply(Object,[{}].concat(n))},bt=function(t){return Object.freeze(mt(t))},kt=function(t){return Object.keys(t).map(function(n){return[n,t[n]]})},gt=function(t){return t[0]},wt=function(t){return[gt(t)]},Ot=function(t){return D.isArray(t)?t.slice(0,t.length-1):D.isIterable(t)?Array.from(t).slice(0,t.length-1):[]},Ft=function(t){return t[t.length-1]},St=function(t){return[Ft(t)]},xt=function(t){return D.isArray(t)?t.slice(1):D.isIterable(t)?Array.from(t).slice(1):[]},At=function(t){return t.reduce(function(t,n){return t.lastIndexOf(n)<0?[].concat(K(t),[n]):t},[])},Mt=f.dyadic(function(t,n){return At([].concat(K(t),K(n)))}),It=f.dyadic(function(t,n){return Mt(t,n).filter(function(r){return t.indexOf(r)>-1&&n.indexOf(r)>-1})}),jt=f.dyadic(function(t,n){return Mt(t,n).filter(function(r){return t.indexOf(r)<0||n.indexOf(r)<0})}),Pt=f.dyadic(function(t,n){return D.isSetoid(n)?n.equals(t):t===n}),Nt=f.dyadic(function(t,n){if(D.isFunc(t))return D.isFunctor(n)?n.map(t):D.isObject(n)?Object.keys(n).reduce(function(r,e){return r[e]=t(n[e],e,n),r},{}):n;throw"operators::map awaits a function as first argument but saw "+t}),Rt=f.dyadic(function(t,n){if(D.isFunc(t))return D.isFunctor(n)?n.map(t):D.isObject(n)?Nt(t,n):t(n);if(D.isApply(t))return D.isFunctor(n)?t.ap(n):D.isObject(n)?t.ap({map:function(t){return Nt(t,n)}}):t.ap([n])[0];throw"operators::ap awaits apply/function as first argument but saw "+t}),Ut=function(n){if(D.isFunc(n.flatten))return n.flatten();if(D.isArray(n)){for(var r=t(n,[]);r instanceof Function;)r=r();return r}throw"operators::flatten awaits Monad or array but saw "+n},Lt=f.dyadic(function(t,n){if(D.isFunc(t))return D.isObject(n)?mt(n,Nt(t,n)):Ut(Nt(t,n));throw"operators::flatMap awaits a function as first argument but saw "+t}),Tt={field:ht,has:vt,call:yt,merge:mt,immutable:bt,first:gt,last:Ft,head:wt,tail:St,initial:Ot,rest:xt,unique:At,union:Mt,map:Nt,flatten:Ut,flatMap:Lt,assoc:dt,equals:Pt,ap:Rt,intersect:It,differ:jt,pairs:kt},qt=function(t){return{value:t,map:function(){return this}}},zt=function t(n){return{value:n,map:function(r){return t(r(n))}}},Et=function(t,n){return function(){return t(n.apply(void 0,arguments))}},Vt=lt.curry(function(t,n,r,e,u){return Tt.map(function(t){return n(r,t,u)},e(t(r,u)))}),Wt=Vt(Tt.field,Tt.assoc),Ct=lt.curry(function(t,n){return t(qt)(n).value}),Dt=lt.curry(function(t,n,r){return t(function(t){return zt(n(t))})(r).value}),Bt=lt.curry(function(t,n,r){return Dt(t,function(){return n},r)}),Jt=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.reduce(function(t,n){return Tt.has(n,t)||(t[n]=Wt(n)),t},{index:Wt})},Gt=lt.curry(function(t,n){return zt(Tt.map(Et(Tt.field("value"),t),n))}),Ht={lens:Vt,makeLenses:Jt,mappedLens:Gt,view:Ct,over:Dt,set:Bt},Kt="@@transducer/step",Qt="@@transducer/init",Xt="@@transducer/result";n.isReduced=function(t){return!D.isNil(t)&&t.reduced},n.reduce=function(t){return{value:t,reduced:!0}},n.deref=function(t){return t&&void 0!==t.value?t.value:null};var Yt=lt.curry(function(t,r,e){var u=D.isFunc(t)?n(t):t,i=r;if(D.isObject(e)){var o=Object.keys(e),a=!0,f=!1,c=void 0;try{for(var s,l=o[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var p=s.value;if(i=u[Kt](i,[e[p],p]),n.isReduced(i)){i=n.deref(i);break}}}catch(t){f=!0,c=t}finally{try{!a&&l.return&&l.return()}finally{if(f)throw c}}return u[Xt](i)}var y=!0,v=!1,h=void 0;try{for(var d,m=e[Symbol.iterator]();!(y=(d=m.next()).done);y=!0){var b=d.value;if(i=u[Kt](i,b),n.isReduced(i)){i=n.deref(i);break}}}catch(t){v=!0,h=t}finally{try{!y&&m.return&&m.return()}finally{if(v)throw h}}return u[Xt](i)}),Zt=lt.curry(function(t,r,e,u){return Yt(t(D.isFunc(r)?n(r):r),e,u)}),$t=lt.curry(function(t,n,r){if(D.isArray(t))return Zt(n,function(t,n){return[].concat(K(t),[n])},t,r);if(D.isObject(t))return Zt(n,function(t,n){var r=H(n,2),e=r[0],u=r[1],i=Object.assign({},t);return i[u]=e,i},t,r);if(D.isNumber(t)||D.isString(t))return Zt(n,function(t,n){return t+n},t,r);throw"transducers::into got unknown inital value, use ::transduce with a special step function"}),_t=function(t){return function(n){return{"@@transducer/init":function(){return n[Qt]()},"@@transducer/step":function(r,e){return n[Kt](r,t(e))},"@@transducer/result":function(t){return n[Xt](t)}}}},tn=function(t){return function(n){return{"@@transducer/init":function(){return n[Qt]()},"@@transducer/step":function(r,e){return t(e)?n[Kt](r,e):r},"@@transducer/result":function(t){return n[Xt](t)}}}},nn=function(t){return{"@@transducer/init":function(){return t[Qt]()},"@@transducer/step":function(r,e){return Yt({"@@transducer/init":function(){return t[Qt]()},"@@transducer/step":function(r,e){var u=t[Kt](r,e);return n.isReduced(u)?n.deref(u):u},"@@transducer/result":function(t){return t}},r,e)},"@@transducer/result":function(n){return t[Xt](n)}}},rn=function(){var t=arguments.length<=0||void 0===arguments[0]?1:arguments[0];return function(n){var r=t;return{"@@transducer/init":function(){return n[Qt]()},"@@transducer/step":function(t,e){return r>0?(r-=1,t):n[Kt](t,e)},"@@transducer/result":function(t){return n[Xt](t)}}}},en=function(t){return function(n){var r=!0,e=!1;return{"@@transducer/init":function(){return n[Qt]()},"@@transducer/step":function(u,i){return!e&&(r=!!t(i))?u:(e=!0,n[Kt](u,i))},"@@transducer/result":function(t){return n[Xt](t)}}}},un=function(){var t=arguments.length<=0||void 0===arguments[0]?1:arguments[0];return function(r){var e=0;return{"@@transducer/init":function(){return r[Qt]()},"@@transducer/step":function(u,i){return e<t?(e+=1,r[Kt](u,i)):n.reduce(u)},"@@transducer/result":function(t){return r[Xt](t)}}}},on=function(t){return function(r){var e=!0;return{"@@transducer/init":function(){return r[Qt]()},"@@transducer/step":function(u,i){return e=!!t(i),e?r[Kt](u,i):n.reduce(u)},"@@transducer/result":function(t){return r[Xt](t)}}}},an=function(t){return{"@@transducer/init":function(){return t[Qt]()},"@@transducer/step":function(n,r){return D.isNil(r)?n:t[Kt](n,r)},"@@transducer/result":function(n){return t[Xt](n)}}},fn=function(t){var n=Object.create(null);return{"@@transducer/init":function(){return t[Qt]()},"@@transducer/step":function(r,e){return n[e]?r:(n[e]=!0,t[Kt](r,e))},"@@transducer/result":function(n){return t[Xt](n)}}},cn=function(){var t=arguments.length<=0||void 0===arguments[0]?1:arguments[0];return function(n){var r,e=[];return{"@@transducer/init":function(){return n[Qt]()},"@@transducer/step":function(u,i){return e.length<t?(e.push(i),u):(r=n[Kt](u,e),e=[i],r)},"@@transducer/result":function(t){return e.length>0?n[Xt](n[Kt](t,e)):n[Xt](t)}}}},sn=function(t){return function(n){var r,e,u,i=[];return{"@@transducer/init":function(){return n[Qt]()},"@@transducer/step":function(o,a){return e=t(a),i.length<1?(u=e,i.push(a),o):u===e?(i.push(a),o):(u=e,r=n[Kt](o,i),i=[a],r)},"@@transducer/result":function(t){return i.length>0?n[Xt](n[Kt](t,i)):n[Xt](t)}}}},ln={fold:Yt,transduce:Zt,into:$t,map:_t,filter:tn,unique:fn,keep:an,partition:cn,partitionWith:sn,take:un,takeWhile:on,drop:rn,dropWhile:en,flatten:nn},pn=Symbol("MonadicValue"),yn=function(){function t(n){J(this,t),this.mvalue=n}return G(t,[{key:"toString",value:function(){return"Identity("+this.mvalue+")"}},{key:"equals",value:function(n){return t.prototype.isPrototypeOf(n)&&n.mvalue===this.mvalue}},{key:"map",value:function(n){if(D.isFunc(n))return t.of(n(this.mvalue));throw"Identity::map expects argument to be function but saw "+n}},{key:"of",value:function(n){return t.of(n)}},{key:"ap",value:function(t){if(D.isFunc(t.map))return t.map(this.mvalue);throw"Identity::ap expects argument to be Functor but saw "+t}},{key:"flatMap",value:function(t){if(D.isFunc(t))return this.map(t).flatten();throw"Identity::flatMap expects argument to be function but saw "+t}},{key:"flatten",value:function(){return t.of(this.mvalue.mvalue)}},{key:"mvalue",set:function(t){this[pn]=t},get:function(){return this[pn]}}],[{key:"is",value:function(n){return t.prototype.isPrototypeOf(n)}},{key:"of",value:function(n){return new t(n)}}]),t}(),vn=Symbol("MonadicValue"),hn=function(){function t(n){J(this,t),this.mvalue=n}return G(t,[{key:"toString",value:function(){return"Some("+this.mvalue+")"}},{key:"isSome",value:function(){return!0}},{key:"equals",value:function(n){return t.prototype.isPrototypeOf(n)&&n.mvalue===this.mvalue}},{key:"map",value:function(t){if(D.isFunc(t))return mn.of(t(this.mvalue));throw"Some::map expects argument to be function but saw "+t}},{key:"of",value:function(n){return t.of(n)}},{key:"ap",value:function(t){if(D.isFunc(t.map))return t.map(this.mvalue);throw"Some::ap expects argument to be Functor but saw "+t}},{key:"flatMap",value:function(t){if(D.isFunc(t))return this.map(t).flatten();throw"Some::flatMap expects argument to be function but saw "+t}},{key:"flatten",value:function(){return mn.of(this.mvalue.mvalue)}},{key:"orElse",value:function(){return this.mvalue}},{key:"orSome",value:function(){return this}},{key:"fold",value:function(t,n){if(D.isFunc(n))return n(this.mvalue);throw"Some::fold expects argument 2 to be function but saw "+n}},{key:"cata",value:function(t){if(D.isFunc(t.Some)&&D.isFunc(t.None))return this.fold(t.None,t.Some);throw"Some::cata expected Object of {Some: fn}, but saw "+t}},{key:"biMap",value:function(t,n){if(D.isFunc(t)&&D.isFunc(n))return mn.of(this.fold(t,n));throw"Some::biMap expects argument 2 to be function but saw "+n}},{key:"mvalue",set:function(t){if(D.isNil(t))throw"Some::of cannot create from null or undefined but saw "+t;this[vn]=t},get:function(){return this[vn]}}],[{key:"is",value:function(n){return t.prototype.isPrototypeOf(n)}},{key:"of",value:function(n){return t.is(n)?n:new t(n)}}]),t}(),dn=function(){function t(){J(this,t),this.mvalue=null}return G(t,[{key:"toString",value:function(){return"None"}},{key:"isSome",value:function(){return!1}},{key:"equals",value:function(n){return t.prototype.isPrototypeOf(n)&&n.toString()===this.toString()}},{key:"map",value:function(){return this}},{key:"of",value:function(){return t.of()}},{key:"ap",value:function(t){return t}},{key:"flatMap",value:function(){return this}},{key:"flatten",value:function(){return this}},{key:"orElse",value:function(t){return t}},{key:"orSome",value:function(t){return mn.of(t)}},{key:"fold",value:function(t){if(D.isFunc(t))return t();throw"None::fold expects argument 1 to be function but saw "+t}},{key:"cata",value:function(t){if(D.isFunc(t.None))return this.fold(t.None);throw"None::cata expected Object of {None: fn}, but saw "+t}},{key:"biMap",value:function(t){if(D.isFunc(t))return mn.of(this.fold(t));throw"None::biMap expects argument 1 to be function but saw "+t}},{key:"mvalue",set:function(t){this[vn]=t},get:function(){return this[vn]}}],[{key:"is",value:function(n){return t.prototype.isPrototypeOf(n)}},{key:"of",value:function(){return new t}}]),t}(),mn=function(){function t(){J(this,t)}return G(t,null,[{key:"is",value:function(t){return hn.is(t)||dn.is(t)}},{key:"of",value:function(t){return D.isNil(t)?dn.of():hn.of(t)}},{key:"fromEither",value:function(t){return t.fold(dn.of,hn.of)}}]),t}(),bn=Symbol("MonadicValue"),kn=function(){function t(n){J(this,t),this.mvalue=n}return G(t,[{key:"toString",value:function(){return"Right("+this.mvalue+")"}},{key:"isRight",value:function(){return!0}},{key:"equals",value:function(n){return t.prototype.isPrototypeOf(n)&&n.mvalue===this.mvalue}},{key:"map",value:function(n){if(D.isFunc(n))return t.of(n(this.mvalue));throw"Right::map expects argument to be function but saw "+n}},{key:"of",value:function(n){return t.of(n)}},{key:"ap",value:function(t){if(D.isFunc(t.map))return t.map(this.mvalue);throw"Right::ap expects argument to be Functor but saw "+t}},{key:"flatMap",value:function(t){if(D.isFunc(t))return this.map(t).flatten();throw"Right::flatMap expects argument to be function but saw "+t}},{key:"flatten",value:function(){return t.of(this.mvalue.mvalue)}},{key:"orElse",value:function(){return this.mvalue}},{key:"orRight",value:function(){return this}},{key:"fold",value:function(t,n){if(D.isFunc(n))return n(this.mvalue);throw"Right::fold expects argument 2 to be function but saw "+n}},{key:"cata",value:function(t){if(D.isFunc(t.Right))return t.Right(this.mvalue);throw"Right::cata expected Object of {Right: fn}, but saw "+t}},{key:"biMap",value:function(n,r){if(D.isFunc(r))return t.of(r(this.mvalue));throw"Right::biMap expects argument 2 to be function but saw "+r}},{key:"swap",value:function(){return gn.of(this.mvalue)}},{key:"mapLeft",value:function(){return this}},{key:"mvalue",set:function(t){this[bn]=t},get:function(){return this[bn]}}],[{key:"is",value:function(n){return t.prototype.isPrototypeOf(n)}},{key:"of",value:function(n){return t.is(n)?n:new t(n)}}]),t}(),gn=function(){function t(n){J(this,t),this.mvalue=n}return G(t,[{key:"toString",value:function(){return"Left("+this.mvalue+")"}},{key:"isRight",value:function(){return!1}},{key:"equals",value:function(n){return t.prototype.isPrototypeOf(n)&&n.mvalue===this.mvalue}},{key:"map",value:function(){return this}},{key:"of",value:function(n){return t.of(n)}},{key:"ap",value:function(t){return t}},{key:"flatMap",value:function(){return this}},{key:"flatten",value:function(){return this}},{key:"orElse",value:function(t){return t}},{key:"orRight",value:function(t){return kn.of(t)}},{key:"fold",value:function(t){if(D.isFunc(t))return t(this.mvalue);throw"Left::fold expects argument 1 to be function but saw "+t}},{key:"cata",value:function(t){if(D.isFunc(t.Left))return t.Left(this.mvalue);throw"Left::cata expected Object of {Left: fn}, but saw "+t}},{key:"biMap",value:function(n){if(D.isFunc(n))return t.of(n(this.mvalue));throw"Left::biMap expects argument 1 to be function but saw "+n}},{key:"swap",value:function(){return kn.of(this.mvalue)}},{key:"mapLeft",value:function(t){if(D.isFunc(t))return this.biMap(t);throw"Left::biMap expects argument 1 to be function but saw "+t}},{key:"mvalue",set:function(t){this[bn]=t},get:function(){return this[bn]}}],[{key:"is",value:function(n){return t.prototype.isPrototypeOf(n)}},{key:"of",value:function(n){return t.is(n)?n:new t(n)}}]),t}(),wn=function(){function t(){J(this,t)}return G(t,null,[{key:"is",value:function(t){return gn.is(t)||kn.is(t)}},{key:"fromNullable",value:function(t,n){return D.isNull(n)||D.isVoid(n)?gn.of(t):kn.of(n)}},{key:"fromMaybe",value:function(t){return t.fold(gn.of,kn.of)}},{key:"fromIO",value:function(n){return t.try(n.performIO)}},{key:"try",value:function(n){for(var r=arguments.length,e=Array(r>1?r-1:0),u=1;u<r;u++)e[u-1]=arguments[u];if(D.isFunc(n)){if(n.length<=e.length)try{var i=n.apply(void 0,e);return Error.prototype.isPrototypeOf(i)?gn.of(i.message):kn.of(i)}catch(t){return gn.of(t.message)}return function(){for(var r=arguments.length,u=Array(r),i=0;i<r;i++)u[i]=arguments[i];return t.try.apply(t,[n].concat(e,u))}}throw"Either::try expects argument to be function but saw "+n}}]),t}(),On=Symbol("MonadicValue"),Fn=function(){function t(n){J(this,t),this.performIO=n}return G(t,[{key:"toString",value:function(){return"IO("+this.performIO+")"}},{key:"equals",value:function(n){return t.prototype.isPrototypeOf(n)&&n.performIO===n.performIO}},{key:"map",value:function(n){if(D.isFunc(n))return t.of(nt.compose(n,this.performIO));throw"IO::map expects argument to be function but saw "+n}},{key:"of",value:function(n){return t.of(n)}},{key:"ap",value:function(t){if(D.isFunc(t.map))return t.map(this.performIO);throw"IO::ap expects argument to be Functor but saw "+t}},{key:"flatMap",value:function(t){if(D.isFunc(t))return this.map(t).flatten();throw"IO::flatMap expects argument to be function but saw "+t}},{key:"flatten",value:function(){return t.of(this.performIO().performIO)}},{key:"concat",value:function(n){if(t.is(n))return t.of(nt.compose(n.performIO,this.performIO));throw"IO::concat expected argument to be IO but saw "+n}},{key:"performIO",set:function(t){this[On]=t},get:function(){return this[On]}}],[{key:"is",value:function(n){return t.prototype.isPrototypeOf(n)}},{key:"of",value:function(n){return new t(n)}},{key:"empty",value:function(){return t.of(nt.identity)}}]),t}(),Sn=Symbol("MonadicValue"),xn=Symbol("OldMonadicValue"),An=function(){function t(n,r){J(this,t),this.mvalue=n,this.mbefore=r}return G(t,[{key:"toString",value:function(){return"State("+this.mvalue+", "+this.mbefore+")"}},{key:"equals",value:function(n){return t.prototype.isPrototypeOf(n)&&n.mvalue===this.mvalue&&n.mbefore===this.mbefore}},{key:"map",value:function(n){if(D.isFunc(n))return t.of(n(this.mvalue),this.mvalue);throw"State::map expects argument to be function but saw "+n}},{key:"of",value:function(n,r){return t.of(n,r)}},{key:"ap",value:function(t){if(D.isFunc(t.map))return t.map(this.mvalue);throw"State::ap expects argument to be Functor but saw "+t}},{key:"flatMap",value:function(t){if(D.isFunc(t))return this.map(t).flatten();throw"State::flatMap expects argument to be function but saw "+t}},{key:"flatten",value:function(){return t.of(this.mvalue.mvalue,this.mvalue.mbefore)}},{key:"mvalue",set:function(t){this[Sn]=t},get:function(){return this[Sn]}},{key:"mbefore",set:function(t){this[xn]=t},get:function(){return this[xn]||null}}],[{key:"is",value:function(n){return t.prototype.isPrototypeOf(n)}},{key:"of",value:function(n,r){return t.is(n)?n:new t(n,r)}}]),t}(),Mn=Symbol("MonadicFork"),In=Symbol("MonadicCleanUp"),jn=D.isFunc(setImmediate)?function(t){return setImmediate(t)}:D.isVoid(process)?function(t){return setTimeout(t,0)}:function(t){return process.nextTick(t)},Pn=function(){},Nn=function(){function t(n,r){J(this,t),this.fork=n,this.cleanUp=r}return G(t,[{key:"toString",value:function(){return"Task"}},{key:"equals",value:function(n){return t.prototype.isPrototypeOf(n)&&n.fork===this.fork&&n.cleanUp===this.cleanUp}},{key:"map",value:function(n){var r=this;if(D.isFunc(n))return t.of(function(t,e){return r.fork(function(n){return t(n)},function(t){return e(n(t))})},this.cleanUp);throw"Task::map expects argument to be function but saw "+n}},{key:"of",value:function(n){return t.of(n,this.cleanUp)}},{key:"ap",value:function(n){var r=this.fork,e=n.fork,u=this.cleanUp,i=n.cleanUp,o=function(t){var n=H(t,2),r=n[0],e=n[1];u(r),i(e)};return t.of(function(t,n){var u=!1,i=!1,a=!1,f=!1,c=[],s=!1,l=function(n){if(!s)return s=!0,t(n)},p=function(t){return function(r){if(!s)return t(r),f&&i?(jn(function(){return o(c)}),n(u(a))):r}},y=r(l,p(function(t){i=!0,u=t})),v=e(l,p(function(t){f=!0,a=t}));return c=[y,v]},o)}},{key:"flatMap",value:function(t){if(D.isFunc(t))return this.map(t).flatten();throw"Task::flatMap expects argument to be function but saw "+t}},{key:"flatten",value:function(){var n=this;return t.of(function(t,r){return n.fork.fork(t,r)},this.cleanUp)}},{key:"fold",value:function(n,r){var e=this;if(D.isFunc(r)&&D.isFunc(n))return t.of(function(t,u){return e.fork(function(r){return t(n(r))},function(t){return u(r(t))})},this.cleanUp);throw"Task::fold expects arguments to be functions but saw "+[n,r]}},{key:"cata",value:function(t){var n=t.Reject,r=t.Resolve;if(D.isFunc(r)&&D.isFunc(n))return this.fold(n,r);throw"Task::cata expected Object of {Reject, Resolve}"}},{key:"biMap",value:function(n,r){var e=this;if(D.isFunc(r)&&D.isFunc(n))return t.of(function(t,n){return e.fold(t,n)},this.cleanUp);throw"Task::biMap expected arguments to be functions but saw "+[n,r]}},{key:"swap",value:function(){var n=this;return t.of(function(t,r){return n.fork(r,t)},this.cleanUp)}},{key:"mapRejected",value:function(n){var r=this;if(D.isFunc(n))return t.of(function(t,e){return r.fork(function(r){return t(n(r))},e)},this.cleanUp)}},{key:"concat",value:function(n){var r=this;if(t.is(n)){var e=function(){var e=r.fork,u=n.fork,i=r.cleanUp,o=n.cleanUp,a=function(t){var n=H(t,2),r=n[0],e=n[1];i(r),o(e)};return{v:t.of(function(t,n){var r=void 0,i=!1,o=void 0,f=void 0,c=function(t){return function(n){i||(i=!0,jn(function(){return a(o)}),t(n))}};return o=e(c(t),c(n)),f=u(c(t),c(n)),r=[o,f]},a)}}();if("object"===("undefined"==typeof e?"undefined":B(e)))return e.v}throw"Task::concat expected argument to be Task but saw "+n}},{key:"orElse",value:function(n){var r=this;if(D.isFunc(n))return t.of(function(t,e){return r.fork(function(r){return n(r).fork(t,e)},e)},this.cleanUp);throw"Task::orElse expected argument to be function but saw "+n}},{key:"fork",set:function(t){this[Mn]=t},get:function(){return this[Mn]}},{key:"cleanUp",set:function(t){this[In]=t||Pn},get:function(){return this[In]}}],[{key:"is",value:function(n){return t.prototype.isPrototypeOf(n)}},{key:"resolve",value:function(n){return t.of(function(t,r){return r(n)})}},{key:"reject",value:function(n){return t.of(function(t){return t(n)})}},{key:"fromPromise",value:function(n){return t.of(function(t,r){return n.then(r,t)})}},{key:"of",value:function(n,r){return new t(n,r)}},{key:"empty",value:function(){return t.of(function(){})}}]),t}(),Rn=lt.curry(function(t,n,r){return n.map(t).ap(r)}),Un=lt.curry(function(t,n,r,e){return n.map(t).ap(r).ap(e)}),Ln=lt.curry(function(t,n,r,e,u){return n.map(t).ap(r).ap(e).ap(u)}),Tn=lt.curry(function(t,n,r,e,u,i){return n.map(t).ap(r).ap(e).ap(u).ap(i)}),qn={Identity:yn,IO:Fn,Maybe:mn,None:dn,Some:hn,State:An,Either:wn,Left:gn,Right:kn,Task:Nn,liftA2:Rn,liftA3:Un,liftA4:Ln,liftA5:Tn},zn={arity:f,type:D,combinators:nt,decorators:lt,monads:qn,lenses:Ht,operators:Tt,transducers:ln};return zn});