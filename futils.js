!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):t.futils=n()}(this,function(){"use strict";function t(t){return{"@@transducer/step":t,"@@transducer/init":function(){throw"transducers/init not supported on generic transformers"},"@@transducer/result":function(t){return t}}}var n=function(t){return"function"==typeof t},e=function(t,n){var e=t,r=[],u=null;if(n.length>=e)return n;for(;e>0;)r.push("arg"+e--);return u="return ("+r.join(",")+") => fx("+r.join(",")+")",new Function("fx",u)(n)},r=function t(e){if(n(e))return function(){var n=arguments.length<=0||void 0===arguments[0]?void 0:arguments[0];return void 0===n?t(e):e(n)};throw"decorators::monadic awaits a function but saw "+e},u=function t(e){if(n(e))return function(){var n=arguments.length<=0||void 0===arguments[0]?void 0:arguments[0],u=arguments.length<=1||void 0===arguments[1]?void 0:arguments[1];return void 0===n?t(e):void 0===u?r(function(t){return e(n,t)}):e(n,u)};throw"decorators::dyadic awaits a function but saw "+e},i=function t(e){if(n(e))return function(){var n=arguments.length<=0||void 0===arguments[0]?void 0:arguments[0],i=arguments.length<=1||void 0===arguments[1]?void 0:arguments[1],o=arguments.length<=2||void 0===arguments[2]?void 0:arguments[2];return void 0===n?t(e):void 0===i?u(function(t,r){return e(n,t,r)}):void 0===o?r(function(t){return e(n,i,t)}):e(n,i,o)};throw"decorators::triadic awaits a function but saw "+e},o=function t(e){if(n(e))return function(){var n=arguments.length<=0||void 0===arguments[0]?void 0:arguments[0],o=arguments.length<=1||void 0===arguments[1]?void 0:arguments[1],a=arguments.length<=2||void 0===arguments[2]?void 0:arguments[2],c=arguments.length<=3||void 0===arguments[3]?void 0:arguments[3];return void 0===n?t(e):void 0===o?i(function(t,r,u){return e(n,t,r,u)}):void 0===a?u(function(t,r){return e(n,o,t,r)}):void 0===c?r(function(t){return e(n,o,a,t)}):e(n,o,a,c)};throw"decorators::tetradic awaits a function but saw "+e},a={aritize:e,monadic:r,dyadic:u,tetradic:o,triadic:i},c=function(t){return null===t||void 0===t},f=function(t){return!c(t)},s=function(t){return void 0===t},l=function(t){return null===t},p=function(t){return"string"==typeof t},y=function(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)},v=function(t){return y(t)&&t%1===0},d=function(t){return y(t)&&t%1!==0},h=function(t){return"boolean"==typeof t},m=function(t){return!!t},b=function(t){return!t},w=function(t){return"function"==typeof t},g=function(t){return"[object Object]"==={}.toString.call(t)},k=function(t){return Array.isArray(t)},O=function(t){return Date.prototype.isPrototypeOf(t)},F=function(t){return RegExp.prototype.isPrototypeOf(t)},A=function(t){return Node.prototype.isPrototypeOf(t)},S=function(t){return NodeList.prototype.isPrototypeOf(t)},M=function(t){return Map.prototype.isPrototypeOf(t)},x=function(t){return WeakMap.prototype.isPrototypeOf(t)},j=function(t){return Set.prototype.isPrototypeOf(t)},R=function(t){return WeakSet.prototype.isPrototypeOf(t)},N=function(t){return Promise.prototype.isPrototypeOf(t)||t&&w(t.then)},P=function(t){return!c(t)&&w(t.next)},I=function(t){return!(c(t)||!t[Symbol.iterator]&&isNaN(t.length))},T=function t(n,e){return void 0===e?function(e){return t(n,e)}:Array.isArray(e)&&e.every(n)},L=function t(n,e){if(void 0===e)return function(e){return t(n,e)};if(g(e)){for(var r in e)if(e.hasOwnProperty(r)&&!n(e[r]))return!1;return!0}return!1},E=function(t){return!!t&&w(t.equals)},z=function(t){return!!t&&w(t.map)},q=function(t){return!!t&&w(t.ap)},U=function(t){return!!t&&w(t.fold)},W=function(t){return!!t&&w(t.biMap)},V=function(t){return!!t&&w(t.concat)},D=function(t){return k(t)||V(t)&&(w(t.empty)||w(t.constructor.empty))},B=function(t){return q(t)&&(w(t.of)||w(t.constructor.of))},_=function(t){return z(t)&&E(t)&&w(t.flatten)&&w(t.flatMap)},G={isNil:c,isAny:f,isNull:l,isVoid:s,isArray:k,isBool:h,isSet:j,isString:p,isWeakMap:x,isWeakSet:R,isFalse:b,isTrue:m,isFunc:w,isFloat:d,isInt:v,isNumber:y,isNode:A,isNodeList:S,isDate:O,isObject:g,isPromise:N,isIterable:I,isArrayOf:T,isObjectOf:L,isMap:M,isRegex:F,isIterator:P,isSetoid:E,isFunctor:z,isApplicative:B,isApply:q,isFoldable:U,isMonad:_,isMonoid:D,isBifunctor:W},C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},J=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")},H=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),K=function(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t},Q=function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)},X=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n},Y=function(){function t(t,n){var e=[],r=!0,u=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(r=(o=a.next()).done)&&(e.push(o.value),!n||e.length!==n);r=!0);}catch(t){u=!0,i=t}finally{try{!r&&a.return&&a.return()}finally{if(u)throw i}}return e}return function(n,e){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Z=function(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)},$=Symbol("SuspendedInvocation"),tt=function(t){for(var n,e=arguments.length,r=Array(e>1?e-1:0),u=1;u<e;u++)r[u-1]=arguments[u];return n={},K(n,$,!0),K(n,"run",function(){return t.apply(void 0,r)}),n},nt=function(t){return G.isObject(t)&&G.isFunc(t.run)&&t[$]},et=function(t){if(G.isFunc(t))return a.aritize(t.length,function(){for(var n=t.apply(void 0,arguments);nt(n);)n=n.run();return n});throw"trampoline :: expected argument to be function but saw "+t},rt={trampoline:et,suspend:tt},ut=function(t){return t},it=function(t){return function(){return t}},ot=function(t){return function(n){return n(t)}},at=function(t){for(var n=arguments.length,e=Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];if(G.isFunc(t)&&G.isArrayOf(G.isFunc,e))return a.aritize(t.length,function(){return e.reduce(function(t,n){return n(t)},t.apply(void 0,arguments))});throw"combinators::pipe awaits functions but saw "+[t].concat(e)},ct=function(){for(var t=arguments.length,n=Array(t),e=0;e<t;e++)n[e]=arguments[e];if(G.isArrayOf(G.isFunc,n))return at.apply(void 0,Z(n.reverse()));throw"combinators::compose awaits functions but saw "+n},ft=function(){for(var t=arguments.length,n=Array(t),e=0;e<t;e++)n[e]=arguments[e];if(G.isArrayOf(G.isFunc,n))return a.aritize(n[0].length,function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return!n.some(function(t){return!t.apply(void 0,e)})});throw"combinators::and awaits functions but saw "+n},st=function(){for(var t=arguments.length,n=Array(t),e=0;e<t;e++)n[e]=arguments[e];if(G.isArrayOf(G.isFunc,n))return a.aritize(n[0].length,function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.some(function(t){return!!t.apply(void 0,e)})});throw"combinators::or awaits functions but saw "+n},lt={compose:ct,pipe:at,id:ut,tap:ot,getter:it,and:ft,or:st},pt=function(t){var n=0;if(G.isFunc(t))return a.aritize(t.length,function(){return 0===n?(n=1,t.apply(void 0,arguments)):null});throw"decorators::once awaits a function but saw "+t},yt=function(t){if(G.isFunc(t))return a.aritize(t.length,function(){return!t.apply(void 0,arguments)});throw"decorators::not awaits a function but saw "+t},vt=function(t){if(G.isFunc(t))return a.aritize(t.length,function(){for(var n=arguments.length,e=Array(n),r=0;r<n;r++)e[r]=arguments[r];return t.apply(void 0,Z(e.reverse()))});throw"decorators::flip awaits a function but saw "+t},dt=function t(n){if(G.isFunc(n))return n.length<2?n:function(){for(var e=arguments.length,r=Array(e),u=0;u<e;u++)r[u]=arguments[u];return n.length<=r.length?n.apply(void 0,r):function(){for(var e=arguments.length,u=Array(e),i=0;i<e;i++)u[i]=arguments[i];return t(n).apply(void 0,r.concat(u))}};throw"decorators::curry awaits a function but saw "+n},ht=function(t){if(G.isFunc(t))return t.length<2?t:function(){for(var n=arguments.length,e=Array(n),r=0;r<n;r++)e[r]=arguments[r];return t.length<=e.length?t.apply(void 0,Z(e.reverse())):function(){for(var n=arguments.length,r=Array(n),u=0;u<n;u++)r[u]=arguments[u];return dt(t).apply(void 0,e.concat(r))}};throw"decorators::curryRight awaits a function but saw "+t},mt=function t(n){for(var e=arguments.length,r=Array(e>1?e-1:0),u=1;u<e;u++)r[u-1]=arguments[u];var i=r;if(G.isFunc(n)){for(;i.length<n.length;)i.push(void 0);return function(){for(var e=arguments.length,r=Array(e),u=0;u<e;u++)r[u]=arguments[u];var o=i.map(function(t){return G.isVoid(t)?r.shift():t});return o.lastIndexOf(void 0)<0?n.apply(void 0,Z(o)):t.apply(void 0,[n].concat(Z(o)))}}throw"decorators::partial awaits a function but saw "+n},bt=function(t){for(var n=arguments.length,e=Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];var u=e;if(G.isFunc(t)){for(;u.length<t.length;)u.push(void 0);return function(){for(var n=arguments.length,e=Array(n),r=0;r<n;r++)e[r]=arguments[r];var i=u.map(function(t){return G.isVoid(t)?e.shift():t});return i.lastIndexOf(void 0)<0?t.apply(void 0,Z(i.reverse())):mt.apply(void 0,[t].concat(Z(i)))}}throw"decorators::partialRight awaits a function but saw "+t},wt=function t(n){var e=arguments.length<=1||void 0===arguments[1]?void 0:arguments[1],r=arguments.length<=2||void 0===arguments[2]?void 0:arguments[2];if(void 0===e)return function(e,r){return t(n,e,r)};if(G.isFunc(n)&&G.isFunc(e))return G.isFunc(r)?a.aritize(e.length,function(){return n.apply(void 0,arguments)?e.apply(void 0,arguments):r.apply(void 0,arguments)}):a.aritize(e.length,function(){return n.apply(void 0,arguments)?e.apply(void 0,arguments):null});throw"decorators::given awaits (fn, fn fn?), but saw "+[n,e,r]},gt=function(t){var n={};if(G.isFunc(t))return a.aritize(t.length,function(){for(var e=arguments.length,r=Array(e),u=0;u<e;u++)r[u]=arguments[u];var i=JSON.stringify(r);return n.hasOwnProperty(i)||(n[i]=t.apply(void 0,r)),n[i]});throw"decorators::memoize awaits a function but saw "+t},kt={not:yt,flip:vt,curry:dt,curryRight:ht,partial:mt,partialRight:bt,given:wt,memoize:gt,once:pt},Ot=Object.prototype.hasOwnProperty,Ft=function(t){for(var n=arguments.length,e=Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];return function(n){for(var r=arguments.length,u=Array(r>1?r-1:0),i=1;i<r;i++)u[i-1]=arguments[i];var o=G.isString(t)&&G.isFunc(n[t])?n[t].apply(n,e.concat(u)):G.isFunc(t)?t.call.apply(t,[n].concat(e,u)):null;return null==o?n:o}},At=a.dyadic(function(t,n){return Ot.call(n,t)}),St=a.dyadic(function(t,n){var e=G.isString(t)&&/\./.test(t)?t.split("."):[t];return e.reduce(function(t,n){return G.isAny(t)&&G.isAny(t[n])?t[n]:null},n)}),Mt=a.triadic(function(t,n,e){var r=t,u=e;return G.isArray(e)?(u=[].concat(Z(e)),r=parseInt(r,10),G.isNumber(r)&&r<e.length&&r>=0&&(u[r]=n)):G.isObject(e)&&(u=Object.assign({},e),G.isString(r)&&(u[r]=n)),u}),xt=function(){for(var t=arguments.length,n=Array(t),e=0;e<t;e++)n[e]=arguments[e];return Object.assign.apply(Object,[{}].concat(n))},jt=function(t){return Object.freeze(xt(t))},Rt=function(t){return Object.keys(t).map(function(n){return[n,t[n]]})},Nt=function(t,n){return n instanceof t?n:Object.create(t.prototype)},Pt=a.dyadic(function(t,n){if(t&&G.isFunc(t.concat))return t.concat(n);if(n&&G.isFunc(n.concat))return n.concat(t);throw"concat :: Unable to concatenate items "+[t,n]}),It=function(t){return t[0]},Tt=function(t){return[It(t)]},Lt=function(t){return G.isArray(t)?t.slice(0,t.length-1):G.isIterable(t)?Array.from(t).slice(0,t.length-1):[]},Et=function(t){return t[t.length-1]},zt=function(t){return[Et(t)]},qt=function(t){return G.isArray(t)?t.slice(1):G.isIterable(t)?Array.from(t).slice(1):[]},Ut=function(t){return t.reduce(function(t,n){return t.lastIndexOf(n)<0?[].concat(Z(t),[n]):t},[])},Wt=a.dyadic(function(t,n){return Ut([].concat(Z(t),Z(n)))}),Vt=a.dyadic(function(t,n){return Wt(t,n).filter(function(e){return t.indexOf(e)>-1&&n.indexOf(e)>-1})}),Dt=a.dyadic(function(t,n){return Wt(t,n).filter(function(e){return t.indexOf(e)<0||n.indexOf(e)<0})}),Bt=a.triadic(function(t,n,e){var r=rt.trampoline(function(t,n,e){return e.length<1?n:rt.suspend(r,t,t(n,It(e)),qt(e))});return r(t,n,Array.from(e))}),_t=a.dyadic(function(t,n){var e=rt.trampoline(function(t,n,r){var u=t(n);return null==u?r:rt.suspend(e,t,u[1],[].concat(Z(r),[u[0]]))});return e(t,n,[])}),Gt=a.dyadic(function(t,n){return _t(function(t){return t<=n?[t,t+1]:null},t)}),Ct=a.dyadic(function(t,n){return Bt(function(n,e){return t(e)?[].concat(Z(n),[e]):n},[],Array.from(n))}),Jt=function(t){return Ct(function(t){return null!=t},Array.from(t))},Ht=a.dyadic(function(t,n){var e=Math.round(Math.abs(t));return Bt(function(t,n){return e>0?(e-=1,t):[].concat(Z(t),[n])},[],Array.from(n))}),Kt=a.dyadic(function(t,n){var e=!0;return Bt(function(n,r){return e=e&&!!t(r),e?n:[].concat(Z(n),[r])},[],Array.from(n))}),Qt=a.dyadic(function(t,n){var e=0;return Bt(function(n,r){return e<t?(e+=1,[].concat(Z(n),[r])):n},[],Array.from(n))}),Xt=a.dyadic(function(t,n){var e=!0;return Bt(function(n,r){return e&&(e=!!t(r))?[].concat(Z(n),[r]):n},[],Array.from(n))}),Yt=a.dyadic(function(t,n){return Bt(function(n,e){return null==n&&t(e)?e:n},null,Array.from(n))}),Zt=a.dyadic(function(t,n){return Yt(t,Array.from(n).reverse())}),$t=a.dyadic(function(t,n){return G.isSetoid(n)?n.equals(t):t===n}),tn=a.dyadic(function(t,n){if(G.isFunc(t))return G.isFunctor(n)?n.map(t):G.isIterable(n)?Array.from(n).map(t):G.isObject(n)?Object.keys(n).reduce(function(e,r){return e[r]=t(n[r],r,n),e},{}):n;throw"operators::map awaits a function as first argument but saw "+t}),nn=a.dyadic(function(t,n){if(G.isFunc(t))return G.isFunctor(n)?n.map(t):G.isObject(n)?tn(t,n):t(n);if(G.isApply(t))return G.isFunctor(n)?t.ap(n):G.isObject(n)?t.ap({map:function(t){return tn(t,n)}}):t.ap([n])[0];throw"operators::ap awaits apply/function as first argument but saw "+t}),en=function(t){if(G.isObject(t))return t;if(G.isFunc(t.flatten))return t.flatten();if(G.isArray(t)){var n=function(){var n=rt.trampoline(function(t,e){return e.length<1?t:G.isArray(e[0])?rt.suspend(n,t,[].concat(Z(e[0]),Z(e.slice(1)))):rt.suspend(n,[].concat(Z(t),[e[0]]),e.slice(1))});return{v:n([],t)}}();if("object"===("undefined"==typeof n?"undefined":C(n)))return n.v}throw"operators::flatten awaits Monad or array but saw "+t},rn=a.dyadic(function(t,n){if(G.isFunc(t))return en(tn(t,n));throw"operators::flatMap awaits a function as first argument but saw "+t}),un={field:St,has:At,call:Ft,merge:xt,immutable:jt,first:It,last:Et,head:Tt,tail:zt,concat:Pt,initial:Lt,rest:qt,unique:Ut,union:Wt,map:tn,flatten:en,flatMap:rn,assoc:Mt,equals:$t,ap:nn,intersect:Vt,differ:Dt,pairs:Rt,instance:Nt,fold:Bt,unfold:_t,range:Gt,take:Qt,takeWhile:Xt,filter:Ct,drop:Ht,dropWhile:Kt,keep:Jt,find:Yt,findRight:Zt},on=function(t){return{value:t,map:function(){return this}}},an=function t(n){return{value:n,map:function(e){return t(e(n))}}},cn=function(t,n){return function(){return t(n.apply(void 0,arguments))}},fn=kt.curry(function(t,n,e,r,u){return un.map(function(t){return n(e,t,u)},r(t(e,u)))}),sn=fn(un.field,un.assoc),ln=kt.curry(function(t,n){return t(on)(n).value}),pn=kt.curry(function(t,n,e){return t(function(t){return an(n(t))})(e).value}),yn=kt.curry(function(t,n,e){return pn(t,function(){return n},e)}),vn=function(){for(var t=arguments.length,n=Array(t),e=0;e<t;e++)n[e]=arguments[e];return n.reduce(function(t,n){return un.has(n,t)||(t[n]=sn(n)),t},{index:sn})},dn=kt.curry(function(t,n){return an(un.map(cn(un.field("value"),t),n))}),hn={lens:fn,makeLenses:vn,mappedLens:dn,view:ln,over:pn,set:yn},mn="@@transducer/step",bn="@@transducer/init",wn="@@transducer/result";t.isReduced=function(t){return!G.isNil(t)&&t.reduced},t.reduce=function(t){return{value:t,reduced:!0}},t.deref=function(t){return t&&void 0!==t.value?t.value:null};var gn=kt.curry(function(n,e,r){var u=G.isFunc(n)?t(n):n,i=e;if(G.isObject(r)){var o=Object.keys(r),a=!0,c=!1,f=void 0;try{for(var s,l=o[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var p=s.value;if(i=u[mn](i,[r[p],p]),t.isReduced(i)){i=t.deref(i);break}}}catch(t){c=!0,f=t}finally{try{!a&&l.return&&l.return()}finally{if(c)throw f}}return u[wn](i)}var y=!0,v=!1,d=void 0;try{for(var h,m=r[Symbol.iterator]();!(y=(h=m.next()).done);y=!0){var b=h.value;if(i=u[mn](i,b),t.isReduced(i)){i=t.deref(i);break}}}catch(t){v=!0,d=t}finally{try{!y&&m.return&&m.return()}finally{if(v)throw d}}return u[wn](i)}),kn=kt.curry(function(n,e,r,u){return gn(n(G.isFunc(e)?t(e):e),r,u)}),On=kt.curry(function(t,n,e){if(G.isArray(t))return kn(n,function(t,n){return[].concat(Z(t),[n])},t,e);if(G.isObject(t))return kn(n,function(t,n){var e=Y(n,2),r=e[0],u=e[1],i=Object.assign({},t);return i[u]=r,i},t,e);if(G.isNumber(t)||G.isString(t))return kn(n,function(t,n){return t+n},t,e);throw"transducers::into got unknown inital value, use ::transduce with a special step function"}),Fn=function(t){return function(n){return{"@@transducer/init":function(){return n[bn]()},"@@transducer/step":function(e,r){return n[mn](e,t(r))},"@@transducer/result":function(t){return n[wn](t)}}}},An=function(t){return function(n){return{"@@transducer/init":function(){return n[bn]()},"@@transducer/step":function(e,r){return t(r)?n[mn](e,r):e},"@@transducer/result":function(t){return n[wn](t)}}}},Sn=function(n){return{"@@transducer/init":function(){return n[bn]()},"@@transducer/step":function(e,r){return gn({"@@transducer/init":function(){return n[bn]()},"@@transducer/step":function(e,r){var u=n[mn](e,r);return t.isReduced(u)?t.deref(u):u},"@@transducer/result":function(t){return t}},e,r)},"@@transducer/result":function(t){return n[wn](t)}}},Mn=function(){var t=arguments.length<=0||void 0===arguments[0]?1:arguments[0];return function(n){var e=t;return{"@@transducer/init":function(){return n[bn]()},"@@transducer/step":function(t,r){return e>0?(e-=1,t):n[mn](t,r)},"@@transducer/result":function(t){return n[wn](t)}}}},xn=function(t){return function(n){var e=!0,r=!1;return{"@@transducer/init":function(){return n[bn]()},"@@transducer/step":function(u,i){return!r&&(e=!!t(i))?u:(r=!0,n[mn](u,i))},"@@transducer/result":function(t){return n[wn](t)}}}},jn=function(){var n=arguments.length<=0||void 0===arguments[0]?1:arguments[0];return function(e){var r=0;return{"@@transducer/init":function(){return e[bn]()},"@@transducer/step":function(u,i){return r<n?(r+=1,e[mn](u,i)):t.reduce(u)},"@@transducer/result":function(t){return e[wn](t)}}}},Rn=function(n){return function(e){var r=!0;return{"@@transducer/init":function(){return e[bn]()},"@@transducer/step":function(u,i){return r=!!n(i),r?e[mn](u,i):t.reduce(u)},"@@transducer/result":function(t){return e[wn](t)}}}},Nn=function(t){return{"@@transducer/init":function(){return t[bn]()},"@@transducer/step":function(n,e){return G.isNil(e)?n:t[mn](n,e)},"@@transducer/result":function(n){return t[wn](n)}}},Pn=function(t){var n=Object.create(null);return{"@@transducer/init":function(){return t[bn]()},"@@transducer/step":function(e,r){return n[r]?e:(n[r]=!0,t[mn](e,r))},"@@transducer/result":function(n){return t[wn](n)}}},In=function(){var t=arguments.length<=0||void 0===arguments[0]?1:arguments[0];return function(n){var e,r=[];return{"@@transducer/init":function(){return n[bn]()},"@@transducer/step":function(u,i){return r.length<t?(r.push(i),u):(e=n[mn](u,r),r=[i],e)},"@@transducer/result":function(t){return r.length>0?n[wn](n[mn](t,r)):n[wn](t)}}}},Tn=function(t){return function(n){var e,r,u,i=[];return{"@@transducer/init":function(){return n[bn]()},"@@transducer/step":function(o,a){return r=t(a),i.length<1?(u=r,i.push(a),o):u===r?(i.push(a),o):(u=r,e=n[mn](o,i),i=[a],e)},"@@transducer/result":function(t){return i.length>0?n[wn](n[mn](t,i)):n[wn](t)}}}},Ln={fold:gn,transduce:kn,into:On,map:Fn,filter:An,unique:Pn,keep:Nn,partition:In,partitionWith:Tn,take:jn,takeWhile:Rn,drop:Mn,dropWhile:xn,flatten:Sn},En=Symbol("MonadicValue"),zn=function(){function t(n){J(this,t),this.value=n}return H(t,[{key:"toString",value:function(){return"Identity("+this.value+")"}},{key:"equals",value:function(n){return t.prototype.isPrototypeOf(n)&&n.value===this.value}},{key:"map",value:function(n){if(G.isFunc(n))return new t(n(this.value));throw"Identity::map expects argument to be function but saw "+n}},{key:"of",value:function(n){return t.of(n)}},{key:"ap",value:function(t){if(G.isFunc(t.map))return t.map(this.value);throw"Identity::ap expects argument to be Functor but saw "+t}},{key:"flatMap",value:function(t){if(G.isFunc(t))return this.map(t).value;throw"Identity::flatMap expects argument to be function but saw "+t}},{key:"flatten",value:function(){return this.value}},{key:"fold",value:function(t){return t(this.value)}},{key:"value",set:function(t){this[En]=t},get:function(){return this[En]}}],[{key:"is",value:function(n){return t.prototype.isPrototypeOf(n)}},{key:"of",value:function(n){return new t(n)}}]),t}(),qn=Symbol("MonadicValue"),Un=function(){function t(n){J(this,t),this.value=n}return H(t,[{key:"toString",value:function(){return"Maybe"}},{key:"isSome",value:function(){return null!==this.value}},{key:"equals",value:function(n){return t.prototype.isPrototypeOf(n)&&n.value===this.value}},{key:"map",value:function(n){if(G.isFunc(n))return this.isSome()?t.of(n(this.value)):this;throw"Maybe::map expects argument to be function but saw "+n}},{key:"of",value:function(n){return t.of(n)}},{key:"ap",value:function(t){if(G.isFunc(t.map))return this.isSome()?t.map(this.value):t;throw"Maybe::ap expects argument to be Functor but saw "+t}},{key:"flatMap",value:function(t){if(G.isFunc(t))return this.isSome()?this.map(t).value:this;throw"Maybe::flatMap expects argument to be function but saw "+t}},{key:"flatten",value:function(){return this.isSome()?this.value:this}},{key:"orGet",value:function(t){return this.isSome()?this.value:t}},{key:"orElse",value:function(n){return this.isSome()?this:t.of(n)}},{key:"fold",value:function(t,n){if(G.isFunc(n))return this.isSome()?n(this.value):t(null);throw"Maybe::fold expects argument 2 to be function but saw "+n}},{key:"cata",value:function(t){if(G.isFunc(t.Some)&&G.isFunc(t.None))return this.fold(t.None,t.Some);throw"Maybe::cata expected Object of {Some: fn}, but saw "+t}},{key:"biMap",value:function(n,e){if(G.isFunc(n)&&G.isFunc(e))return t.of(this.fold(n,e));throw"Maybe::biMap expects argument 2 to be function but saw "+e}}],[{key:"fromEither",value:function(n){return n.fold(Vn.of,t.of)}},{key:"is",value:function(n){return t.prototype.isPrototypeOf(n)}},{key:"of",value:function(t){return G.isNil(t)?new Vn:new Wn(t)}}]),t}(),Wn=function(t){function n(t){return J(this,n),X(this,Object.getPrototypeOf(n).call(this,t))}return Q(n,t),H(n,[{key:"toString",value:function(){return"Some("+this.value+")"}},{key:"value",set:function(t){this[qn]=t},get:function(){return this[qn]}}],[{key:"of",value:function(t){return Un.of(t)}}]),n}(Un),Vn=function(t){function n(){return J(this,n),X(this,Object.getPrototypeOf(n).call(this,null))}return Q(n,t),H(n,[{key:"toString",value:function(){return"None"}},{key:"value",set:function(t){this[qn]=t},get:function(){return this[qn]}}],[{key:"of",value:function(){return new n}}]),n}(Un),Dn=Symbol("MonadicValue"),Bn=function(){function t(n){J(this,t),this.value=n}return H(t,[{key:"toString",value:function(){return"Right("+this.value+")"}},{key:"isRight",value:function(){return!0}},{key:"equals",value:function(n){return t.prototype.isPrototypeOf(n)&&n.value===this.value}},{key:"map",value:function(n){if(G.isFunc(n))return t.of(n(this.value));throw"Right::map expects argument to be function but saw "+n}},{key:"of",value:function(n){return t.of(n)}},{key:"ap",value:function(t){if(G.isFunc(t.map))return t.map(this.value);throw"Right::ap expects argument to be Functor but saw "+t}},{key:"flatMap",value:function(t){if(G.isFunc(t))return this.map(t).value;throw"Right::flatMap expects argument to be function but saw "+t}},{key:"flatten",value:function(){return this.value}},{key:"orGet",value:function(){return this.value}},{key:"orElse",value:function(){return this}},{key:"fold",value:function(t,n){if(G.isFunc(n))return n(this.value);throw"Right::fold expects argument 2 to be function but saw "+n}},{key:"cata",value:function(t){if(G.isFunc(t.Right))return t.Right(this.value);throw"Right::cata expected Object of {Right: fn}, but saw "+t}},{key:"biMap",value:function(n,e){if(G.isFunc(e))return t.of(e(this.value));throw"Right::biMap expects argument 2 to be function but saw "+e}},{key:"swap",value:function(){return _n.of(this.value)}},{key:"mapLeft",value:function(){return this}},{key:"value",set:function(t){this[Dn]=t},get:function(){return this[Dn]}}],[{key:"is",value:function(n){return t.prototype.isPrototypeOf(n)}},{key:"of",value:function(n){return new t(n)}}]),t}(),_n=function(){function t(n){J(this,t),this.value=n}return H(t,[{key:"toString",value:function(){return"Left("+this.value+")"}},{key:"isRight",value:function(){return!1}},{key:"equals",value:function(n){return t.prototype.isPrototypeOf(n)&&n.value===this.value}},{key:"map",value:function(){return this}},{key:"of",value:function(n){return t.of(n)}},{key:"ap",value:function(t){return t}},{key:"flatMap",value:function(){return this}},{key:"flatten",value:function(){return this}},{key:"orGet",value:function(t){return t}},{key:"orElse",value:function(t){return Bn.of(t)}},{key:"fold",value:function(t){if(G.isFunc(t))return t(this.value);throw"Left::fold expects argument 1 to be function but saw "+t}},{key:"cata",value:function(t){if(G.isFunc(t.Left))return t.Left(this.value);throw"Left::cata expected Object of {Left: fn}, but saw "+t}},{key:"biMap",value:function(n){if(G.isFunc(n))return t.of(n(this.value));throw"Left::biMap expects argument 1 to be function but saw "+n}},{key:"swap",value:function(){return Bn.of(this.value)}},{key:"mapLeft",value:function(t){if(G.isFunc(t))return this.biMap(t);throw"Left::biMap expects argument 1 to be function but saw "+t}},{key:"value",set:function(t){this[Dn]=t},get:function(){return this[Dn]}}],[{key:"is",value:function(n){return t.prototype.isPrototypeOf(n)}},{key:"of",value:function(n){return new t(n)}}]),t}(),Gn=function(){function t(){J(this,t)}return H(t,null,[{key:"is",value:function(t){return _n.is(t)||Bn.is(t)}},{key:"of",value:function(t){return Bn.of(t)}},{key:"fromNullable",value:function(t){return G.isNull(t)||G.isVoid(t)?_n.of(t):Bn.of(t)}},{key:"fromMaybe",value:function(t){return t.fold(function(){return _n.of(null)},Bn.of)}},{key:"fromIO",value:function(n){return t.try(n.run)}},{key:"try",value:function(n){for(var e=arguments.length,r=Array(e>1?e-1:0),u=1;u<e;u++)r[u-1]=arguments[u];if(G.isFunc(n)){if(n.length<=r.length)try{var i=n.apply(void 0,r);return Error.prototype.isPrototypeOf(i)?_n.of(i.message):Bn.of(i)}catch(t){return _n.of(t.message)}return function(){for(var e=arguments.length,u=Array(e),i=0;i<e;i++)u[i]=arguments[i];return t.try.apply(t,[n].concat(r,u))}}throw"Either::try expects argument to be function but saw "+n}}]),t}(),Cn=Symbol("MonadicValue"),Jn=function(t,n){return function(){return t(n.apply(void 0,arguments))}},Hn=function(){function t(n){J(this,t),this.run=n}return H(t,[{key:"toString",value:function(){return"IO"}},{key:"equals",value:function(n){return t.prototype.isPrototypeOf(n)&&this.run===n.run}},{key:"map",value:function(n){if(G.isFunc(n))return new t(Jn(n,this.run));throw"IO::map expects argument to be function but saw "+n}},{key:"of",value:function(n){return t.of(n)}},{key:"ap",value:function(t){if(G.isFunc(t.map))return t.map(this.run);throw"IO::ap expects argument to be Functor but saw "+t}},{key:"flatMap",value:function(t){if(G.isFunc(t))return this.map(t).run();throw"IO::flatMap expects argument to be function but saw "+t}},{key:"flatten",value:function(){return this.run()}},{key:"fold",value:function(t){return t(this.run())}},{key:"run",set:function(t){this[Cn]=t},get:function(){return this[Cn]}}],[{key:"is",value:function(n){return t.prototype.isPrototypeOf(n)}},{key:"of",value:function(n){return new t(function(){return n})}}]),t}(),Kn=Symbol("MonadicValue"),Qn=function(){function t(n){J(this,t),this.compute=n}return H(t,[{key:"toString",value:function(){return"State"}},{key:"map",value:function(n){var e=this;if(G.isFunc(n))return new t(function(t){var r=e.compute(t);return[n(r[0]),r[1]]});throw"State::map expects argument to be function but saw "+n}},{key:"of",value:function(n){return t.of(n)}},{key:"ap",value:function(t){var n=this;if(G.isFunc(t.map))return t.map(function(t){return n.run()(t)});throw"State::ap expects argument to be Functor but saw "+t}},{key:"flatMap",value:function(n){var e=this;if(G.isFunc(n))return new t(function(t){var r=e.compute(t);return n(r[0]).compute(r[1])});throw"State::flatMap expects argument to be function but saw "+n}},{key:"flatten",value:function(){var n=this;return new t(function(t){var e=n.compute(t);return e[0].compute(e[1])})}},{key:"fold",value:function(t,n){return t(this.run(n))}},{key:"run",value:function(t){return this.compute(t)[0]}},{key:"exec",value:function(t){return this.compute(t)[1]}},{key:"compute",set:function(t){this[Kn]=t},get:function(){return this[Kn]}}],[{key:"get",value:function(){return new t(function(t){return[t,t]})}},{key:"put",value:function(n){return new t(function(){return[null,n]})}},{key:"modify",value:function(n){return t.get().flatMap(function(e){return t.put(n(e))})}},{key:"is",value:function(n){return t.prototype.isPrototypeOf(n)}},{key:"of",value:function(n){return new t(function(t){return[n,t]})}}]),t}(),Xn=Symbol("MonadicFork"),Yn=Symbol("MonadicCleanUp"),Zn="undefined"!=typeof setImmediate?function(t){return setImmediate(t)}:"undefined"!=typeof process?function(t){return process.nextTick(t)}:function(t){return setTimeout(t,0)},$n=function(){},te=function(){function t(n,e){J(this,t),this.run=n,this.cleanUp=e}return H(t,[{key:"toString",value:function(){return"Task"}},{key:"equals",value:function(n){return t.prototype.isPrototypeOf(n)}},{key:"map",value:function(n){var e=this;if(G.isFunc(n))return new t(function(t,r){return e.run(function(n){return t(n)},function(t){return r(n(t))})},this.cleanUp);throw"Task::map expects argument to be function but saw "+n}},{key:"of",value:function(n){return t.of(n)}},{key:"ap",value:function(n){var e=this.run,r=n.run,u=this.cleanUp,i=n.cleanUp,o=function(t){var n=Y(t,2),e=n[0],r=n[1];u(e),i(r)};return new t(function(t,n){var u=!1,i=!1,a=!1,c=!1,f=[],s=!1,l=function(n){if(!s)return s=!0,t(n)},p=function(t){return function(e){if(!s)return t(e),c&&i?(Zn(function(){return o(f)}),n(u(a))):e}},y=e(l,p(function(t){i=!0,u=t})),v=r(l,p(function(t){c=!0,a=t}));return f=[y,v]},o)}},{key:"flatMap",value:function(n){var e=this;if(G.isFunc(n))return new t(function(t,r){return e.run(function(n){return t(n)},function(e){return n(e).run(t,r)})},this.cleanUp);throw"Task::flatMap expects argument to be function but saw "+n}},{key:"flatten",value:function(){var n=this;return new t(function(t,e){return n.run().run(t,e)},this.cleanUp)}},{key:"fold",value:function(t,n){if(G.isFunc(n)&&G.isFunc(t))return this.run(t,n);throw"Task::fold expects arguments to be functions but saw "+[t,n]}},{key:"cata",value:function(t){var n=t.Reject,e=t.Resolve;if(G.isFunc(e)&&G.isFunc(n))return this.fold(n,e);
throw"Task::cata expected Object of {Reject, Resolve}"}},{key:"biMap",value:function(n,e){var r=this;if(G.isFunc(e)&&G.isFunc(n))return new t(function(t,n){return r.fold(t,n)},this.cleanUp);throw"Task::biMap expected arguments to be functions but saw "+[n,e]}},{key:"swap",value:function(){var n=this;return new t(function(t,e){return n.run(e,t)},this.cleanUp)}},{key:"mapRejected",value:function(n){var e=this;if(G.isFunc(n))return new t(function(t,r){return e.run(function(e){return t(n(e))},r)},this.cleanUp)}},{key:"concat",value:function(n){var e=this;if(t.is(n)){var r=function(){var r=e.run,u=n.run,i=e.cleanUp,o=n.cleanUp,a=function(t){var n=Y(t,2),e=n[0],r=n[1];i(e),o(r)};return{v:new t(function(t,n){var e=void 0,i=!1,o=void 0,c=void 0,f=function(t){return function(n){i||(i=!0,Zn(function(){return a(o)}),t(n))}};return o=r(f(t),f(n)),c=u(f(t),f(n)),e=[o,c]},a)}}();if("object"===("undefined"==typeof r?"undefined":C(r)))return r.v}throw"Task::concat expected argument to be Task but saw "+n}},{key:"orElse",value:function(n){var e=this;if(G.isFunc(n))return new t(function(t,r){return e.run(function(e){return n(e).run(t,r)},r)},this.cleanUp);throw"Task::orElse expected argument to be function but saw "+n}},{key:"run",set:function(t){this[Xn]=t},get:function(){return this[Xn]}},{key:"cleanUp",set:function(t){this[Yn]=t||$n},get:function(){return this[Yn]}}],[{key:"is",value:function(n){return t.prototype.isPrototypeOf(n)}},{key:"resolve",value:function(n){return new t(function(t,e){return e(n)})}},{key:"reject",value:function(n){return new t(function(t){return t(n)})}},{key:"of",value:function(n){return new t(function(t,e){return e(n)})}},{key:"empty",value:function(){return new t(function(){})}}]),t}(),ne=kt.curry(function(t,n,e){return n.map(t).ap(e)}),ee=kt.curry(function(t,n,e,r){return n.map(t).ap(e).ap(r)}),re=kt.curry(function(t,n,e,r,u){return n.map(t).ap(e).ap(r).ap(u)}),ue=kt.curry(function(t,n,e,r,u,i){return n.map(t).ap(e).ap(r).ap(u).ap(i)}),ie={Identity:zn,IO:Hn,Maybe:Un,None:Vn,Some:Wn,State:Qn,Either:Gn,Left:_n,Right:Bn,Task:te,liftA2:ne,liftA3:ee,liftA4:re,liftA5:ue},oe=Symbol("MonoidalValue"),ae=function(t){return t},ce=function(){function t(n){J(this,t),this[oe]=n}return H(t,[{key:"concat",value:function(n){return new t(this[oe]+n[oe])}},{key:"fold",value:function(t){return t(this[oe])}}],[{key:"empty",value:function(){return new t(0)}},{key:"of",value:function(n){return new t(n)}}]),t}(),fe=function(){function t(n){J(this,t),this[oe]=n}return H(t,[{key:"concat",value:function(n){return new t(this[oe]*n[oe])}},{key:"fold",value:function(t){return t(this[oe])}}],[{key:"empty",value:function(){return new t(1)}},{key:"of",value:function(n){return new t(n)}}]),t}(),se=function(){function t(n){J(this,t),this[oe]=n}return H(t,[{key:"concat",value:function(n){return new t(this[oe]&&n[oe])}},{key:"fold",value:function(t){return t(this[oe])}}],[{key:"empty",value:function(){return new t((!0))}},{key:"of",value:function(n){return new t(n)}}]),t}(),le=function(){function t(n){J(this,t),this[oe]=n}return H(t,[{key:"concat",value:function(n){return new t(this[oe]||n[oe])}},{key:"fold",value:function(t){return t(this[oe])}}],[{key:"empty",value:function(){return new t((!1))}},{key:"of",value:function(n){return new t(n)}}]),t}(),pe=function(){function t(n){J(this,t),this[oe]=n}return H(t,[{key:"concat",value:function(n){var e=this;return new t(function(t){return n[oe](e[oe](t))})}},{key:"fold",value:function(t,n){return t(this[oe](n))}}],[{key:"empty",value:function(){return new t(ae)}},{key:"of",value:function(n){return new t(function(){return n})}}]),t}(),ye=function(){function t(n){J(this,t),this[oe]=n}return H(t,[{key:"concat",value:function(n){return new t(Math.min(this[oe],n[oe]))}},{key:"fold",value:function(t){return t(this[oe])}}],[{key:"empty",value:function(){return new t(1/0)}},{key:"of",value:function(n){return new t(n)}}]),t}(),ve=function(){function t(n){J(this,t),this[oe]=n}return H(t,[{key:"concat",value:function(n){return new t(Math.max(this[oe],n[oe]))}},{key:"fold",value:function(t){return t(this[oe])}}],[{key:"empty",value:function(){return new t((-(1/0)))}},{key:"of",value:function(n){return new t(n)}}]),t}(),de=function(){function t(n){J(this,t),this[oe]=n}return H(t,[{key:"concat",value:function(n){return new t(Object.assign({},this[oe],n[oe]))}},{key:"fold",value:function(t){return t(this[oe])}}],[{key:"empty",value:function(){return new t({})}},{key:"of",value:function(n){return new t(n)}}]),t}(),he={Additive:ce,Multiple:fe,All:se,Any:le,Min:ye,Max:ve,Dict:de,Fn:pe},me=Symbol("TypeValue"),be=Symbol("TypeName"),we=function(t,n){function e(n){var r=un.instance(e,this);if(e.typeOf(n))return r[me]=n,r[be]=t,r;throw new TypeError(t+" constructor matched invalid "+n)}return e.prototype.toString=function(){return t+"("+this[me]+")"},e.prototype.valueOf=function(){return this[me]},e.prototype.fold=function(t){return t(this[me])},e.typeOf=function(t){return G.isFunc(n)?!!n(t):!!G.isObject(n)&&Object.keys(n).reduce(function(e,r){return e&&!!n[r](t[r])},!0)},e},ge=kt.curry(function(t,n){return we(t,n)});ge.isType=function(t){return G.isObject(t)&&!G.isVoid(t[me])&&G.isString(t[be])},ge.cata=kt.curry(function(t,n){if(G.isFunc(t.orElse))return ge.isType(n)?G.isFunc(t[n[be]])?t[n[be]](n[me]):t.orElse(n[me]):t.orElse(n);throw'Type.cata :: Found no "orElse" case in '+t});var ke={trampoline:rt.trampoline,suspend:rt.suspend,aritize:a.aritize,monadic:a.monadic,dyadic:a.dyadic,triadic:a.triadic,tetradic:a.tetradic,isNil:G.isNil,isAny:G.isAny,isNull:G.isNull,isVoid:G.isVoid,isString:G.isString,isNumber:G.isNumber,isInt:G.isInt,isFloat:G.isFloat,isBool:G.isBool,isTrue:G.isTrue,isFalse:G.isFalse,isFunc:G.isFunc,isObject:G.isObject,isArray:G.isArray,isDate:G.isDate,isRegex:G.isRegex,isNode:G.isNode,isNodeList:G.isNodeList,isPromise:G.isPromise,isIterator:G.isIterator,isIterable:G.isIterable,isArrayOf:G.isArrayOf,isObjectOf:G.isObjectOf,isSetoid:G.isSetoid,isFunctor:G.isFunctor,isApply:G.isApply,isFoldable:G.isFoldable,isBifunctor:G.isBifunctor,isSemigroup:G.isSemigroup,isMonoid:G.isMonoid,isMonad:G.isMonad,isApplicative:G.isApplicative,id:lt.id,getter:lt.getter,tap:lt.tap,pipe:lt.pipe,compose:lt.compose,and:lt.and,or:lt.or,once:kt.once,not:kt.not,flip:kt.flip,curry:kt.curry,curryRight:kt.curryRight,partial:kt.partial,partialRight:kt.partialRight,given:kt.given,memoize:kt.memoize,Type:ge,Additive:he.Additive,Multiple:he.Multiple,Min:he.Min,Max:he.Max,Dict:he.Dict,Fn:he.Fn,All:he.All,Any:he.Any,Identity:ie.Identity,IO:ie.IO,Maybe:ie.Maybe,None:ie.None,Some:ie.Some,Either:ie.Either,Left:ie.Left,Right:ie.Right,State:ie.State,Task:ie.Task,liftA2:ie.liftA2,liftA3:ie.liftA3,liftA4:ie.liftA4,liftA5:ie.liftA5,lens:hn.lens,makeLenses:hn.makeLenses,mappedLens:hn.mappedLens,view:hn.view,over:hn.over,set:hn.set,call:un.call,field:un.field,has:un.has,merge:un.merge,immutable:un.immutable,instance:un.instance,first:un.first,last:un.last,head:un.head,tail:un.tail,initial:un.initial,rest:un.rest,unique:un.unique,union:un.union,map:un.map,flatten:un.flatten,flatMap:un.flatMap,assoc:un.assoc,equals:un.equals,ap:un.ap,intersect:un.intersect,differ:un.differ,pairs:un.pairs,fold:un.fold,unfold:un.unfold,concat:un.concat,range:un.range,filter:un.filter,keep:un.keep,drop:un.drop,dropWhile:un.dropWhile,take:un.take,takeWhile:un.takeWhile,partition:un.partition,partitionWith:un.partitionWith,find:un.find,findRight:un.findRight,transducers:Ln};return ke});
