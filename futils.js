!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):t.futils=n()}(this,function(){"use strict";function t(n,e){return n.length<=0?e:function(){return J.isArray(n[0])?t([].concat(Y(n[0]),Y(n.slice(1))),e):t(n.slice(1),[].concat(Y(e),[n[0]]))}}function n(t){return{"@@transducer/step":t,"@@transducer/init":function(){throw"transducers/init not supported on generic transformers"},"@@transducer/result":function(t){return t}}}var e=function(t){return"function"==typeof t},r=function(t,n){var e=t,r=[],u=null;if(n.length>=e)return n;for(;e>0;)r.push("arg"+e--);return u="return ("+r.join(",")+") => fx("+r.join(",")+")",new Function("fx",u)(n)},u=function t(n){if(e(n))return function(){var e=arguments.length<=0||void 0===arguments[0]?void 0:arguments[0];return void 0===e?t(n):n(e)};throw"decorators::monadic awaits a function but saw "+n},i=function t(n){if(e(n))return function(){var e=arguments.length<=0||void 0===arguments[0]?void 0:arguments[0],r=arguments.length<=1||void 0===arguments[1]?void 0:arguments[1];return void 0===e?t(n):void 0===r?u(function(t){return n(e,t)}):n(e,r)};throw"decorators::dyadic awaits a function but saw "+n},o=function t(n){if(e(n))return function(){var e=arguments.length<=0||void 0===arguments[0]?void 0:arguments[0],r=arguments.length<=1||void 0===arguments[1]?void 0:arguments[1],o=arguments.length<=2||void 0===arguments[2]?void 0:arguments[2];return void 0===e?t(n):void 0===r?i(function(t,r){return n(e,t,r)}):void 0===o?u(function(t){return n(e,r,t)}):n(e,r,o)};throw"decorators::triadic awaits a function but saw "+n},a=function t(n){if(e(n))return function(){var e=arguments.length<=0||void 0===arguments[0]?void 0:arguments[0],r=arguments.length<=1||void 0===arguments[1]?void 0:arguments[1],a=arguments.length<=2||void 0===arguments[2]?void 0:arguments[2],c=arguments.length<=3||void 0===arguments[3]?void 0:arguments[3];return void 0===e?t(n):void 0===r?o(function(t,r,u){return n(e,t,r,u)}):void 0===a?i(function(t,u){return n(e,r,t,u)}):void 0===c?u(function(t){return n(e,r,a,t)}):n(e,r,a,c)};throw"decorators::tetradic awaits a function but saw "+n},c={aritize:r,monadic:u,dyadic:i,tetradic:a,triadic:o},f=function(t){return null===t||void 0===t},s=function(t){return!f(t)},l=function(t){return void 0===t},p=function(t){return null===t},y=function(t){return"string"==typeof t},v=function(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)},d=function(t){return v(t)&&t%1===0},h=function(t){return v(t)&&t%1!==0},m=function(t){return"boolean"==typeof t},b=function(t){return!!t},g=function(t){return!t},w=function(t){return"function"==typeof t},k=function(t){return"[object Object]"==={}.toString.call(t)},F=function(t){return Array.isArray(t)},O=function(t){return Date.prototype.isPrototypeOf(t)},A=function(t){return RegExp.prototype.isPrototypeOf(t)},S=function(t){return Node.prototype.isPrototypeOf(t)},x=function(t){return NodeList.prototype.isPrototypeOf(t)},M=function(t){return Map.prototype.isPrototypeOf(t)},j=function(t){return WeakMap.prototype.isPrototypeOf(t)},N=function(t){return Set.prototype.isPrototypeOf(t)},R=function(t){return WeakSet.prototype.isPrototypeOf(t)},P=function(t){return Promise.prototype.isPrototypeOf(t)||t&&w(t.then)},I=function(t){return!f(t)&&w(t.next)},T=function(t){return!(f(t)||!t[Symbol.iterator]&&isNaN(t.length))},L=function t(n,e){return void 0===e?function(e){return t(n,e)}:Array.isArray(e)&&e.every(n)},E=function t(n,e){if(void 0===e)return function(e){return t(n,e)};if(k(e)){for(var r in e)if(e.hasOwnProperty(r)&&!n(e[r]))return!1;return!0}return!1},q=function(t){return!!t&&w(t.equals)},z=function(t){return!!t&&w(t.map)},U=function(t){return!!t&&w(t.ap)},V=function(t){return!!t&&w(t.fold)},W=function(t){return!!t&&w(t.biMap)},B=function(t){return!!t&&w(t.concat)},D=function(t){return F(t)||B(t)&&(w(t.empty)||w(t.constructor.empty))},G=function(t){return U(t)&&(w(t.of)||w(t.constructor.of))},C=function(t){return z(t)&&q(t)&&w(t.flatten)&&w(t.flatMap)},J={isNil:f,isAny:s,isNull:p,isVoid:l,isArray:F,isBool:m,isSet:N,isString:y,isWeakMap:j,isWeakSet:R,isFalse:g,isTrue:b,isFunc:w,isFloat:h,isInt:d,isNumber:v,isNode:S,isNodeList:x,isDate:O,isObject:k,isPromise:P,isIterable:T,isArrayOf:L,isObjectOf:E,isMap:M,isRegex:A,isIterator:I,isSetoid:q,isFunctor:z,isApplicative:G,isApply:U,isFoldable:V,isMonad:C,isMonoid:D,isBifunctor:W},H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},K=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")},Q=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),X=function(){function t(t,n){var e=[],r=!0,u=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(r=(o=a.next()).done)&&(e.push(o.value),!n||e.length!==n);r=!0);}catch(t){u=!0,i=t}finally{try{!r&&a.return&&a.return()}finally{if(u)throw i}}return e}return function(n,e){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Y=function(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)},Z=function(t){return t},$=function(t){return function(){return t}},_=function(t){return function(n){return n(t)}},tt=function(t){for(var n=arguments.length,e=Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];if(J.isFunc(t)&&J.isArrayOf(J.isFunc,e))return c.aritize(t.length,function(){return e.reduce(function(t,n){return n(t)},t.apply(void 0,arguments))});throw"combinators::pipe awaits functions but saw "+[t].concat(e)},nt=function(){for(var t=arguments.length,n=Array(t),e=0;e<t;e++)n[e]=arguments[e];if(J.isArrayOf(J.isFunc,n))return tt.apply(void 0,Y(n.reverse()));throw"combinators::compose awaits functions but saw "+n},et=function(){for(var t=arguments.length,n=Array(t),e=0;e<t;e++)n[e]=arguments[e];if(J.isArrayOf(J.isFunc,n))return c.aritize(n[0].length,function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return!n.some(function(t){return!t.apply(void 0,e)})});throw"combinators::and awaits functions but saw "+n},rt=function(){for(var t=arguments.length,n=Array(t),e=0;e<t;e++)n[e]=arguments[e];if(J.isArrayOf(J.isFunc,n))return c.aritize(n[0].length,function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.some(function(t){return!!t.apply(void 0,e)})});throw"combinators::or awaits functions but saw "+n},ut={compose:nt,pipe:tt,id:Z,tap:_,getter:$,and:et,or:rt},it=function(t){var n=0;if(J.isFunc(t))return c.aritize(t.length,function(){return 0===n?(n=1,t.apply(void 0,arguments)):null});throw"decorators::once awaits a function but saw "+t},ot=function(t){if(J.isFunc(t))return c.aritize(t.length,function(){return!t.apply(void 0,arguments)});throw"decorators::not awaits a function but saw "+t},at=function(t){if(J.isFunc(t))return c.aritize(t.length,function(){for(var n=arguments.length,e=Array(n),r=0;r<n;r++)e[r]=arguments[r];return t.apply(void 0,Y(e.reverse()))});throw"decorators::flip awaits a function but saw "+t},ct=function t(n){if(J.isFunc(n))return n.length<2?n:function(){for(var e=arguments.length,r=Array(e),u=0;u<e;u++)r[u]=arguments[u];return n.length<=r.length?n.apply(void 0,r):function(){for(var e=arguments.length,u=Array(e),i=0;i<e;i++)u[i]=arguments[i];return t(n).apply(void 0,r.concat(u))}};throw"decorators::curry awaits a function but saw "+n},ft=function(t){if(J.isFunc(t))return t.length<2?t:function(){for(var n=arguments.length,e=Array(n),r=0;r<n;r++)e[r]=arguments[r];return t.length<=e.length?t.apply(void 0,Y(e.reverse())):function(){for(var n=arguments.length,r=Array(n),u=0;u<n;u++)r[u]=arguments[u];return ct(t).apply(void 0,e.concat(r))}};throw"decorators::curryRight awaits a function but saw "+t},st=function t(n){for(var e=arguments.length,r=Array(e>1?e-1:0),u=1;u<e;u++)r[u-1]=arguments[u];var i=r;if(J.isFunc(n)){for(;i.length<n.length;)i.push(void 0);return function(){for(var e=arguments.length,r=Array(e),u=0;u<e;u++)r[u]=arguments[u];var o=i.map(function(t){return J.isVoid(t)?r.shift():t});return o.lastIndexOf(void 0)<0?n.apply(void 0,Y(o)):t.apply(void 0,[n].concat(Y(o)))}}throw"decorators::partial awaits a function but saw "+n},lt=function(t){for(var n=arguments.length,e=Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];var u=e;if(J.isFunc(t)){for(;u.length<t.length;)u.push(void 0);return function(){for(var n=arguments.length,e=Array(n),r=0;r<n;r++)e[r]=arguments[r];var i=u.map(function(t){return J.isVoid(t)?e.shift():t});return i.lastIndexOf(void 0)<0?t.apply(void 0,Y(i.reverse())):st.apply(void 0,[t].concat(Y(i)))}}throw"decorators::partialRight awaits a function but saw "+t},pt=function t(n){var e=arguments.length<=1||void 0===arguments[1]?void 0:arguments[1],r=arguments.length<=2||void 0===arguments[2]?void 0:arguments[2];if(void 0===e)return function(e,r){return t(n,e,r)};if(J.isFunc(n)&&J.isFunc(e))return J.isFunc(r)?c.aritize(e.length,function(){return n.apply(void 0,arguments)?e.apply(void 0,arguments):r.apply(void 0,arguments)}):c.aritize(e.length,function(){return n.apply(void 0,arguments)?e.apply(void 0,arguments):null});throw"decorators::given awaits (fn, fn fn?), but saw "+[n,e,r]},yt=function(t){var n={};if(J.isFunc(t))return c.aritize(t.length,function(){for(var e=arguments.length,r=Array(e),u=0;u<e;u++)r[u]=arguments[u];var i=JSON.stringify(r);return n.hasOwnProperty(i)||(n[i]=t.apply(void 0,r)),n[i]});throw"decorators::memoize awaits a function but saw "+t},vt={not:ot,flip:at,curry:ct,curryRight:ft,partial:st,partialRight:lt,given:pt,memoize:yt,once:it},dt=Object.prototype.hasOwnProperty,ht=function(t){for(var n=arguments.length,e=Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];return function(n){for(var r=arguments.length,u=Array(r>1?r-1:0),i=1;i<r;i++)u[i-1]=arguments[i];var o=J.isString(t)&&J.isFunc(n[t])?n[t].apply(n,e.concat(u)):J.isFunc(t)?t.call.apply(t,[n].concat(e,u)):null;return null==o?n:o}},mt=c.dyadic(function(t,n){return dt.call(n,t)}),bt=c.dyadic(function(t,n){var e=J.isString(t)&&/\./.test(t)?t.split("."):[t];return e.reduce(function(t,n){return J.isAny(t)&&J.isAny(t[n])?t[n]:null},n)}),gt=c.triadic(function(t,n,e){var r=t,u=e;return J.isArray(e)?(u=[].concat(Y(e)),r=parseInt(r,10),J.isNumber(r)&&r<e.length&&r>=0&&(u[r]=n)):J.isObject(e)&&(u=Object.assign({},e),J.isString(r)&&(u[r]=n)),u}),wt=function(){for(var t=arguments.length,n=Array(t),e=0;e<t;e++)n[e]=arguments[e];return Object.assign.apply(Object,[{}].concat(n))},kt=function(t){return Object.freeze(wt(t))},Ft=function(t){return Object.keys(t).map(function(n){return[n,t[n]]})},Ot=function(t){return t[0]},At=function(t){return[Ot(t)]},St=function(t){return J.isArray(t)?t.slice(0,t.length-1):J.isIterable(t)?Array.from(t).slice(0,t.length-1):[]},xt=function(t){return t[t.length-1]},Mt=function(t){return[xt(t)]},jt=function(t){return J.isArray(t)?t.slice(1):J.isIterable(t)?Array.from(t).slice(1):[]},Nt=function(t){return t.reduce(function(t,n){return t.lastIndexOf(n)<0?[].concat(Y(t),[n]):t},[])},Rt=c.dyadic(function(t,n){return Nt([].concat(Y(t),Y(n)))}),Pt=c.dyadic(function(t,n){return Rt(t,n).filter(function(e){return t.indexOf(e)>-1&&n.indexOf(e)>-1})}),It=c.dyadic(function(t,n){return Rt(t,n).filter(function(e){return t.indexOf(e)<0||n.indexOf(e)<0})}),Tt=c.dyadic(function(t,n){return J.isSetoid(n)?n.equals(t):t===n}),Lt=c.dyadic(function(t,n){if(J.isFunc(t))return J.isFunctor(n)?n.map(t):J.isObject(n)?Object.keys(n).reduce(function(e,r){return e[r]=t(n[r],r,n),e},{}):n;throw"operators::map awaits a function as first argument but saw "+t}),Et=c.dyadic(function(t,n){if(J.isFunc(t))return J.isFunctor(n)?n.map(t):J.isObject(n)?Lt(t,n):t(n);if(J.isApply(t))return J.isFunctor(n)?t.ap(n):J.isObject(n)?t.ap({map:function(t){return Lt(t,n)}}):t.ap([n])[0];throw"operators::ap awaits apply/function as first argument but saw "+t}),qt=function(n){if(J.isFunc(n.flatten))return n.flatten();if(J.isArray(n)){for(var e=t(n,[]);e instanceof Function;)e=e();return e}throw"operators::flatten awaits Monad or array but saw "+n},zt=c.dyadic(function(t,n){if(J.isFunc(t))return J.isObject(n)?wt(n,Lt(t,n)):qt(Lt(t,n));throw"operators::flatMap awaits a function as first argument but saw "+t}),Ut={field:bt,has:mt,call:ht,merge:wt,immutable:kt,first:Ot,last:xt,head:At,tail:Mt,initial:St,rest:jt,unique:Nt,union:Rt,map:Lt,flatten:qt,flatMap:zt,assoc:gt,equals:Tt,ap:Et,intersect:Pt,differ:It,pairs:Ft},Vt=function(t){return{value:t,map:function(){return this}}},Wt=function t(n){return{value:n,map:function(e){return t(e(n))}}},Bt=function(t,n){return function(){return t(n.apply(void 0,arguments))}},Dt=vt.curry(function(t,n,e,r,u){return Ut.map(function(t){return n(e,t,u)},r(t(e,u)))}),Gt=Dt(Ut.field,Ut.assoc),Ct=vt.curry(function(t,n){return t(Vt)(n).value}),Jt=vt.curry(function(t,n,e){return t(function(t){return Wt(n(t))})(e).value}),Ht=vt.curry(function(t,n,e){return Jt(t,function(){return n},e)}),Kt=function(){for(var t=arguments.length,n=Array(t),e=0;e<t;e++)n[e]=arguments[e];return n.reduce(function(t,n){return Ut.has(n,t)||(t[n]=Gt(n)),t},{index:Gt})},Qt=vt.curry(function(t,n){return Wt(Ut.map(Bt(Ut.field("value"),t),n))}),Xt={lens:Dt,makeLenses:Kt,mappedLens:Qt,view:Ct,over:Jt,set:Ht},Yt="@@transducer/step",Zt="@@transducer/init",$t="@@transducer/result";n.isReduced=function(t){return!J.isNil(t)&&t.reduced},n.reduce=function(t){return{value:t,reduced:!0}},n.deref=function(t){return t&&void 0!==t.value?t.value:null};var _t=vt.curry(function(t,e,r){var u=J.isFunc(t)?n(t):t,i=e;if(J.isObject(r)){var o=Object.keys(r),a=!0,c=!1,f=void 0;try{for(var s,l=o[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var p=s.value;if(i=u[Yt](i,[r[p],p]),n.isReduced(i)){i=n.deref(i);break}}}catch(t){c=!0,f=t}finally{try{!a&&l.return&&l.return()}finally{if(c)throw f}}return u[$t](i)}var y=!0,v=!1,d=void 0;try{for(var h,m=r[Symbol.iterator]();!(y=(h=m.next()).done);y=!0){var b=h.value;if(i=u[Yt](i,b),n.isReduced(i)){i=n.deref(i);break}}}catch(t){v=!0,d=t}finally{try{!y&&m.return&&m.return()}finally{if(v)throw d}}return u[$t](i)}),tn=vt.curry(function(t,e,r,u){return _t(t(J.isFunc(e)?n(e):e),r,u)}),nn=vt.curry(function(t,n,e){if(J.isArray(t))return tn(n,function(t,n){return[].concat(Y(t),[n])},t,e);if(J.isObject(t))return tn(n,function(t,n){var e=X(n,2),r=e[0],u=e[1],i=Object.assign({},t);return i[u]=r,i},t,e);if(J.isNumber(t)||J.isString(t))return tn(n,function(t,n){return t+n},t,e);throw"transducers::into got unknown inital value, use ::transduce with a special step function"}),en=function(t){return function(n){return{"@@transducer/init":function(){return n[Zt]()},"@@transducer/step":function(e,r){return n[Yt](e,t(r))},"@@transducer/result":function(t){return n[$t](t)}}}},rn=function(t){return function(n){return{"@@transducer/init":function(){return n[Zt]()},"@@transducer/step":function(e,r){return t(r)?n[Yt](e,r):e},"@@transducer/result":function(t){return n[$t](t)}}}},un=function(t){return{"@@transducer/init":function(){return t[Zt]()},"@@transducer/step":function(e,r){return _t({"@@transducer/init":function(){return t[Zt]()},"@@transducer/step":function(e,r){var u=t[Yt](e,r);return n.isReduced(u)?n.deref(u):u},"@@transducer/result":function(t){return t}},e,r)},"@@transducer/result":function(n){return t[$t](n)}}},on=function(){var t=arguments.length<=0||void 0===arguments[0]?1:arguments[0];return function(n){var e=t;return{"@@transducer/init":function(){return n[Zt]()},"@@transducer/step":function(t,r){return e>0?(e-=1,t):n[Yt](t,r)},"@@transducer/result":function(t){return n[$t](t)}}}},an=function(t){return function(n){var e=!0,r=!1;return{"@@transducer/init":function(){return n[Zt]()},"@@transducer/step":function(u,i){return!r&&(e=!!t(i))?u:(r=!0,n[Yt](u,i))},"@@transducer/result":function(t){return n[$t](t)}}}},cn=function(){var t=arguments.length<=0||void 0===arguments[0]?1:arguments[0];return function(e){var r=0;return{"@@transducer/init":function(){return e[Zt]()},"@@transducer/step":function(u,i){return r<t?(r+=1,e[Yt](u,i)):n.reduce(u)},"@@transducer/result":function(t){return e[$t](t)}}}},fn=function(t){return function(e){var r=!0;return{"@@transducer/init":function(){return e[Zt]()},"@@transducer/step":function(u,i){return r=!!t(i),r?e[Yt](u,i):n.reduce(u)},"@@transducer/result":function(t){return e[$t](t)}}}},sn=function(t){return{"@@transducer/init":function(){return t[Zt]()},"@@transducer/step":function(n,e){return J.isNil(e)?n:t[Yt](n,e)},"@@transducer/result":function(n){return t[$t](n)}}},ln=function(t){var n=Object.create(null);return{"@@transducer/init":function(){return t[Zt]()},"@@transducer/step":function(e,r){return n[r]?e:(n[r]=!0,t[Yt](e,r))},"@@transducer/result":function(n){return t[$t](n)}}},pn=function(){var t=arguments.length<=0||void 0===arguments[0]?1:arguments[0];return function(n){var e,r=[];return{"@@transducer/init":function(){return n[Zt]()},"@@transducer/step":function(u,i){return r.length<t?(r.push(i),u):(e=n[Yt](u,r),r=[i],e)},"@@transducer/result":function(t){return r.length>0?n[$t](n[Yt](t,r)):n[$t](t)}}}},yn=function(t){return function(n){var e,r,u,i=[];return{"@@transducer/init":function(){return n[Zt]()},"@@transducer/step":function(o,a){return r=t(a),i.length<1?(u=r,i.push(a),o):u===r?(i.push(a),o):(u=r,e=n[Yt](o,i),i=[a],e)},"@@transducer/result":function(t){return i.length>0?n[$t](n[Yt](t,i)):n[$t](t)}}}},vn={fold:_t,transduce:tn,into:nn,map:en,filter:rn,unique:ln,keep:sn,partition:pn,partitionWith:yn,take:cn,takeWhile:fn,drop:on,dropWhile:an,flatten:un},dn=Symbol("MonadicValue"),hn=function(){function t(n){K(this,t),this.value=n}return Q(t,[{key:"toString",value:function(){return"Identity("+this.value+")"}},{key:"equals",value:function(n){return t.prototype.isPrototypeOf(n)&&n.value===this.value}},{key:"map",value:function(n){if(J.isFunc(n))return new t(n(this.value));throw"Identity::map expects argument to be function but saw "+n}},{key:"of",value:function(n){return t.of(n)}},{key:"ap",value:function(t){if(J.isFunc(t.map))return t.map(this.value);throw"Identity::ap expects argument to be Functor but saw "+t}},{key:"flatMap",value:function(t){if(J.isFunc(t))return this.map(t).value;throw"Identity::flatMap expects argument to be function but saw "+t}},{key:"flatten",value:function(){return this.value}},{key:"fold",value:function(t){return t(this.value)}},{key:"doT",value:function(){for(var n=arguments.length,e=Array(n),r=0;r<n;r++)e[r]=arguments[r];return e.reduce(function(t,n){return t.map(n)},this).flatMap(t.of)}},{key:"value",set:function(t){this[dn]=t},get:function(){return this[dn]}}],[{key:"is",value:function(n){return t.prototype.isPrototypeOf(n)}},{key:"of",value:function(n){return new t(n)}}]),t}(),mn=Symbol("MonadicValue"),bn=function(){function t(n){K(this,t),this.value=n}return Q(t,[{key:"toString",value:function(){return"Some("+this.value+")"}},{key:"isSome",value:function(){return!0}},{key:"equals",value:function(n){return t.prototype.isPrototypeOf(n)&&n.value===this.value}},{key:"map",value:function(t){if(J.isFunc(t))return wn.of(t(this.value));throw"Some::map expects argument to be function but saw "+t}},{key:"of",value:function(n){return t.of(n)}},{key:"ap",value:function(t){if(J.isFunc(t.map))return t.map(this.value);throw"Some::ap expects argument to be Functor but saw "+t}},{key:"flatMap",value:function(t){if(J.isFunc(t))return this.map(t).value;throw"Some::flatMap expects argument to be function but saw "+t}},{key:"flatten",value:function(){return this.value}},{key:"orGet",value:function(){return this.value}},{key:"orElse",value:function(){return this}},{key:"fold",value:function(t,n){if(J.isFunc(n))return n(this.value);throw"Some::fold expects argument 2 to be function but saw "+n}},{key:"cata",value:function(t){if(J.isFunc(t.Some)&&J.isFunc(t.None))return this.fold(t.None,t.Some);throw"Some::cata expected Object of {Some: fn}, but saw "+t}},{key:"biMap",value:function(t,n){if(J.isFunc(t)&&J.isFunc(n))return wn.of(this.fold(t,n));throw"Some::biMap expects argument 2 to be function but saw "+n}},{key:"value",set:function(t){return J.isNil(t)?gn.of(t):void(this[mn]=t)},get:function(){return this[mn]}}],[{key:"is",value:function(n){return t.prototype.isPrototypeOf(n)}},{key:"of",value:function(n){return new t(n)}}]),t}(),gn=function(){function t(){K(this,t),this.value=null}return Q(t,[{key:"toString",value:function(){return"None"}},{key:"isSome",value:function(){return!1}},{key:"equals",value:function(n){return t.prototype.isPrototypeOf(n)&&n.toString()===this.toString()}},{key:"map",value:function(){return this}},{key:"of",value:function(){return t.of(null)}},{key:"ap",value:function(t){return t}},{key:"flatMap",value:function(){return this}},{key:"flatten",value:function(){return this}},{key:"orGet",value:function(t){return t}},{key:"orElse",value:function(t){return wn.of(t)}},{key:"fold",value:function(t){if(J.isFunc(t))return t(null);throw"None::fold expects argument 1 to be function but saw "+t}},{key:"cata",value:function(t){if(J.isFunc(t.None))return t.None(null);throw"None::cata expected Object of {None: fn}, but saw "+t}},{key:"biMap",value:function(t){if(J.isFunc(t))return this;throw"None::biMap expects argument 1 to be function but saw "+t}},{key:"value",set:function(t){this[mn]=t},get:function(){return this[mn]}}],[{key:"is",value:function(n){return t.prototype.isPrototypeOf(n)}},{key:"of",value:function(){return new t(null)}}]),t}(),wn=function(){function t(){K(this,t)}return Q(t,null,[{key:"is",value:function(t){return bn.is(t)||gn.is(t)}},{key:"of",value:function(t){return J.isNil(t)?gn.of(t):bn.of(t)}},{key:"fromEither",value:function(t){return t.fold(gn.of,bn.of)}}]),t}(),kn=Symbol("MonadicValue"),Fn=function(){function t(n){K(this,t),this.value=n}return Q(t,[{key:"toString",value:function(){return"Right("+this.value+")"}},{key:"isRight",value:function(){return!0}},{key:"equals",value:function(n){return t.prototype.isPrototypeOf(n)&&n.value===this.value}},{key:"map",value:function(n){if(J.isFunc(n))return t.of(n(this.value));throw"Right::map expects argument to be function but saw "+n}},{key:"of",value:function(n){return t.of(n)}},{key:"ap",value:function(t){if(J.isFunc(t.map))return t.map(this.value);throw"Right::ap expects argument to be Functor but saw "+t}},{key:"flatMap",value:function(t){if(J.isFunc(t))return this.map(t).value;throw"Right::flatMap expects argument to be function but saw "+t}},{key:"flatten",value:function(){return this.value}},{key:"orGet",value:function(){return this.value}},{key:"orElse",value:function(){return this}},{key:"fold",value:function(t,n){if(J.isFunc(n))return n(this.value);throw"Right::fold expects argument 2 to be function but saw "+n}},{key:"cata",value:function(t){if(J.isFunc(t.Right))return t.Right(this.value);throw"Right::cata expected Object of {Right: fn}, but saw "+t}},{key:"biMap",value:function(n,e){if(J.isFunc(e))return t.of(e(this.value));throw"Right::biMap expects argument 2 to be function but saw "+e}},{key:"swap",value:function(){return On.of(this.value)}},{key:"mapLeft",value:function(){return this}},{key:"value",set:function(t){this[kn]=t},get:function(){return this[kn]}}],[{key:"is",value:function(n){return t.prototype.isPrototypeOf(n)}},{key:"of",value:function(n){return new t(n)}}]),t}(),On=function(){function t(n){K(this,t),this.value=n}return Q(t,[{key:"toString",value:function(){return"Left("+this.value+")"}},{key:"isRight",value:function(){return!1}},{key:"equals",value:function(n){return t.prototype.isPrototypeOf(n)&&n.value===this.value}},{key:"map",value:function(){return this}},{key:"of",value:function(n){return t.of(n)}},{key:"ap",value:function(t){return t}},{key:"flatMap",value:function(){return this}},{key:"flatten",value:function(){return this}},{key:"orGet",value:function(t){return t}},{key:"orElse",value:function(t){return Fn.of(t)}},{key:"fold",value:function(t){if(J.isFunc(t))return t(this.value);throw"Left::fold expects argument 1 to be function but saw "+t}},{key:"cata",value:function(t){if(J.isFunc(t.Left))return t.Left(this.value);throw"Left::cata expected Object of {Left: fn}, but saw "+t}},{key:"biMap",value:function(n){if(J.isFunc(n))return t.of(n(this.value));throw"Left::biMap expects argument 1 to be function but saw "+n}},{key:"swap",value:function(){return Fn.of(this.value)}},{key:"mapLeft",value:function(t){if(J.isFunc(t))return this.biMap(t);throw"Left::biMap expects argument 1 to be function but saw "+t}},{key:"value",set:function(t){this[kn]=t},get:function(){return this[kn]}}],[{key:"is",value:function(n){return t.prototype.isPrototypeOf(n)}},{key:"of",value:function(n){return new t(n)}}]),t}(),An=function(){function t(){K(this,t)}return Q(t,null,[{key:"is",value:function(t){return On.is(t)||Fn.is(t)}},{key:"of",value:function(t){return Fn.of(t)}},{key:"fromNullable",value:function(t){return J.isNull(t)||J.isVoid(t)?On.of(t):Fn.of(t)}},{key:"fromMaybe",value:function(t){return t.fold(function(){return On.of(null)},Fn.of)}},{key:"fromIO",value:function(n){return t.try(n.run)}},{key:"try",value:function(n){for(var e=arguments.length,r=Array(e>1?e-1:0),u=1;u<e;u++)r[u-1]=arguments[u];if(J.isFunc(n)){if(n.length<=r.length)try{var i=n.apply(void 0,r);return Error.prototype.isPrototypeOf(i)?On.of(i.message):Fn.of(i)}catch(t){return On.of(t.message)}return function(){for(var e=arguments.length,u=Array(e),i=0;i<e;i++)u[i]=arguments[i];return t.try.apply(t,[n].concat(r,u))}}throw"Either::try expects argument to be function but saw "+n}}]),t}(),Sn=Symbol("MonadicValue"),xn=function(t,n){return function(){return t(n.apply(void 0,arguments))}},Mn=function(){function t(n){K(this,t),this.run=n}return Q(t,[{key:"toString",value:function(){return"IO"}},{key:"equals",value:function(n){return t.prototype.isPrototypeOf(n)&&this.run===n.run}},{key:"map",value:function(n){if(J.isFunc(n))return new t(xn(n,this.run));throw"IO::map expects argument to be function but saw "+n}},{key:"of",value:function(n){return t.of(n)}},{key:"ap",value:function(t){if(J.isFunc(t.map))return t.map(this.run);throw"IO::ap expects argument to be Functor but saw "+t}},{key:"flatMap",value:function(t){if(J.isFunc(t))return this.map(t).run();throw"IO::flatMap expects argument to be function but saw "+t}},{key:"flatten",value:function(){return this.run()}},{key:"fold",value:function(t){return t(this.run())}},{key:"run",set:function(t){this[Sn]=t},get:function(){return this[Sn]}}],[{key:"is",value:function(n){return t.prototype.isPrototypeOf(n)}},{key:"of",value:function(n){return new t(function(){return n})}}]),t}(),jn=Symbol("MonadicValue"),Nn=Symbol("OldMonadicValue"),Rn=function(){function t(n,e){K(this,t),this.value=n,this.previous=e}return Q(t,[{key:"toString",value:function(){return"State("+this.value+")"}},{key:"equals",value:function(n){return t.prototype.isPrototypeOf(n)&&n.value===this.value}},{key:"map",value:function(n){if(J.isFunc(n))return new t(n(this.value),this.value);throw"State::map expects argument to be function but saw "+n}},{key:"of",value:function(n){return t.of(n)}},{key:"ap",value:function(t){if(J.isFunc(t.map))return t.map(this.value);throw"State::ap expects argument to be Functor but saw "+t}},{key:"flatMap",value:function(t){if(J.isFunc(t))return this.map(t).value;throw"State::flatMap expects argument to be function but saw "+t}},{key:"flatten",value:function(){return this.value}},{key:"fold",value:function(t){return t(this.value)}},{key:"concat",value:function(n){var e=null===n.value?[this.value,n]:[n.value,this];return new(Function.prototype.bind.apply(t,[null].concat(e)))}},{key:"value",set:function(t){this[jn]=t},get:function(){return this[jn]}},{key:"previous",set:function(t){this[Nn]=t},get:function(){return this[Nn]||null}}],[{key:"is",value:function(n){return t.prototype.isPrototypeOf(n)}},{key:"of",value:function(n){return new t(n,null)}},{key:"empty",value:function(){return new t(null,null)}}]),t}(),Pn=Symbol("MonadicFork"),In=Symbol("MonadicCleanUp"),Tn="undefined"!=typeof setImmediate?function(t){return setImmediate(t)}:"undefined"!=typeof process?function(t){return process.nextTick(t)}:function(t){return setTimeout(t,0)},Ln=function(){},En=function(){function t(n,e){K(this,t),this.run=n,this.cleanUp=e}return Q(t,[{key:"toString",value:function(){return"Task"}},{key:"equals",value:function(n){return t.prototype.isPrototypeOf(n)}},{key:"map",value:function(n){var e=this;if(J.isFunc(n))return new t(function(t,r){return e.run(function(n){return t(n)},function(t){return r(n(t))})},this.cleanUp);throw"Task::map expects argument to be function but saw "+n}},{key:"of",value:function(n){return t.of(n)}},{key:"ap",value:function(n){var e=this.run,r=n.run,u=this.cleanUp,i=n.cleanUp,o=function(t){var n=X(t,2),e=n[0],r=n[1];u(e),i(r)};return new t(function(t,n){var u=!1,i=!1,a=!1,c=!1,f=[],s=!1,l=function(n){if(!s)return s=!0,t(n)},p=function(t){return function(e){if(!s)return t(e),c&&i?(Tn(function(){return o(f)}),n(u(a))):e}},y=e(l,p(function(t){i=!0,u=t})),v=r(l,p(function(t){c=!0,a=t}));return f=[y,v]},o)}},{key:"flatMap",value:function(n){var e=this;if(J.isFunc(n))return new t(function(t,r){return e.run(function(n){return t(n)},function(e){return n(e).run(t,r)})},this.cleanUp);throw"Task::flatMap expects argument to be function but saw "+n}},{key:"flatten",value:function(){var n=this;return new t(function(t,e){return n.run().run(t,e)},this.cleanUp)}},{key:"fold",value:function(t,n){if(J.isFunc(n)&&J.isFunc(t))return this.run(t,n);throw"Task::fold expects arguments to be functions but saw "+[t,n]}},{key:"cata",value:function(t){var n=t.Reject,e=t.Resolve;if(J.isFunc(e)&&J.isFunc(n))return this.fold(n,e);throw"Task::cata expected Object of {Reject, Resolve}"}},{key:"biMap",value:function(n,e){var r=this;if(J.isFunc(e)&&J.isFunc(n))return new t(function(t,n){return r.fold(t,n)},this.cleanUp);throw"Task::biMap expected arguments to be functions but saw "+[n,e]}},{key:"swap",value:function(){var n=this;return new t(function(t,e){return n.run(e,t)},this.cleanUp)}},{key:"mapRejected",value:function(n){var e=this;if(J.isFunc(n))return new t(function(t,r){return e.run(function(e){return t(n(e))},r)},this.cleanUp)}},{key:"concat",value:function(n){var e=this;if(t.is(n)){var r=function(){var r=e.run,u=n.run,i=e.cleanUp,o=n.cleanUp,a=function(t){var n=X(t,2),e=n[0],r=n[1];i(e),o(r)};return{v:new t(function(t,n){var e=void 0,i=!1,o=void 0,c=void 0,f=function(t){return function(n){i||(i=!0,Tn(function(){return a(o)}),t(n))}};return o=r(f(t),f(n)),c=u(f(t),f(n)),e=[o,c]},a)}}();if("object"===("undefined"==typeof r?"undefined":H(r)))return r.v}throw"Task::concat expected argument to be Task but saw "+n}},{key:"orElse",value:function(n){var e=this;if(J.isFunc(n))return new t(function(t,r){return e.run(function(e){return n(e).run(t,r)},r)},this.cleanUp);throw"Task::orElse expected argument to be function but saw "+n}},{key:"run",set:function(t){this[Pn]=t},get:function(){return this[Pn]}},{key:"cleanUp",set:function(t){this[In]=t||Ln},get:function(){return this[In]}}],[{key:"is",value:function(n){return t.prototype.isPrototypeOf(n)}},{key:"resolve",value:function(n){return new t(function(t,e){return e(n)})}},{key:"reject",value:function(n){return new t(function(t){return t(n)})}},{key:"of",value:function(n){return new t(function(t,e){return e(n)})}},{key:"empty",value:function(){return new t(function(){})}}]),t}(),qn=vt.curry(function(t,n,e){return n.map(t).ap(e)}),zn=vt.curry(function(t,n,e,r){return n.map(t).ap(e).ap(r)}),Un=vt.curry(function(t,n,e,r,u){return n.map(t).ap(e).ap(r).ap(u)}),Vn=vt.curry(function(t,n,e,r,u,i){return n.map(t).ap(e).ap(r).ap(u).ap(i)}),Wn={Identity:hn,IO:Mn,Maybe:wn,None:gn,Some:bn,State:Rn,Either:An,Left:On,
Right:Fn,Task:En,liftA2:qn,liftA3:zn,liftA4:Un,liftA5:Vn},Bn=Symbol("TypeValue"),Dn=Symbol("TypeName"),Gn=function(t,n){return t instanceof n?t:Object.create(n.prototype)},Cn=function(t,n){function e(n){var r=Gn(this,e);if(e.typeOf(n))return r[Bn]=n,r[Dn]=t,r;throw new TypeError(t+" constructor matched invalid "+n)}return e.prototype.toString=function(){return t+"("+this[Bn]+")"},e.prototype.valueOf=function(){return this[Bn]},e.prototype.fold=function(t){return t(this[Bn])},e.typeOf=function(t){return J.isFunc(n)?!!n(t):!!J.isObject(n)&&Object.keys(n).reduce(function(e,r){return e&&!!n[r](t[r])},!0)},e},Jn=vt.curry(function(t,n){return Cn(t,n)});Jn.isType=function(t){return J.isObject(t)&&!J.isVoid(t[Bn])&&J.isString(t[Dn])},Jn.cata=vt.curry(function(t,n){if(J.isFunc(t.orElse))return Jn.isType(n)?J.isFunc(t[n[Dn]])?t[n[Dn]](n[Bn]):t.orElse(n[Bn]):t.orElse(n);throw'Type.cata :: Found no "orElse" case in '+t});var Hn={aritize:c.aritize,monadic:c.monadic,dyadic:c.dyadic,triadic:c.triadic,tetradic:c.tetradic,isNil:J.isNil,isAny:J.isAny,isNull:J.isNull,isVoid:J.isVoid,isString:J.isString,isNumber:J.isNumber,isInt:J.isInt,isFloat:J.isFloat,isBool:J.isBool,isTrue:J.isTrue,isFalse:J.isFalse,isFunc:J.isFunc,isObject:J.isObject,isArray:J.isArray,isDate:J.isDate,isRegex:J.isRegex,isNode:J.isNode,isNodeList:J.isNodeList,isPromise:J.isPromise,isIterator:J.isIterator,isIterable:J.isIterable,isArrayOf:J.isArrayOf,isObjectOf:J.isObjectOf,isSetoid:J.isSetoid,isFunctor:J.isFunctor,isApply:J.isApply,isFoldable:J.isFoldable,isBifunctor:J.isBifunctor,isSemigroup:J.isSemigroup,isMonoid:J.isMonoid,isMonad:J.isMonad,isApplicative:J.isApplicative,id:ut.id,getter:ut.getter,tap:ut.tap,pipe:ut.pipe,compose:ut.compose,and:ut.and,or:ut.or,once:vt.once,not:vt.not,flip:vt.flip,curry:vt.curry,curryRight:vt.curryRight,partial:vt.partial,partialRight:vt.partialRight,given:vt.given,memoize:vt.memoize,Type:Jn,Identity:Wn.Identity,IO:Wn.IO,Maybe:Wn.Maybe,None:Wn.None,Some:Wn.Some,Either:Wn.Either,Left:Wn.Left,Right:Wn.Right,State:Wn.State,Task:Wn.Task,liftA2:Wn.liftA2,liftA3:Wn.liftA3,liftA4:Wn.liftA4,liftA5:Wn.liftA5,lens:Xt.lens,makeLenses:Xt.makeLenses,mappedLens:Xt.mappedLens,view:Xt.view,over:Xt.over,set:Xt.set,call:Ut.call,field:Ut.field,has:Ut.has,merge:Ut.merge,immutable:Ut.immutable,first:Ut.first,last:Ut.last,head:Ut.head,tail:Ut.tail,initial:Ut.initial,rest:Ut.rest,unique:Ut.unique,union:Ut.union,map:Ut.map,flatten:Ut.flatten,flatMap:Ut.flatMap,assoc:Ut.assoc,equals:Ut.equals,ap:Ut.ap,intersect:Ut.intersect,differ:Ut.differ,pairs:Ut.pairs,transducers:vn};return Hn});
