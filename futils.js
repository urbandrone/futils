/* @banner futils | www.npmjs.com/package/futils */
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):n.futils=t()}(this,function(){"use strict";function n(n){var t;return t={},H(t,Tt,n),H(t,Lt,function(){throw"transducers/init not supported on generic transformers"}),H(t,qt,function(n){return n}),t}var t=function(n){return"function"==typeof n},e=function(n,e){if("number"!=typeof n||isNaN(n)||!isFinite(n))throw"arity::aritize awaits a number as first argument but saw "+n;if(!t(e))throw"arity::aritize awaits a function as second argument but saw "+e;switch(Math.abs(n)){case 1:return function(n){return e(n)};case 2:return function(n,t){return e(n,t)};case 3:return function(n,t,r){return e(n,t,r)};case 4:return function(n,t,r,u){return e(n,t,r,u)};case 5:return function(n,t,r,u,o){return e(n,t,r,u,o)};case 6:return function(n,t,r,u,o,i){return e(n,t,r,u,o,i)};case 7:return function(n,t,r,u,o,i,a){return e(n,t,r,u,o,i,a)};case 8:return function(n,t,r,u,o,i,a,f){return e(n,t,r,u,o,i,a,f)};case 9:return function(n,t,r,u,o,i,a,f,c){return e(n,t,r,u,o,i,a,f,c)};case 10:return function(n,t,r,u,o,i,a,f,c,l){return e(n,t,r,u,o,i,a,f,c,l)};case 11:return function(n,t,r,u,o,i,a,f,c,l,s){return e(n,t,r,u,o,i,a,f,c,l,s)};case 12:return function(n,t,r,u,o,i,a,f,c,l,s,v){return e(n,t,r,u,o,i,a,f,c,l,s,v)};case 13:return function(n,t,r,u,o,i,a,f,c,l,s,v,y){return e(n,t,r,u,o,i,a,f,c,l,s,v,y)};case 14:return function(n,t,r,u,o,i,a,f,c,l,s,v,y,h){return e(n,t,r,u,o,i,a,f,c,l,s,v,y,h)};case 15:return function(n,t,r,u,o,i,a,f,c,l,s,v,y,h,p){return e(n,t,r,u,o,i,a,f,c,l,s,v,y,h,p)};case 16:return function(n,t,r,u,o,i,a,f,c,l,s,v,y,h,p,d){return e(n,t,r,u,o,i,a,f,c,l,s,v,y,h,p,d)};default:return e}},r=function n(e){if(t(e))return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return void 0===t?n(e):e(t)};throw"arity::monadic awaits a function but saw "+e},u=function n(e){if(t(e))return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return void 0===t?n(e):void 0===u?r(function(n){return e(t,n)}):e(t,u)};throw"arity::dyadic awaits a function but saw "+e},o=function n(e){if(t(e))return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return void 0===t?n(e):void 0===o?u(function(n,r){return e(t,n,r)}):void 0===i?r(function(n){return e(t,o,n)}):e(t,o,i)};throw"arity::triadic awaits a function but saw "+e},i=function n(e){if(t(e))return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;return void 0===t?n(e):void 0===i?o(function(n,r,u){return e(t,n,r,u)}):void 0===a?u(function(n,r){return e(t,i,n,r)}):void 0===f?r(function(n){return e(t,i,a,n)}):e(t,i,a,f)};throw"arity::tetradic awaits a function but saw "+e},a=function(n){return null===n||void 0===n},f=function(n){return!a(n)},c=function(n){return void 0===n},l=function(n){return null===n},s=function(n){return"string"==typeof n},v=function(n){return"number"==typeof n&&!isNaN(n)&&isFinite(n)},y=function(n){return v(n)&&n%1==0},h=function(n){return v(n)&&n%1!=0},p=function(n){return"boolean"==typeof n},d=function(n){return!!n},k=function(n){return!n},m=function(n){return"function"==typeof n},w=function(n){return null!=n&&n.constructor===Object},g=function(n){return Array.isArray(n)},b=function(n){return Date.prototype.isPrototypeOf(n)},O=function(n){return RegExp.prototype.isPrototypeOf(n)},A=function(n){return Node.prototype.isPrototypeOf(n)},S=function(n){return NodeList.prototype.isPrototypeOf(n)},M=function(n){return Map.prototype.isPrototypeOf(n)},x=function(n){return Set.prototype.isPrototypeOf(n)},P=function(n){return WeakSet.prototype.isPrototypeOf(n)},j=function(n){return WeakMap.prototype.isPrototypeOf(n)},R=function(n){return Promise.prototype.isPrototypeOf(n)||n&&m(n.then)},E=function(n){return!a(n)&&m(n.next)},I=function(n){return!(a(n)||!n[Symbol.iterator]&&isNaN(n.length))},N=function(n){return!!n&&m(n.next)&&m(n.throw)&&m(n.return)&&!!n[Symbol.iterator]},T=function n(t,e){return void 0===e?function(e){return n(t,e)}:Array.isArray(e)&&e.every(t)},L=function n(t,e){if(void 0===e)return function(e){return n(t,e)};if(w(e)){for(var r in e)if(e.hasOwnProperty(r)&&!t(e[r]))return!1;return!0}return!1},q=function(n){return null!=n&&m(n.equals)},_=function(n){return null!=n&&m(n.map)},F=function(n){return null!=n&&m(n.ap)},U=function(n){return null!=n&&(m(n.constructor.of)||m(n.of))},z=function(n){return null!=n&&(m(n.fold)||m(n.reduce))},V=function(n){return null!=n&&m(n.biMap)},W=function(n){return null!=n&&m(n.concat)},C=function(n){return g(n)||W(n)&&(m(n.empty)||m(n.constructor.empty))},D=function(n){return F(n)&&U(n)},B=function(n){return _(n)&&q(n)&&m(n.flatten)&&m(n.flatMap)},G=function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")},J=function(){function n(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}}(),H=function(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n},K=function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)},Q=function(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t},X=function(){function n(n,t){var e=[],r=!0,u=!1,o=void 0;try{for(var i,a=n[Symbol.iterator]();!(r=(i=a.next()).done)&&(e.push(i.value),!t||e.length!==t);r=!0);}catch(n){u=!0,o=n}finally{try{!r&&a.return&&a.return()}finally{if(u)throw o}}return e}return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return n(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Y=function(n){if(Array.isArray(n)){for(var t=0,e=Array(n.length);t<n.length;t++)e[t]=n[t];return e}return Array.from(n)},Z=Symbol("SuspendedInvocation"),$=function(n){for(var t,e=arguments.length,r=Array(e>1?e-1:0),u=1;u<e;u++)r[u-1]=arguments[u];return t={},H(t,Z,!0),H(t,"run",function(){return n.apply(void 0,r)}),t},nn=function(n){return w(n)&&m(n.run)&&n[Z]},tn=function(n){if(m(n))return e(n.length,function(){for(var t=n.apply(void 0,arguments);nn(t);)t=t.run();return t});throw"trampoline :: expected argument to be function but saw "+n},en=function(n){return n},rn=function(n){return function(){return n}},un=function(n){return function(t){return t(n)}},on=function n(t,e){for(var r=arguments.length,u=Array(r>2?r-2:0),o=2;o<r;o++)u[o-2]=arguments[o];return void 0===e?function(e){for(var r=arguments.length,u=Array(r>1?r-1:0),o=1;o<r;o++)u[o-1]=arguments[o];return n.apply(void 0,[t,e].concat(u))}:u.length>0?t.apply(void 0,Y(u.map(e))):function(){for(var n=arguments.length,r=Array(n),u=0;u<n;u++)r[u]=arguments[u];return t.apply(void 0,Y(r.map(e)))}},an=function(n){for(var t=arguments.length,r=Array(t>1?t-1:0),u=1;u<t;u++)r[u-1]=arguments[u];if(m(n)&&T(m,r))return e(n.length,function(){return r.reduce(function(n,t){return t(n)},n.apply(void 0,arguments))});throw"combinators::pipe awaits functions but saw "+[n].concat(r)},fn=function(){for(var n=arguments.length,t=Array(n),e=0;e<n;e++)t[e]=arguments[e];if(T(m,t))return an.apply(void 0,Y(t.reverse()));throw"combinators::compose awaits functions but saw "+t},cn=function(){for(var n=arguments.length,t=Array(n),r=0;r<n;r++)t[r]=arguments[r];if(T(m,t))return e(t[0].length,function(){for(var n=arguments.length,e=Array(n),r=0;r<n;r++)e[r]=arguments[r];return!t.some(function(n){return!n.apply(void 0,e)})});throw"combinators::and awaits functions but saw "+t},ln=function(){for(var n=arguments.length,t=Array(n),r=0;r<n;r++)t[r]=arguments[r];if(T(m,t))return e(t[0].length,function(){for(var n=arguments.length,e=Array(n),r=0;r<n;r++)e[r]=arguments[r];return t.some(function(n){return!!n.apply(void 0,e)})});throw"combinators::or awaits functions but saw "+t},sn=function(n){if(m(n))return function(n){return n(n)}(function(t){return n(function(){return t(t).apply(void 0,arguments)})});throw"combinators::fixed awaits function but saw "+n},vn=function n(t,r,u){return e(t.length-u.length,function(){for(var e=arguments.length,o=Array(e),i=0;i<e;i++)o[i]=arguments[i];var a=u.concat(o).filter(function(n){return void 0!==n});return t.length<=a.length?r(t,a):n(t,r,a)})},yn=function(n){var t=0;if(m(n))return e(n.length,function(){return 0===t?(t=1,n.apply(void 0,arguments)):null});throw"decorators::once awaits a function but saw "+n},hn=function(n){if(m(n))return e(n.length,function(){return!n.apply(void 0,arguments)});throw"decorators::not awaits a function but saw "+n},pn=function(n){if(m(n))return e(n.length,function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.apply(void 0,Y(e.reverse()))});throw"decorators::flip awaits a function but saw "+n},dn=function(n){if(m(n))return n.length<2?n:vn(n,function(n,t){return n.apply(void 0,Y(t))},[]);throw"decorators::curry awaits a function but saw "+n},kn=function(n){if(m(n))return n.length<2?n:vn(n,function(n,t){return n.apply(void 0,Y(t.reverse()))},[]);throw"decorators::curryRight awaits a function but saw "+n},mn=function n(t){for(var e=arguments.length,r=Array(e>1?e-1:0),u=1;u<e;u++)r[u-1]=arguments[u];var o,i=r;if(m(t))return i.length<t.length&&(o=new Array(Math.max(0,t.length-i.length)),i=[].concat(Y(i),Y(o.fill(void 0)))),function(){for(var e=arguments.length,r=Array(e),u=0;u<e;u++)r[u]=arguments[u];var o=i.map(function(n){return c(n)?r.shift():n});return o.lastIndexOf(void 0)<0?t.apply(void 0,Y(o)):n.apply(void 0,[t].concat(Y(o)))};throw"decorators::partial awaits a function but saw "+t},wn=function(n){for(var t=arguments.length,e=Array(t>1?t-1:0),r=1;r<t;r++)e[r-1]=arguments[r];var u,o=e;if(m(n))return o.length<n.length&&(u=new Array(Math.max(0,n.length-o.length)),o=[].concat(Y(o),Y(u.fill(void 0)))),function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var u=o.map(function(n){return c(n)?e.shift():n});return u.lastIndexOf(void 0)<0?n.apply(void 0,Y(u.reverse())):mn.apply(void 0,[n].concat(Y(u)))};throw"decorators::partialRight awaits a function but saw "+n},gn=function n(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(void 0===r)return function(e,r){return n(t,e,r)};if(m(t)&&m(r))return m(u)?e(r.length,function(){return t.apply(void 0,arguments)?r.apply(void 0,arguments):u.apply(void 0,arguments)}):e(r.length,function(){return t.apply(void 0,arguments)?r.apply(void 0,arguments):null});throw"decorators::ifElse awaits (fn, fn fn?), but saw "+[t,r,u]},bn=gn,On=function(n){var t={};if(m(n))return e(n.length,function(){for(var e=arguments.length,r=Array(e),u=0;u<e;u++)r[u]=arguments[u];var o=JSON.stringify(r);return t.hasOwnProperty(o)||(t[o]=n.apply(void 0,r)),t[o]});throw"decorators::memoize awaits a function but saw "+n},An=Object.prototype.hasOwnProperty,Sn=function(n,t,e){for(var r=t,u=null;;){if(u=n(r,e),u.done){m(e.return)&&e.return();break}r=u.value}return r},Mn=function(n){return[].concat(Y(n))},xn=function(n){for(var t=arguments.length,e=Array(t>1?t-1:0),r=1;r<t;r++)e[r-1]=arguments[r];return function(t){for(var r=arguments.length,u=Array(r>1?r-1:0),o=1;o<r;o++)u[o-1]=arguments[o];var i=s(n)&&m(t[n])?t[n].apply(t,e.concat(u)):m(n)?n.call.apply(n,[t].concat(e,u)):null;return null==i?t:i}},Pn=u(function(n,t){return M(t)?t.has(n):An.call(t,n)}),jn=u(function(n,t){return(s(n)&&/\./.test(n)?n.split("."):[n]).reduce(function(n,t){return f(n)?M(n)&&n.has(t)?n.get(t):f(n[t])?n[t]:null:null},t)}),Rn=jn,En=o(function(n,t,e){var r=n,u=e;return g(e)?(u=[].concat(Y(e)),r=parseInt(r,10),v(r)&&r<e.length&&r>=0&&(u[r]=t),u):w(e)?(u=Object.assign({},e),s(r)&&(u[r]=t),u):(M(e)&&(u=new Map(e.entries()),u.set(r,t)),u)}),In=function n(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.length>1?Object.assign.apply(Object,[{}].concat(e)):function(){for(var t=arguments.length,r=Array(t),u=0;u<t;u++)r[u]=arguments[u];return n.apply(void 0,e.concat(r))}},Nn=function(n){return Object.freeze(Object.assign({},n))},Tn=function(n){return M(n)?[].concat(Y(n.entries())):Object.keys(n).map(function(t){return[t,n[t]]})},Ln=function(n,t){return t instanceof n?t:Object.create(n.prototype)},qn=u(function(n,t){if(v(n)&&v(t))return n+t;if(m(n)&&m(t))return function(){return t(n.apply(void 0,arguments))};if(w(n)&&w(t))return Object.assign({},n,t);if(f(n)&&m(n.concat))return n.concat(t);throw"concat :: Unable to concatenate items "+[n,t]}),_n=function(n){return n[0]},Fn=function(n){return[_n(n)]},Un=function(n){var t=n;return g(n)?n.slice(0,n.length-1):I(n)?(t=Array.from(n),t.slice(0,t.length-1)):[]},zn=function(n){return n[n.length-1]},Vn=function(n){return[zn(n)]},Wn=function(n){return g(n)?n.slice(1):I(n)?Array.from(n).slice(1):[]},Cn=u(function(n,t){return v(n)&&(s(t)||g(t))?t[Math.max(0,Math.min(t.length,Math.abs(n)))]:I(t)?Cn(n,Array.from(t)):t}),Dn=u(function(n,t){return g(t)?t.join(n):t}),Bn=u(function(n,t){return s(t)?t.split(n):t}),Gn=o(function(n,t,e){return O(n)&&s(e)?e.replace(n,t):e}),Jn=function(n){return s(n)?n.toUpperCase():n},Hn=function(n){return s(n)?n.toLowerCase():n},Kn=function(n){return s(n)?n.trim():n},Qn=function(n){return g(n)?n.slice().reverse():s(n)?n.split("").reverse().join(""):I(n)?Array.from(n).reverse():n},Xn=function(n){return Array.from(n).reduce(function(n,t){return n.lastIndexOf(t)<0?[].concat(Y(n),[t]):n},[])},Yn=u(function(n,t){return Xn([].concat(Y(n),Y(t)))}),Zn=u(function(n,t){var e=n,r=t;if(I(n)&&I(t))return e=Array.from(n),r=Array.from(t),Yn(e,r).filter(function(n){return e.indexOf(n)>-1&&r.indexOf(n)>-1});throw"operators::intersect awaits two iterables but saw "+[n,t]}),$n=u(function(n,t){var e=n,r=t;if(I(n)&&I(t))return e=Array.from(n),r=Array.from(t),Yn(e,r).filter(function(n){return e.indexOf(n)<0||r.indexOf(n)<0});throw"operators::differ awaits two iterables but saw "+[n,t]}),nt=u(function(n,t){return g(n)&&g(t)?n.length>t.length?t.map(function(t,e){return[n[e],t]}):n.map(function(n,e){return[n,t[e]]}):[[n,t]]}),tt=o(function(n,t,e){if(m(e.fold))return e.fold(n,t);if(m(e.reduce))return e.reduce(n,t);var r=tn(function(n,t,e){return e.length<1?t:$(r,n,n(t,_n(e)),Wn(e))});return r(n,t,Array.from(e))}),et=o(function(n,t,e){if(m(e.foldRight))return e.foldRight(n,t);if(m(e.reduceRight))return e.reduceRight(n,t);var r=tn(function(n,t,e){return e.length<1?t:$(r,n,n(t,zn(e)),Un(e))});return r(n,t,Array.from(e))}),rt=u(function(n,t){var e=tn(function(n,t,r){var u=n(t);return null==u?r:$(e,n,u[1],[].concat(Y(r),[u[0]]))});return e(n,t,[])}),ut=u(function(n,t){return rt(function(n){return n<=t?[n,n+1]:null},n)}),ot=u(function(n,t){return tt(function(t,e){return n(e)?[].concat(Y(t),[e]):t},[],t)}),it=function(n){return ot(function(n){return null!=n},n)},at=u(function(n,t){var e=Math.round(Math.abs(n));return tt(function(n,t){return e>0?(e-=1,n):[].concat(Y(n),[t])},[],Array.from(t))}),ft=u(function(n,t){var e=!0;return tt(function(t,r){return e=e&&!!n(r),e?t:[].concat(Y(t),[r])},[],Array.from(t))}),ct=u(function(n,t){var e=0;return N(t)?Sn(function(t,r){var u=r.next();return u.done||e>=n?{done:!0,value:t}:(e+=1,{value:[].concat(Y(t),[u.value])})},[],t):tt(function(t,r){return e<n?(e+=1,[].concat(Y(t),[r])):t},[],Array.from(t))}),lt=u(function(n,t){var e=!0;return N(t)?Sn(function(t,r){var u=r.next();return u.done||!(e=!!n(u.value))?{done:!0,value:t}:{value:[].concat(Y(t),[u.value])}},[],t):tt(function(t,r){return e&&(e=!!n(r))?[].concat(Y(t),[r]):t},[],Array.from(t))}),st=u(function(n,t){return tt(function(t,e){return null==t&&n(e)?e:t},null,t)}),vt=u(function(n,t){return st(n,Array.from(t).reverse())}),yt=u(function(n,t){return m(n)&&!m(n.empty)?tt(function(t,e){return t.concat(n(e))},n(t[0]),t.slice(1)):C(n)?tt(function(n,t){return n.concat(n.of(t))},n,t):tt(function(t,e){return t.concat(n.of(e))},n.empty(),t)}),ht=u(function(n,t){if(q(n))return n.equals(t);if(null==n)return null==t;if(null==t)return null==n;var e=n.constructor.name;if(e===t.constructor.name)switch(e){case"Number":case"Function":case"String":case"Boolean":case"Symbol":case"Promise":return n===t;case"Date":return n.valueOf()===t.valueOf();case"RegExp":return n.toString()===t.toString();case"Array":return n.length===t.length&&n.every(function(n,e){return ht(n,t[e])});case"Object":return Object.keys(n).every(function(e){return ht(n[e],t[e])})&&Object.keys(t).every(function(e){return ht(t[e],n[e])});case"Set":case"Map":return ht(Mn(n.entries()),Mn(t.entries()));case"Error":case"TypeError":case"RangeError":case"SyntaxError":case"ReferenceError":return n.name===t.name&&n.message===t.message;default:return!1}return!1}),pt=u(function(n,t){return g(t)?t.some(ht(n)):w(t)?Object.keys(t).some(function(e){return ht(n,t[e])}):!!x(t)&&t.has(n)}),dt=u(function(n,t){if(m(n))return _(t)?t.map(n):w(t)?Object.keys(t).reduce(function(e,r){return e[r]=n(t[r],r,t),e},{}):I(t)?Array.from(t).map(n):t;throw"operators::map awaits a function as first argument but saw "+n}),kt=u(function(n,t){if(m(n))return _(t)?t.map(n):w(t)?dt(n,t):n(t);if(F(n))return _(t)?n.ap(t):w(t)?n.ap({map:function(n){return dt(n,t)}}):n.ap([t])[0];throw"operators::ap awaits apply/function as first argument but saw "+n}),mt=function(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(m(n.flat))return n.flat(t?1/0:void 0);if(m(n.flatten))return n.flatten();if(w(n)&&!m(n.flatten))return n;if(g(n)){if(!t)return n.reduce(function(n,t){return n.concat(t)},[]);var e=tn(function(n,t){return t.length<1?n:g(t[0])?$(e,n,[].concat(Y(t[0]),Y(t.slice(1)))):$(e,[].concat(Y(n),[t[0]]),t.slice(1))});return e([],n)}throw"operators::flatten awaits Monad or array but saw "+n},wt=mt,gt=u(function(n,t){if(m(n))return m(t.flatMap)?t.flatMap(n):wt(dt(n,t),!1);throw"operators::flatMap awaits function as 1. argument but saw "+n}),bt=o(function(n,t,e){if(m(n)&&m(t.of)){if(m(e.traverse))return e.traverse(n,t);if(g(e))return e.reduce(function(t,e){return n(e).map(function(n){return function(t){return t.concat([n])}}).ap(t)},t.of([]));throw"operators::traverse cannot act on "+e}throw"operators::traverse awaits function & applicative, saw "+[n,t]}),Ot=u(function(n,t){return bt(function(n){return n},n,t)}),At=function(n){return{value:n,map:function(){return this}}},St=function n(t){return{value:t,map:function(e){return n(e(t))}}},Mt=function(n,t){return function(){return n(t.apply(void 0,arguments))}},xt=dn(function(n,t,e,r,u){return dt(function(n){return t(e,n,u)},r(n(e,u)))}),Pt=xt(Rn,En),jt=dn(function(n,t){return n(At)(t).value}),Rt=dn(function(n,t,e){return n(function(n){return St(t(n))})(e).value}),Et=dn(function(n,t,e){return Rt(n,function(){return t},e)}),It=function(){for(var n=arguments.length,t=Array(n),e=0;e<n;e++)t[e]=arguments[e];return t.reduce(function(n,t){return Pn(t,n)||(n[t]=Pt(t)),n},{index:Pt})},Nt=dn(function(n,t){return St(dt(Mt(Rn("value"),n),t))}),Tt="@@transducer/step",Lt="@@transducer/init",qt="@@transducer/result";n.isReduced=function(n){return!a(n)&&n.reduced},n.reduce=function(n){return{value:n,reduced:!0}},n.deref=function(n){return n&&void 0!==n.value?n.value:null};var _t=dn(function(t,e,r){var u=m(t)?n(t):t,o=e;if(w(r)&&!N(r)){var i=Object.keys(r),a=!0,f=!1,c=void 0;try{for(var l,s=i[Symbol.iterator]();!(a=(l=s.next()).done);a=!0){var v=l.value;if(o=u[Tt](o,[r[v],v]),n.isReduced(o)){o=n.deref(o);break}}}catch(n){f=!0,c=n}finally{try{!a&&s.return&&s.return()}finally{if(f)throw c}}return u[qt](o)}var y=!0,h=!1,p=void 0;try{for(var d,k=r[Symbol.iterator]();!(y=(d=k.next()).done);y=!0){var g=d.value;if(o=u[Tt](o,g),n.isReduced(o)){o=n.deref(o);break}}}catch(n){h=!0,p=n}finally{try{!y&&k.return&&k.return()}finally{if(h)throw p}}return m(r.return)&&r.return(),u[qt](o)}),Ft=dn(function(t,e,r,u){return _t(t(m(e)?n(e):e),r,u)}),Ut=dn(function(n,t,e){if(g(n))return Ft(t,function(n,t){return[].concat(Y(n),[t])},n,e);if(w(n))return Ft(t,function(n,t){var e=X(t,2),r=e[0],u=e[1],o=Object.assign({},n);return o[u]=r,o},n,e);if(v(n)||s(n))return Ft(t,function(n,t){return n+t},n,e);throw"transducers::into got unknown inital value, use ::transduce with a special step function"}),zt=function(n){return function(t){var e;return e={},H(e,Lt,function(){return t[Lt]()}),H(e,Tt,function(e,r){return t[Tt](e,n(r))}),H(e,qt,function(n){return t[qt](n)}),e}},Vt=function(n){return function(t){var e;return e={},H(e,Lt,function(){return t[Lt]()}),H(e,Tt,function(e,r){return n(r)?t[Tt](e,r):e}),H(e,qt,function(n){return t[qt](n)}),e}},Wt=function(t){var e;return e={},H(e,Lt,function(){return t[Lt]()}),H(e,Tt,function(e,r){var u;return _t((u={},H(u,Lt,function(){return t[Lt]()}),H(u,Tt,function(e,r){var u=t[Tt](e,r);return n.isReduced(u)?n.deref(u):u}),H(u,qt,function(n){return n}),u),e,r)}),H(e,qt,function(n){return t[qt](n)}),e},Ct=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){var e,r=n;return e={},H(e,Lt,function(){return t[Lt]()}),H(e,Tt,function(n,e){return r>0?(r-=1,n):t[Tt](n,e)}),H(e,qt,function(n){return t[qt](n)}),e}},Dt=function(n){return function(t){var e,r=!0,u=!1;return e={},H(e,Lt,function(){return t[Lt]()}),H(e,Tt,function(e,o){return!u&&(r=!!n(o))?e:(u=!0,t[Tt](e,o))}),H(e,qt,function(n){return t[qt](n)}),e}},Bt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(e){var r,u=0;return r={},H(r,Lt,function(){return e[Lt]()}),H(r,Tt,function(r,o){return u<t?(u+=1,e[Tt](r,o)):n.reduce(r)}),H(r,qt,function(n){return e[qt](n)}),r}},Gt=function(t){return function(e){var r,u=!0;return r={},H(r,Lt,function(){return e[Lt]()}),H(r,Tt,function(r,o){return u=!!t(o),u?e[Tt](r,o):n.reduce(r)}),H(r,qt,function(n){return e[qt](n)}),r}},Jt=function(n){var t;return t={},H(t,Lt,function(){return n[Lt]()}),H(t,Tt,function(t,e){return a(e)?t:n[Tt](t,e)}),H(t,qt,function(t){return n[qt](t)}),t},Ht=function(n){var t,e=Object.create(null);return t={},H(t,Lt,function(){return n[Lt]()}),H(t,Tt,function(t,r){return e[r]?t:(e[r]=!0,n[Tt](t,r))}),H(t,qt,function(t){return n[qt](t)}),t},Kt=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){var e,r,u=[];return e={},H(e,Lt,function(){return t[Lt]()}),H(e,Tt,function(e,o){return u.length<n?(u.push(o),e):(r=t[Tt](e,u),u=[o],r)}),H(e,qt,function(n){return u.length>0?t[qt](t[Tt](n,u)):t[qt](n)}),e}},Qt=function(n){return function(t){var e,r,u,o,i=[];return e={},H(e,Lt,function(){return t[Lt]()}),H(e,Tt,function(e,a){return u=n(a),i.length<1?(o=u,i.push(a),e):o===u?(i.push(a),e):(o=u,r=t[Tt](e,i),i=[a],r)}),H(e,qt,function(n){return i.length>0?t[qt](t[Tt](n,i)):t[qt](n)}),e}},Xt=Object.freeze({fold:_t,transduce:Ft,into:Ut,map:zt,filter:Vt,flatten:Wt,drop:Ct,dropWhile:Dt,take:Bt,takeWhile:Gt,keep:Jt,unique:Ht,partition:Kt,partitionWith:Qt}),Yt=Symbol("MonoidValue"),Zt=(function(){function n(){G(this,n),this[Yt]=null}J(n,[{key:"equals",value:function(t){return n.is(t)}},{key:"concat",value:function(n){return n}},{key:"fold",value:function(n){return n(this.value)}},{key:"value",get:function(){return this[Yt]},set:function(n){this[Yt]=null}}],[{key:"empty",value:function(){return new n}},{key:"of",value:function(){return new n}},{key:"is",value:function(t){return n.prototype.isPrototypeOf(t)}}])}(),function(){function n(t){G(this,n),this.value=t}return J(n,[{key:"of",value:function(t){return new n(t)}},{key:"equals",value:function(t){return n.is(t)&&t.value===this.value}},{key:"concat",value:function(t){return new n(this.value+t.value)}},{key:"fold",value:function(n){return n(this.value)}},{key:"value",get:function(){return this[Yt]},set:function(n){this[Yt]=n}}],[{key:"empty",value:function(){return new n(0)}},{key:"of",value:function(t){return new n(t)}},{key:"is",value:function(t){return n.prototype.isPrototypeOf(t)}}]),n}()),$t=function(){function n(t){G(this,n),this.value=t}return J(n,[{key:"of",value:function(t){return new n(t)}},{key:"equals",value:function(t){return n.is(t)&&t.value===this.value}},{key:"concat",value:function(t){return new n(this.value+t.value)}},{key:"fold",value:function(n){return n(this.value)}},{key:"value",get:function(){return this[Yt]},set:function(n){this[Yt]=n}}],[{key:"empty",value:function(){return new n("")}},{key:"of",value:function(t){return new n(t)}},{key:"is",value:function(t){return n.prototype.isPrototypeOf(t)}}]),n}(),ne=function(){function n(t){G(this,n),this.value=t}return J(n,[{key:"of",value:function(t){return new n(t)}},{key:"equals",value:function(t){return n.is(t)&&t.value===this.value}},{key:"concat",value:function(t){return new n(this.value*t.value)}},{key:"fold",value:function(n){return n(this.value)}},{key:"value",get:function(){return this[Yt]},set:function(n){this[Yt]=n}}],[{key:"empty",value:function(){return new n(1)}},{key:"of",value:function(t){return new n(t)}},{key:"is",value:function(t){return n.prototype.isPrototypeOf(t)}}]),n}(),te=function(){function n(t){G(this,n),this.value=t}return J(n,[{key:"of",value:function(t){return new n(t)}},{key:"equals",value:function(t){return n.is(t)&&t.value===this.value}},{key:"concat",value:function(t){return new n(this.value&&t.value)}},{key:"fold",value:function(n){return n(this.value)}},{key:"value",get:function(){return this[Yt]},set:function(n){this[Yt]=n}}],[{key:"empty",value:function(){return new n(!0)}},{key:"of",value:function(t){return new n(t)}},{key:"is",value:function(t){return n.prototype.isPrototypeOf(t)}}]),n}(),ee=function(){function n(t){G(this,n),this.value=t}return J(n,[{key:"of",value:function(t){return new n(t)}},{key:"equals",value:function(t){return n.is(t)&&t.value===this.value}},{key:"concat",value:function(t){return new n(this.value||t.value)}},{key:"fold",value:function(n){return n(this.value)}},{key:"value",get:function(){return this[Yt]},set:function(n){this[Yt]=n}}],[{key:"empty",value:function(){return new n(!1)}},{key:"of",value:function(t){return new n(t)}},{key:"is",value:function(t){return n.prototype.isPrototypeOf(t)}}]),n}(),re=function(){function n(t){G(this,n),this.value=t}return J(n,[{key:"of",value:function(t){return new n(function(){return t})}},{key:"equals",value:function(t){return n.is(t)&&t.value===this.value}},{key:"concat",value:function(t){var e=this;return new n(function(n){return t.value(e.value(n))})}},{key:"fold",value:function(n,t){return n(this.value(t))}},{key:"value",get:function(){return this[Yt]},set:function(n){this[Yt]=n}}],[{key:"empty",value:function(){return new n(function(n){return n})}},{key:"of",value:function(t){return new n(function(){return t})}},{key:"is",value:function(t){return n.prototype.isPrototypeOf(t)}}]),n}(),ue=function(){function n(t){G(this,n),this.value=t}return J(n,[{key:"of",value:function(t){return new n(t)}},{key:"equals",value:function(t){return n.is(t)&&t.value===this.value}},{key:"concat",value:function(t){return new n(Math.min(this.value,t.value))}},{key:"fold",value:function(n){return n(this.value)}},{key:"value",get:function(){return this[Yt]},set:function(n){this[Yt]=n}}],[{key:"empty",value:function(){return new n(1/0)}},{key:"of",value:function(t){return new n(t)}},{key:"is",value:function(t){return n.prototype.isPrototypeOf(t)}}]),n}(),oe=function(){function n(t){G(this,n),this.value=t}return J(n,[{key:"of",value:function(t){return new n(t)}},{key:"equals",value:function(t){return n.is(t)&&t.value===this.value}},{key:"concat",value:function(t){return new n(Math.max(this.value,t.value))}},{key:"fold",value:function(n){return n(this.value)}},{key:"value",get:function(){return this[Yt]},set:function(n){this[Yt]=n}}],[{key:"empty",value:function(){return new n(-1/0)}},{key:"of",value:function(t){return new n(t)}},{key:"is",value:function(t){return n.prototype.isPrototypeOf(t)}}]),n}(),ie=function(){function n(t){G(this,n),this.value=t}return J(n,[{key:"of",value:function(t){return new n(t)}},{key:"equals",value:function(t){return n.is(t)&&t.value===this.value}},{key:"concat",value:function(t){return new n(Object.assign({},this.value,t.value))}},{key:"fold",value:function(n){return n(this.value)}},{key:"value",get:function(){return this[Yt]},set:function(n){this[Yt]=n}}],[{key:"empty",value:function(){return new n({})}},{key:"of",value:function(t){return new n(t)}},{key:"is",value:function(t){return n.prototype.isPrototypeOf(t)}}]),n}(),ae=Symbol("TypeValue"),fe=Symbol("TypeName"),ce={NO_NAME:"Type awaits string and definition as arguments.\n>   Name is missing or empty string.",NO_DEF:"Type awaits string and definition as argument.\n>   Definition is missing or none of:\n    - Function (x) => boolean\n    - Object of pairs {key: (x) => boolean}\n    - Array of functions [(x) => boolean]"},le=function(n,t){return!(!m(n)||!n(t))||(T(m,n)&&g(t)?n.length>1?n.length===t.length&&n.every(function(n,e){return n(t[e])}):t.every(function(t){return n[0](t)}):!(!w(n)||!w(t))&&Object.keys(n).reduce(function(e,r){return e&&!a(t[r])&&n[r](t[r])},!0))},se=function(n,t){function e(r){var u=Ln(e,this);if(u[fe]=n,le(t,r))return u[ae]=r,u;throw"Type "+n+" got invalid value "+JSON.stringify(r)}if(!s(n)||""===n.trim())throw ce.NO_NAME;if(!m(t)&&!w(t)&&!T(m,t))throw ce.NO_DEF;return Object.defineProperties(e,{of:{writable:!1,enumerable:!0,value:function(n){return new e(n)}},is:{writable:!1,enumerable:!0,value:function(n){return e.prototype.isPrototypeOf(n)}}}),Object.defineProperties(e.prototype,{toString:{writable:!1,enumerable:!0,value:function(){var t=this;return w(this[ae])?n+"("+Object.keys(this[ae]).reduce(function(n,e){return n?n+", "+t[ae][e].toString():t[ae][e].toString()},"")+")":n+"("+this[ae].toString()+")"}},valueOf:{writable:!1,enumerable:!0,value:function(){return this[ae]}},fold:{writable:!1,enumerable:!0,value:function(t,e){if(m(t))return t(this[ae],e);throw n+"::fold expected argument to be function but saw "+t}}}),e},ve=dn(se);ve.isType=function(n){return!a(n)&&!a(n[ae])&&s(n[fe])},ve.cata=dn(function(n,t){if(null!=t){if(ve.isType(t)&&m(n[t[fe]]))return n[t[fe]](t[ae]);if(m(n[t.constructor.name]))return n[t.constructor.name](t)}if(m(n.orElse))return n.orElse(ve.isType(t)?t[ae]:t);throw"Type.cata :: Unable to pattern match "+t});var ye=Symbol("MonadicValue"),he=function(){function n(t){G(this,n),this.value=t}return J(n,[{key:"toString",value:function(){return"Identity("+this.value+")"}},{key:"equals",value:function(t){return n.is(t)&&ht(this.value,t.value)}},{key:"map",value:function(t){if(m(t))return new n(t(this.value));throw"Identity::map expects argument to be function but saw "+t}},{key:"of",value:function(t){return n.of(t)}},{key:"ap",value:function(n){if(m(n.map))return n.map(this.value);throw"Identity::ap expects argument to be Functor but saw "+n}},{key:"flatMap",value:function(n){if(m(n))return this.map(n).flat();throw"Identity::flatMap expects argument to be function but saw "+n}},{key:"flat",value:function(){return this.value}},{key:"flatten",value:function(){return this.flat()}},{key:"fold",value:function(n){return n(this.value)}},{key:"traverse",value:function(t,e){if(m(t))return e.of(n.of).ap(this.fold(t));throw"Identity::traverse expects function but saw "+t}},{key:"sequence",value:function(n){return this.traverse(function(n){return n},n)}},{key:"concat",value:function(t){
return n.of(this.value.concat(t.value))}},{key:"value",set:function(n){this[ye]=n},get:function(){return this[ye]}}],[{key:"is",value:function(t){return n.prototype.isPrototypeOf(t)}},{key:"fromMaybe",value:function(t){return t.fold(n.of,n.of)}},{key:"fromEither",value:function(t){return t.fold(n.of,n.of)}},{key:"fromList",value:function(t){return n.of(t.value[0])}},{key:"fromIO",value:function(t){return n.of(t.try())}},{key:"of",value:function(t){return new n(t)}}]),n}(),pe=Symbol("MonadicValue"),de=function(){function n(t){G(this,n),this.value=t}return J(n,[{key:"toString",value:function(){return"Maybe"}},{key:"isSome",value:function(){return null!=this.value}},{key:"equals",value:function(t){return n.is(t)&&ht(this.value,t.value)}},{key:"map",value:function(t){return this.fold(function(){return new me},function(e){return n.of(t(e))})}},{key:"of",value:function(t){return n.of(t)}},{key:"ap",value:function(n){var t=this;return this.fold(function(){return t},function(t){return n.map(t)})}},{key:"flatMap",value:function(n){return this.map(n).flat()}},{key:"flat",value:function(){return this.isSome()?this.value:this}},{key:"flatten",value:function(){return this.flat()}},{key:"orGet",value:function(n){return this.isSome()?this.value:n}},{key:"orElse",value:function(t){return this.isSome()?this:n.of(t)}},{key:"fold",value:function(n,t){return this.isSome()?t(this.value):n(this.value)}},{key:"cata",value:function(n){var t=n.None,e=n.Some;return this.fold(t,e)}},{key:"traverse",value:function(t,e){if(m(t))return this.fold(function(){return e.of(new me)},function(e){return t(e).map(n.of)});throw"Maybe::traverse expects function but saw "+t}},{key:"sequence",value:function(n){return this.traverse(function(n){return n},n)}},{key:"biMap",value:function(t,e){if(m(t)&&m(e))return n.of(this.fold(t,e));throw"Maybe::biMap expects functions but saw "+t+", "+e}},{key:"concat",value:function(n){return this.fold(function(){return n},function(t){return n.isSome()?ke.of(t.concat(n.value)):ke.of(t)})}}],[{key:"None",value:function(){return new me}},{key:"Some",value:function(n){return new ke(n)}},{key:"fromIdentity",value:function(t){return t.fold(n.of)}},{key:"fromEither",value:function(n){return n.fold(me.of,ke.of)}},{key:"fromList",value:function(t){return n.of(t.value[0])}},{key:"fromIO",value:function(t){return t.fold(function(t){return Error.prototype.isPrototypeOf(t)?new me:n.of(t)})}},{key:"is",value:function(t){return n.prototype.isPrototypeOf(t)}},{key:"of",value:function(n){return a(n)?new me:new ke(n)}},{key:"empty",value:function(){return new me}}]),n}(),ke=function(n){function t(n){return G(this,t),Q(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n))}return K(t,n),J(t,[{key:"toString",value:function(){return"Some("+this.value+")"}},{key:"value",set:function(n){this[pe]=n},get:function(){return this[pe]}}],[{key:"of",value:function(n){return new t(n)}}]),t}(de),me=function(n){function t(){return G(this,t),Q(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,null))}return K(t,n),J(t,[{key:"toString",value:function(){return"None"}},{key:"value",set:function(n){this[pe]=n},get:function(){return this[pe]}}],[{key:"of",value:function(){return new t}}]),t}(de),we=Symbol("MonadicValue"),ge=Symbol("Either.isRight"),be=function(n){return!a(n)&&!Error.prototype.isPrototypeOf(n)},Oe=function(){function n(t,e){if(G(this,n),be(e))return this.value=e,this[ge]=!0,this;this.value=null!=t?t:null,this[ge]=!1}return J(n,[{key:"toString",value:function(){return this.isRight()?"Right("+this.value+")":"Left("+this.value+")"}},{key:"isRight",value:function(){return!!this[ge]}},{key:"equals",value:function(t){return n.is(t)&&ht(this.value,t.value)}},{key:"ap",value:function(n){var t=this;return this.fold(function(){return t},function(t){return n.map(t)})}},{key:"concat",value:function(n){return this.fold(function(){return n},function(t){return n.isRight()?Ae.of(t.concat(n.value)):Ae.of(t)})}},{key:"map",value:function(n){if(m(n))return this.fold(function(n){return Se.of(n)},function(t){return Ae.of(n(t))})}},{key:"mapLeft",value:function(n){return this.fold(function(t){return Se.of(n(t))},function(n){return Ae.of(n)})}},{key:"flatMap",value:function(n){return this.map(n).flat()}},{key:"flat",value:function(){return this.isRight()?this.value:this}},{key:"flatten",value:function(){return this.flat()}},{key:"fold",value:function(n,t){return this.isRight()?t(this.value):n(this.value)}},{key:"cata",value:function(n){var t=n.Left,e=n.Right;return this.fold(t,e)}},{key:"traverse",value:function(n,t){if(m(n))return this.fold(function(n){return t.of(Se.of(n))},function(t){return n(t).map(Ae.of)});throw"Either::traverse expects function but saw "+n}},{key:"sequence",value:function(n){return this.traverse(function(n){return n},n)}},{key:"biMap",value:function(n,t){return this.fold(function(t){return Se.of(n(t))},function(n){return Ae.of(t(n))})}},{key:"swap",value:function(){return this.fold(function(n){return Ae.of(n)},function(n){return Se.of(n)})}},{key:"orGet",value:function(n){return this.fold(function(){return n},function(n){return n})}},{key:"orElse",value:function(n){return this.fold(function(){return be(n)?Ae.of(n):Se.of(n)},function(n){return Ae.of(n)})}},{key:"value",set:function(n){this[we]=n},get:function(){return this[we]}}],[{key:"Left",value:function(t){return new n(t,null)}},{key:"Right",value:function(t){return new n(null,t)}},{key:"fromNullable",value:function(n){return be(n)?Ae.of(n):Se.of(n)}},{key:"fromIdentity",value:function(t){return t.fold(n.fromNullable)}},{key:"fromMaybe",value:function(t){return t.fold(n.empty,n.of)}},{key:"fromList",value:function(t){return be(t.value[0])?n.Right(t.value[0]):n.Left(t.value[0])}},{key:"fromIO",value:function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),u=1;u<e;u++)r[u-1]=arguments[u];return n.try(t.run).apply(void 0,r)}},{key:"try",value:function(n,t){if(m(n))return e(n.length,function(){try{return Ae.of(n.apply(void 0,arguments))}catch(n){return void 0!==t?Ae.of(t):Se.of(n)}});throw"Either::try expects argument to be function but saw "+n}},{key:"is",value:function(t){return n.prototype.isPrototypeOf(t)}},{key:"of",value:function(n){return Ae.of(n)}},{key:"empty",value:function(){return Se.of(null)}}]),n}(),Ae=function(n){function t(n){return G(this,t),Q(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,null,n))}return K(t,n),J(t,[{key:"toString",value:function(){return"Right("+this.value+")"}},{key:"value",set:function(n){this[we]=n},get:function(){return this[we]}}],[{key:"of",value:function(n){return new t(n)}}]),t}(Oe),Se=function(n){function t(n){return G(this,t),Q(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,null))}return K(t,n),J(t,[{key:"toString",value:function(){return"Left("+this.value+")"}},{key:"value",set:function(n){this[we]=n},get:function(){return this[we]}}],[{key:"of",value:function(n){return new t(n)}}]),t}(Oe),Me=Symbol("MonadicValue"),xe=function(){function n(t){G(this,n),this.value=t}return J(n,[{key:Symbol.iterator,value:function(){return this.value[Symbol.iterator]()}},{key:"toString",value:function(){return"List(["+this.value+"])"}},{key:"toArray",value:function(){return this.value}},{key:"equals",value:function(t){return n.is(t)&&(t===this||t.value===this.value||t.length===this.length&&ht(this.value,t.value))}},{key:"map",value:function(t){if(m(t))return new n(this.value.map(t));throw"List::map expects argument to be function but saw "+t}},{key:"of",value:function(){return n.of.apply(n,arguments)}},{key:"ap",value:function(n){if(m(n.map))return n.map(this.value[0]);throw"List::ap expects argument to be Functor but saw "+n}},{key:"flatMap",value:function(n){if(m(n))return this.map(n).flat();throw"List::flatMap expects argument to be function but saw "+n}},{key:"flat",value:function(){return this.value.reduce(function(n,t){return n.concat(t)})}},{key:"flatten",value:function(){return this.flat()}},{key:"fold",value:function(n,t){return this.value.reduce(n,t)}},{key:"foldRight",value:function(n,t){return this.value.reduceRight(n,t)}},{key:"traverse",value:function(t,e){if(m(t))return this.value.reduce(function(e,r){return t(r).map(function(t){return function(e){return e.concat(n.of(t))}}).ap(e)},e.of(n.empty()));throw"List::traverse expects function but saw "+t}},{key:"sequence",value:function(n){return this.traverse(function(n){return n},n)}},{key:"concat",value:function(t){return new n(this.value.concat(t.value))}},{key:"value",set:function(n){this[Me]=g(n)?n:[n]},get:function(){return this[Me]}},{key:"length",set:function(n){},get:function(){return this.value.length}}],[{key:"is",value:function(t){return n.prototype.isPrototypeOf(t)}},{key:"fromIdentity",value:function(t){return t.fold(n.of)}},{key:"fromMaybe",value:function(t){return t.fold(n.empty,n.of)}},{key:"fromEither",value:function(t){return t.fold(n.empty,n.of)}},{key:"fromIO",value:function(t){var e=t.try();return null==e?n.empty():n.of(e)}},{key:"fromArray",value:function(t){return new n(t)}},{key:"empty",value:function(){return new n([])}},{key:"of",value:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return new n(e)}}]),n}(),Pe=Symbol("MonadicValue"),je=function(){function n(t){G(this,n),this.run=t}return J(n,[{key:"toString",value:function(){return"IO"}},{key:"equals",value:function(t){return n.prototype.isPrototypeOf(t)&&this.run===t.run}},{key:"map",value:function(t){var e=this;if(m(t))return new n(function(n){return t(e.run(n))});throw"IO::map expects argument to be function but saw "+t}},{key:"of",value:function(t){return n.of(t)}},{key:"ap",value:function(n){if(m(n.map))return n.map(this.run());throw"IO::ap expects argument to be Functor but saw "+n}},{key:"flatMap",value:function(n){if(m(n))return this.map(n).flat();throw"IO::flatMap expects argument to be function but saw "+n}},{key:"flat",value:function(){return this.run()}},{key:"flatten",value:function(){return this.flat()}},{key:"fold",value:function(n,t){return n(this.run(t))}},{key:"traverse",value:function(t,e){if(m(t))return e.of(n.of).ap(this.fold(t));throw"IO::traverse expects function but saw "+t}},{key:"sequence",value:function(n){return this.traverse(function(n){return n},n)}},{key:"concat",value:function(t){var e=this;return new n(function(n){return t.run(e.run(n))})}},{key:"try",value:function(n){try{return this.fold(function(n){return n},n)}catch(n){return n}}},{key:"run",set:function(n){this[Pe]=n},get:function(){return this[Pe]}}],[{key:"is",value:function(t){return n.prototype.isPrototypeOf(t)}},{key:"fromIdentity",value:function(t){return t.fold(n.of)}},{key:"fromMaybe",value:function(t){return t.fold(n.empty,n.of)}},{key:"fromEither",value:function(t){return t.fold(n.of,n.of)}},{key:"fromList",value:function(t){return n.of(t.value[0])}},{key:"of",value:function(t){return new n(function(){return t})}},{key:"empty",value:function(){return new n(function(n){return n})}}]),n}(),Re=Symbol("MonadicValue"),Ee=Symbol("RunState"),Ie=function(){function n(t){G(this,n),this.compute=t}return J(n,[{key:Ee,value:function(n){return this.compute(n)}},{key:"toString",value:function(){return"State"}},{key:"map",value:function(t){var e=this;if(m(t))return new n(function(n){var r=e[Ee](n),u=X(r,2),o=u[0],i=u[1];return[t(o),i]});throw"State::map expects argument to be function but saw "+t}},{key:"of",value:function(t){return n.of(t)}},{key:"ap",value:function(n){if(m(n.map))return this.flatMap(n.map.bind(n));throw"State::ap expects argument to be Functor but saw "+n}},{key:"flatMap",value:function(n){if(m(n))return this.map(n).flat();throw"State::flatMap expects argument to be function but saw "+n}},{key:"flat",value:function(){var t=this;return new n(function(n){var e=t[Ee](n),r=X(e,2),u=r[0],o=r[1];return u[Ee](o)})}},{key:"flatten",value:function(){return this.flat()}},{key:"fold",value:function(n,t){return n(this.run(t))}},{key:"foldExec",value:function(n,t){return n(this.exec(t))}},{key:"run",value:function(n){return this[Ee](n)[0]}},{key:"exec",value:function(n){return this[Ee](n)[1]}},{key:"compute",set:function(n){this[Re]=n},get:function(){return this[Re]}}],[{key:"get",value:function(){return new n(function(n){return[n,n]})}},{key:"put",value:function(t){return new n(function(){return[null,t]})}},{key:"modify",value:function(t){return n.get().flatMap(function(e){return n.put(t(e))})}},{key:"is",value:function(t){return n.prototype.isPrototypeOf(t)}},{key:"of",value:function(t){return new n(function(n){return[t,n]})}}]),n}(),Ne=Symbol("MonadicFork"),Te=Symbol("MonadicCleanUp"),Le=function(n){return"undefined"!=typeof setImmediate?setImmediate(n):"undefined"!=typeof process?process.nextTick(n):setTimeout(n,0)},qe=function(){},_e=function(){function n(t,e){G(this,n),this.run=t,this.cleanUp=e}return J(n,[{key:"toString",value:function(){return"Task"}},{key:"toPromise",value:function(t){return n.toPromise(this,t)}},{key:"equals",value:function(t){return n.prototype.isPrototypeOf(t)&&t.run===this.run}},{key:"map",value:function(t){var e=this;if(m(t))return new n(function(n,r){return e.run(function(t){return n(t)},function(n){return r(t(n))})},this.cleanUp);throw"Task::map expects argument to be function but saw "+t}},{key:"of",value:function(t){return n.of(t)}},{key:"ap",value:function(t){var e=this.run,r=t.run,u=this.cleanUp,o=t.cleanUp,i=function(n,t){u(n),o(t)};return new n(function(n,t){var u=!1,o=!1,a=!1,f=!1,c=[],l=!1,s=function(t){if(!l)return l=!0,n(t)},v=function(n){return function(e){if(!l)return n(e),f&&o?(Le(function(){return i(c[0],c[1])}),t(u(a))):e}},y=e(s,v(function(n){o=!0,u=n})),h=r(s,v(function(n){f=!0,a=n}));return c=[y,h]},i)}},{key:"flatMap",value:function(t){var e=this;if(m(t))return new n(function(n,r){return e.run(function(t){return n(t)},function(e){return t(e).run(n,r)})},this.cleanUp);throw"Task::flatMap expects argument to be function but saw "+t}},{key:"flat",value:function(){var t=this;return new n(function(n,e){return t.run().run(n,e)},this.cleanUp)}},{key:"flatten",value:function(){return this.flat()}},{key:"fold",value:function(n,t){if(m(t)&&m(n))return this.run(n,t);throw"Task::fold expects arguments to be functions but saw "+[n,t]}},{key:"cata",value:function(n){var t=n.Reject,e=n.Resolve;if(m(e)&&m(t))return this.fold(t,e);throw"Task::cata expected Object of {Reject, Resolve}"}},{key:"biMap",value:function(t,e){var r=this;if(m(e)&&m(t))return new n(function(n,t){return r.fold(n,t)},this.cleanUp);throw"Task::biMap expected arguments to be functions but saw "+[t,e]}},{key:"swap",value:function(){var t=this;return new n(function(n,e){return t.run(e,n)},this.cleanUp)}},{key:"mapRejected",value:function(t){var e=this;if(m(t))return new n(function(n,r){return e.run(function(e){return n(t(e))},r)},this.cleanUp)}},{key:"concat",value:function(t){if(n.is(t)){var e=this.run,r=t.run,u=this.cleanUp,o=t.cleanUp,i=function(n,t){u(n),o(t)};return new n(function(n,t){var u=void 0,o=!1,a=void 0,f=void 0,c=function(n){return function(t){o||(o=!0,Le(function(){return i(u[0],u[1])}),n(t))}};return a=e(c(n),c(t)),f=r(c(n),c(t)),u=[a,f]},i)}throw"Task::concat expected argument to be Task but saw "+t}},{key:"orElse",value:function(t){var e=this;if(m(t))return new n(function(n,r){return e.run(function(e){return t(e).run(n,r)},r)},this.cleanUp);throw"Task::orElse expected argument to be function but saw "+t}},{key:"run",set:function(n){this[Ne]=n},get:function(){return this[Ne]}},{key:"cleanUp",set:function(n){this[Te]=n||qe},get:function(){return this[Te]}}],[{key:"is",value:function(t){return n.prototype.isPrototypeOf(t)}},{key:"resolve",value:function(t){return n.of(t)}},{key:"reject",value:function(t){return new n(function(n){return n(t)})}},{key:"fromIdentity",value:function(t){return new n(function(n,e){return t.fold(e)})}},{key:"fromMaybe",value:function(t){return new n(function(n,e){t.fold(n,e)})}},{key:"fromEither",value:function(t){return new n(function(n,e){t.fold(n,e)})}},{key:"fromList",value:function(t){return new n(function(n,e){e(t.value[0])})}},{key:"fromIO",value:function(t){return new n(function(n,e){var r=t.try();Error.prototype.isPrototypeOf(r)?n(r):e(r)})}},{key:"fromFunction",value:function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),u=1;u<e;u++)r[u-1]=arguments[u];return r.length<t.length-1?function(){for(var e=arguments.length,u=Array(e),o=0;o<e;o++)u[o]=arguments[o];return n.fromFunction.apply(n,[t].concat(r,u))}:new n(function(n,e){try{t.apply(void 0,[e].concat(r))}catch(t){n(t)}})}},{key:"fromNodeCPS",value:function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),u=1;u<e;u++)r[u-1]=arguments[u];return r.length<t.length-1?function(){for(var e=arguments.length,u=Array(e),o=0;o<e;o++)u[o]=arguments[o];return n.fromNodeCPS.apply(n,[t].concat(r,u))}:new n(function(n,e){t.apply(void 0,r.concat([function(t,r){t?n(t):e(r)}]))})}},{key:"fromPromise",value:function(t){return new n(function(n,e){t.then(e).catch(n)})}},{key:"toPromise",value:function(n,t){if(m(t))return t(function(t,e){n.run(e,t)});if(!c(Promise)&&m(Promise))return new Promise(function(t,e){n.run(e,t)});throw"Cannot create Promise from "+n}},{key:"race",value:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.reduce(function(n,t){return n.concat(t)},n.empty())}},{key:"all",value:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return new n(function(n,t){var r=[],u=e.length;e.forEach(function(e,o){e.run(n,function(n){r[o]=n,(u-=1)<1&&t(r)})})})}},{key:"of",value:function(t){return new n(function(n,e){return e(t)})}},{key:"empty",value:function(){return new n(function(){})}}]),n}(),Fe=dn(function(n,t,e){return t.map(n).ap(e)}),Ue=dn(function(n,t,e,r){return t.map(n).ap(e).ap(r)}),ze=dn(function(n,t,e,r,u){return t.map(n).ap(e).ap(r).ap(u)}),Ve=dn(function(n,t,e,r,u,o){return t.map(n).ap(e).ap(r).ap(u).ap(o)}),We={liftA2:Fe,liftA3:Ue,liftA4:ze,liftA5:Ve,Identity:he,Task:_e,State:Ie,Maybe:de,Some:ke,None:me,Either:Oe,Left:Se,Right:Ae,List:xe,IO:je},Ce=dn(function(n,t){return n+t}),De=dn(function(n,t){return t-n}),Be=dn(function(n,t){return n*t}),Ge=dn(function(n,t){return n?t/n:0}),Je=dn(function(n,t){return n?t%n:0}),He=dn(function(n,t){var e=tn(function(n,t){var e=n%t;return 0===e?t:$(He,t,e)});return n&&t?e(n,t):0}),Ke=dn(function(n,t){return n&&t?Math.abs(n*t)/He(n,t):0}),Qe=function(){for(var n=arguments.length,t=Array(n),e=0;e<n;e++)t[e]=arguments[e];return t.reduce(function(n,t){if(v(t))return n+t;if(I(t)){var e=tn(function(n,t){return t.length<1?n:$(e,n+(v(t[0])?t[0]:0),t.slice(1))});return e(n,[].concat(Y(t)))}return n},0)},Xe=function(){for(var n=arguments.length,t=Array(n),e=0;e<n;e++)t[e]=arguments[e];return t.reduce(function(n,t){if(v(t))return n<1?t:n*t;if(I(t)){var e=tn(function(n,t){return t.length<1?n:$(e,n*(v(t[0])?t[0]:1),t.slice(1))});return e(n<1?1:n,[].concat(Y(t)))}return n},0)},Ye=tn,Ze=$,$e=e,nr=r,tr=u,er=o,rr=i,ur=Ce,or=De,ir=Be,ar=Ge,fr=Je,cr=He,lr=Ke,sr=Qe,vr=Xe,yr=a,hr=f,pr=l,dr=c,kr=s,mr=v,wr=y,gr=h,br=p,Or=d,Ar=k,Sr=m,Mr=w,xr=M,Pr=x,jr=j,Rr=P,Er=g,Ir=b,Nr=O,Tr=A,Lr=S,qr=R,_r=E,Fr=I,Ur=N,zr=T,Vr=L,Wr=q,Cr=_,Dr=F,Br=U,Gr=z,Jr=V,Hr=W,Kr=B,Qr=D,Xr=en,Yr=rn,Zr=un,$r=an,nu=fn,tu=cn,eu=ln,ru=on,uu=sn,ou=yn,iu=hn,au=pn,fu=dn,cu=kn,lu=mn,su=wn,vu=bn,yu=gn,hu=On,pu=ve,du=Zt,ku=$t,mu=ne,wu=ue,gu=oe,bu=ie,Ou=re,Au=te,Su=ee,Mu=We.Identity,xu=We.IO,Pu=We.Maybe,ju=We.None,Ru=We.Some,Eu=We.Either,Iu=We.Left,Nu=We.Right,Tu=We.List,Lu=We.State,qu=We.Task,_u=We.liftA2,Fu=We.liftA3,Uu=We.liftA4,zu=We.liftA5,Vu=xt,Wu=It,Cu=Nt,Du=jt,Bu=Rt,Gu=Et,Ju=xn,Hu=Rn,Ku=jn,Qu=Pn,Xu=In,Yu=Nn,Zu=Ln,$u=_n,no=zn,to=Fn,eo=Vn,ro=Un,uo=Wn,oo=Cn,io=Dn,ao=Bn,fo=Jn,co=Hn,lo=Kn,so=Qn,vo=Gn,yo=Xn,ho=Yn,po=dt,ko=mt,mo=wt,wo=gt,go=En,bo=ht,Oo=kt,Ao=Zn,So=$n,Mo=Tn,xo=tt,Po=et,jo=rt,Ro=qn,Eo=ut,Io=ot,No=it,To=at,Lo=ft,qo=ct,_o=lt,Fo=st,Uo=vt,zo=yt,Vo=nt,Wo=bt,Co=Ot,Do=pt,Bo=Xt;return Object.freeze({trampoline:Ye,suspend:Ze,aritize:$e,monadic:nr,dyadic:tr,triadic:er,tetradic:rr,add:ur,subtract:or,multiply:ir,divide:ar,modulo:fr,gcd:cr,lcm:lr,sum:sr,product:vr,isNil:yr,isAny:hr,isNull:pr,isVoid:dr,isString:kr,isNumber:mr,isInt:wr,isFloat:gr,isBool:br,isTrue:Or,isFalse:Ar,isFunc:Sr,isObject:Mr,isMap:xr,isSet:Pr,isWeakMap:jr,isWeakSet:Rr,isArray:Er,isDate:Ir,isRegex:Nr,isNode:Tr,isNodeList:Lr,isPromise:qr,isIterator:_r,isIterable:Fr,isGenerator:Ur,isArrayOf:zr,isObjectOf:Vr,isSetoid:Wr,isFunctor:Cr,isApply:Dr,isPointed:Br,isFoldable:Gr,isBifunctor:Jr,isSemigroup:Hr,isMonad:Kr,isApplicative:Qr,id:Xr,getter:Yr,tap:Zr,pipe:$r,compose:nu,and:tu,or:eu,by:ru,fixed:uu,once:ou,not:iu,flip:au,curry:fu,curryRight:cu,partial:lu,partialRight:su,given:vu,ifElse:yu,memoize:hu,Type:pu,Additive:du,Char:ku,Multiple:mu,Min:wu,Max:gu,Dict:bu,Fn:Ou,All:Au,Any:Su,Identity:Mu,IO:xu,Maybe:Pu,None:ju,Some:Ru,Either:Eu,Left:Iu,Right:Nu,List:Tu,State:Lu,Task:qu,liftA2:_u,liftA3:Fu,liftA4:Uu,liftA5:zu,lens:Vu,makeLenses:Wu,mappedLens:Cu,view:Du,over:Bu,set:Gu,call:Ju,field:Hu,prop:Ku,has:Qu,merge:Xu,immutable:Yu,instance:Zu,first:$u,last:no,head:to,tail:eo,initial:ro,rest:uo,nth:oo,join:io,split:ao,toUpper:fo,toLower:co,trim:lo,reverse:so,replace:vo,unique:yo,union:ho,map:po,flat:ko,flatten:mo,flatMap:wo,assoc:go,equals:bo,ap:Oo,intersect:Ao,differ:So,pairs:Mo,fold:xo,foldRight:Po,unfold:jo,concat:Ro,range:Eo,filter:Io,keep:No,drop:To,dropWhile:Lo,take:qo,takeWhile:_o,find:Fo,findRight:Uo,foldMap:zo,zip:Vo,traverse:Wo,sequence:Co,elem:Do,transducers:Bo})});
